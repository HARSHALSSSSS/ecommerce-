function uA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Te(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var X2={exports:{}},lp={},Q2={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ic=Symbol.for("react.element"),dA=Symbol.for("react.portal"),fA=Symbol.for("react.fragment"),pA=Symbol.for("react.strict_mode"),hA=Symbol.for("react.profiler"),mA=Symbol.for("react.provider"),xA=Symbol.for("react.context"),gA=Symbol.for("react.forward_ref"),yA=Symbol.for("react.suspense"),vA=Symbol.for("react.memo"),bA=Symbol.for("react.lazy"),Kv=Symbol.iterator;function jA(e){return e===null||typeof e!="object"?null:(e=Kv&&e[Kv]||e["@@iterator"],typeof e=="function"?e:null)}var J2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z2=Object.assign,eS={};function xo(e,t,r){this.props=e,this.context=t,this.refs=eS,this.updater=r||J2}xo.prototype.isReactComponent={};xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tS(){}tS.prototype=xo.prototype;function $0(e,t,r){this.props=e,this.context=t,this.refs=eS,this.updater=r||J2}var M0=$0.prototype=new tS;M0.constructor=$0;Z2(M0,xo.prototype);M0.isPureReactComponent=!0;var Yv=Array.isArray,rS=Object.prototype.hasOwnProperty,D0={current:null},nS={key:!0,ref:!0,__self:!0,__source:!0};function aS(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)rS.call(t,n)&&!nS.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ic,type:e,key:i,ref:o,props:s,_owner:D0.current}}function wA(e,t){return{$$typeof:Ic,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function R0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ic}function NA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xv=/\/+/g;function Oh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NA(""+e.key):t.toString(36)}function ed(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ic:case dA:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Oh(o,0):n,Yv(s)?(r="",e!=null&&(r=e.replace(Xv,"$&/")+"/"),ed(s,t,r,"",function(u){return u})):s!=null&&(R0(s)&&(s=wA(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Yv(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Oh(i,l);o+=ed(i,t,r,c,s)}else if(c=jA(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Oh(i,l++),o+=ed(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cu(e,t,r){if(e==null)return e;var n=[],s=0;return ed(e,n,"","",function(i){return t.call(r,i,s++)}),n}function SA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gt={current:null},td={transition:null},_A={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:td,ReactCurrentOwner:D0};function sS(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:cu,forEach:function(e,t,r){cu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cu(e,function(){t++}),t},toArray:function(e){return cu(e,function(t){return t})||[]},only:function(e){if(!R0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=xo;Ne.Fragment=fA;Ne.Profiler=hA;Ne.PureComponent=$0;Ne.StrictMode=pA;Ne.Suspense=yA;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_A;Ne.act=sS;Ne.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Z2({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=D0.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)rS.call(t,c)&&!nS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ic,type:e.type,key:s,ref:i,props:n,_owner:o}};Ne.createContext=function(e){return e={$$typeof:xA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mA,_context:e},e.Consumer=e};Ne.createElement=aS;Ne.createFactory=function(e){var t=aS.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:gA,render:e}};Ne.isValidElement=R0;Ne.lazy=function(e){return{$$typeof:bA,_payload:{_status:-1,_result:e},_init:SA}};Ne.memo=function(e,t){return{$$typeof:vA,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=td.transition;td.transition={};try{e()}finally{td.transition=t}};Ne.unstable_act=sS;Ne.useCallback=function(e,t){return Gt.current.useCallback(e,t)};Ne.useContext=function(e){return Gt.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Gt.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return Gt.current.useEffect(e,t)};Ne.useId=function(){return Gt.current.useId()};Ne.useImperativeHandle=function(e,t,r){return Gt.current.useImperativeHandle(e,t,r)};Ne.useInsertionEffect=function(e,t){return Gt.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return Gt.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return Gt.current.useMemo(e,t)};Ne.useReducer=function(e,t,r){return Gt.current.useReducer(e,t,r)};Ne.useRef=function(e){return Gt.current.useRef(e)};Ne.useState=function(e){return Gt.current.useState(e)};Ne.useSyncExternalStore=function(e,t,r){return Gt.current.useSyncExternalStore(e,t,r)};Ne.useTransition=function(){return Gt.current.useTransition()};Ne.version="18.3.1";Q2.exports=Ne;var b=Q2.exports;const W=Te(b),kA=uA({__proto__:null,default:W},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA=b,OA=Symbol.for("react.element"),PA=Symbol.for("react.fragment"),AA=Object.prototype.hasOwnProperty,EA=CA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TA={key:!0,ref:!0,__self:!0,__source:!0};function iS(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)AA.call(t,n)&&!TA.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:OA,type:e,key:i,ref:o,props:s,_owner:EA.current}}lp.Fragment=PA;lp.jsx=iS;lp.jsxs=iS;X2.exports=lp;var a=X2.exports,Bm={},oS={exports:{}},wr={},lS={exports:{}},cS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,T){var E=I.length;I.push(T);e:for(;0<E;){var U=E-1>>>1,L=I[U];if(0<s(L,T))I[U]=T,I[E]=L,E=U;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var T=I[0],E=I.pop();if(E!==T){I[0]=E;e:for(var U=0,L=I.length,A=L>>>1;U<A;){var H=2*(U+1)-1,te=I[H],K=H+1,ue=I[K];if(0>s(te,E))K<L&&0>s(ue,te)?(I[U]=ue,I[K]=E,U=K):(I[U]=te,I[H]=E,U=H);else if(K<L&&0>s(ue,E))I[U]=ue,I[K]=E,U=K;else break e}}return T}function s(I,T){var E=I.sortIndex-T.sortIndex;return E!==0?E:I.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,p=3,m=!1,x=!1,y=!1,h=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(I){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=I)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function S(I){if(y=!1,j(I),!x)if(r(c)!==null)x=!0,z(N);else{var T=r(u);T!==null&&G(S,T.startTime-I)}}function N(I,T){x=!1,y&&(y=!1,v(_),_=-1),m=!0;var E=p;try{for(j(T),f=r(c);f!==null&&(!(f.expirationTime>T)||I&&!$());){var U=f.callback;if(typeof U=="function"){f.callback=null,p=f.priorityLevel;var L=U(f.expirationTime<=T);T=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),j(T)}else n(c);f=r(c)}if(f!==null)var A=!0;else{var H=r(u);H!==null&&G(S,H.startTime-T),A=!1}return A}finally{f=null,p=E,m=!1}}var w=!1,C=null,_=-1,P=5,k=-1;function $(){return!(e.unstable_now()-k<P)}function O(){if(C!==null){var I=e.unstable_now();k=I;var T=!0;try{T=C(!0,I)}finally{T?F():(w=!1,C=null)}}else w=!1}var F;if(typeof g=="function")F=function(){g(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,R=B.port2;B.port1.onmessage=O,F=function(){R.postMessage(null)}}else F=function(){h(O,0)};function z(I){C=I,w||(w=!0,F())}function G(I,T){_=h(function(){I(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,z(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(p){case 1:case 2:case 3:var T=3;break;default:T=p}var E=p;p=T;try{return I()}finally{p=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,T){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var E=p;p=I;try{return T()}finally{p=E}},e.unstable_scheduleCallback=function(I,T,E){var U=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?U+E:U):E=U,I){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=E+L,I={id:d++,callback:T,priorityLevel:I,startTime:E,expirationTime:L,sortIndex:-1},E>U?(I.sortIndex=E,t(u,I),r(c)===null&&I===r(u)&&(y?(v(_),_=-1):y=!0,G(S,E-U))):(I.sortIndex=L,t(c,I),x||m||(x=!0,z(N))),I},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(I){var T=p;return function(){var E=p;p=T;try{return I.apply(this,arguments)}finally{p=E}}}})(cS);lS.exports=cS;var $A=lS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA=b,br=$A;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uS=new Set,$l={};function Ds(e,t){Oi(e,t),Oi(e+"Capture",t)}function Oi(e,t){for($l[e]=t,e=0;e<t.length;e++)uS.add(t[e])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Um=Object.prototype.hasOwnProperty,DA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qv={},Jv={};function RA(e){return Um.call(Jv,e)?!0:Um.call(Qv,e)?!1:DA.test(e)?Jv[e]=!0:(Qv[e]=!0,!1)}function IA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LA(e,t,r,n){if(t===null||typeof t>"u"||IA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var I0=/[\-:]([a-z])/g;function L0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I0,L0);Et[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I0,L0);Et[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I0,L0);Et[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function F0(e,t,r,n){var s=Et.hasOwnProperty(t)?Et[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LA(t,r,s,n)&&(r=null),n||s===null?RA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Yn=MA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uu=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),B0=Symbol.for("react.strict_mode"),zm=Symbol.for("react.profiler"),dS=Symbol.for("react.provider"),fS=Symbol.for("react.context"),U0=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Hm=Symbol.for("react.suspense_list"),z0=Symbol.for("react.memo"),aa=Symbol.for("react.lazy"),pS=Symbol.for("react.offscreen"),Zv=Symbol.iterator;function Fo(e){return e===null||typeof e!="object"?null:(e=Zv&&e[Zv]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,Ph;function cl(e){if(Ph===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ph=t&&t[1]||""}return`
`+Ph+e}var Ah=!1;function Eh(e,t){if(!e||Ah)return"";Ah=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ah=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cl(e):""}function FA(e){switch(e.tag){case 5:return cl(e.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return e=Eh(e.type,!1),e;case 11:return e=Eh(e.type.render,!1),e;case 1:return e=Eh(e.type,!0),e;default:return""}}function qm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zs:return"Fragment";case Js:return"Portal";case zm:return"Profiler";case B0:return"StrictMode";case Wm:return"Suspense";case Hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fS:return(e.displayName||"Context")+".Consumer";case dS:return(e._context.displayName||"Context")+".Provider";case U0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z0:return t=e.displayName||null,t!==null?t:qm(e.type)||"Memo";case aa:t=e._payload,e=e._init;try{return qm(e(t))}catch{}}return null}function BA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qm(t);case 8:return t===B0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Aa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UA(e){var t=hS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function du(e){e._valueTracker||(e._valueTracker=UA(e))}function mS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=hS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Sd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vm(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function eb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Aa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xS(e,t){t=t.checked,t!=null&&F0(e,"checked",t,!1)}function Gm(e,t){xS(e,t);var r=Aa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Km(e,t.type,r):t.hasOwnProperty("defaultValue")&&Km(e,t.type,Aa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Km(e,t,r){(t!=="number"||Sd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ul=Array.isArray;function xi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Aa(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ym(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ie(92));if(ul(r)){if(1<r.length)throw Error(ie(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Aa(r)}}function gS(e,t){var r=Aa(t.value),n=Aa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fu,vS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fu=fu||document.createElement("div"),fu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ml(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zA=["Webkit","ms","Moz","O"];Object.keys(ml).forEach(function(e){zA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ml[t]=ml[e]})});function bS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ml.hasOwnProperty(e)&&ml[e]?(""+t).trim():t+"px"}function jS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=bS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var WA=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qm(e,t){if(t){if(WA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function Jm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zm=null;function W0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ex=null,gi=null,yi=null;function ab(e){if(e=Bc(e)){if(typeof ex!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=pp(t),ex(e.stateNode,e.type,t))}}function wS(e){gi?yi?yi.push(e):yi=[e]:gi=e}function NS(){if(gi){var e=gi,t=yi;if(yi=gi=null,ab(e),t)for(e=0;e<t.length;e++)ab(t[e])}}function SS(e,t){return e(t)}function _S(){}var Th=!1;function kS(e,t,r){if(Th)return e(t,r);Th=!0;try{return SS(e,t,r)}finally{Th=!1,(gi!==null||yi!==null)&&(_S(),NS())}}function Dl(e,t){var r=e.stateNode;if(r===null)return null;var n=pp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ie(231,t,typeof r));return r}var tx=!1;if(Bn)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){tx=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{tx=!1}function HA(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var xl=!1,_d=null,kd=!1,rx=null,qA={onError:function(e){xl=!0,_d=e}};function VA(e,t,r,n,s,i,o,l,c){xl=!1,_d=null,HA.apply(qA,arguments)}function GA(e,t,r,n,s,i,o,l,c){if(VA.apply(this,arguments),xl){if(xl){var u=_d;xl=!1,_d=null}else throw Error(ie(198));kd||(kd=!0,rx=u)}}function Rs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function CS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sb(e){if(Rs(e)!==e)throw Error(ie(188))}function KA(e){var t=e.alternate;if(!t){if(t=Rs(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return sb(s),e;if(i===n)return sb(s),t;i=i.sibling}throw Error(ie(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(ie(189))}}if(r.alternate!==n)throw Error(ie(190))}if(r.tag!==3)throw Error(ie(188));return r.stateNode.current===r?e:t}function OS(e){return e=KA(e),e!==null?PS(e):null}function PS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=PS(e);if(t!==null)return t;e=e.sibling}return null}var AS=br.unstable_scheduleCallback,ib=br.unstable_cancelCallback,YA=br.unstable_shouldYield,XA=br.unstable_requestPaint,at=br.unstable_now,QA=br.unstable_getCurrentPriorityLevel,H0=br.unstable_ImmediatePriority,ES=br.unstable_UserBlockingPriority,Cd=br.unstable_NormalPriority,JA=br.unstable_LowPriority,TS=br.unstable_IdlePriority,cp=null,cn=null;function ZA(e){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(cp,e,void 0,(e.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:r5,e5=Math.log,t5=Math.LN2;function r5(e){return e>>>=0,e===0?32:31-(e5(e)/t5|0)|0}var pu=64,hu=4194304;function dl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Od(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=dl(l):(i&=o,i!==0&&(n=dl(i)))}else o=r&~s,o!==0?n=dl(o):i!==0&&(n=dl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Xr(t),s=1<<r,n|=e[r],t&=~s;return n}function n5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a5(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Xr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=n5(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function nx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $S(){var e=pu;return pu<<=1,!(pu&4194240)&&(pu=64),e}function $h(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Lc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xr(t),e[t]=r}function s5(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Xr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function q0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Xr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ee=0;function MS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var DS,V0,RS,IS,LS,ax=!1,mu=[],ga=null,ya=null,va=null,Rl=new Map,Il=new Map,la=[],i5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ob(e,t){switch(e){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Rl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(t.pointerId)}}function Uo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Bc(t),t!==null&&V0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function o5(e,t,r,n,s){switch(t){case"focusin":return ga=Uo(ga,e,t,r,n,s),!0;case"dragenter":return ya=Uo(ya,e,t,r,n,s),!0;case"mouseover":return va=Uo(va,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Rl.set(i,Uo(Rl.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Il.set(i,Uo(Il.get(i)||null,e,t,r,n,s)),!0}return!1}function FS(e){var t=as(e.target);if(t!==null){var r=Rs(t);if(r!==null){if(t=r.tag,t===13){if(t=CS(r),t!==null){e.blockedOn=t,LS(e.priority,function(){RS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zm=n,r.target.dispatchEvent(n),Zm=null}else return t=Bc(r),t!==null&&V0(t),e.blockedOn=r,!1;t.shift()}return!0}function lb(e,t,r){rd(e)&&r.delete(t)}function l5(){ax=!1,ga!==null&&rd(ga)&&(ga=null),ya!==null&&rd(ya)&&(ya=null),va!==null&&rd(va)&&(va=null),Rl.forEach(lb),Il.forEach(lb)}function zo(e,t){e.blockedOn===t&&(e.blockedOn=null,ax||(ax=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,l5)))}function Ll(e){function t(s){return zo(s,e)}if(0<mu.length){zo(mu[0],e);for(var r=1;r<mu.length;r++){var n=mu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ga!==null&&zo(ga,e),ya!==null&&zo(ya,e),va!==null&&zo(va,e),Rl.forEach(t),Il.forEach(t),r=0;r<la.length;r++)n=la[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<la.length&&(r=la[0],r.blockedOn===null);)FS(r),r.blockedOn===null&&la.shift()}var vi=Yn.ReactCurrentBatchConfig,Pd=!0;function c5(e,t,r,n){var s=Ee,i=vi.transition;vi.transition=null;try{Ee=1,G0(e,t,r,n)}finally{Ee=s,vi.transition=i}}function u5(e,t,r,n){var s=Ee,i=vi.transition;vi.transition=null;try{Ee=4,G0(e,t,r,n)}finally{Ee=s,vi.transition=i}}function G0(e,t,r,n){if(Pd){var s=sx(e,t,r,n);if(s===null)Wh(e,t,n,Ad,r),ob(e,n);else if(o5(s,e,t,r,n))n.stopPropagation();else if(ob(e,n),t&4&&-1<i5.indexOf(e)){for(;s!==null;){var i=Bc(s);if(i!==null&&DS(i),i=sx(e,t,r,n),i===null&&Wh(e,t,n,Ad,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Wh(e,t,n,null,r)}}var Ad=null;function sx(e,t,r,n){if(Ad=null,e=W0(n),e=as(e),e!==null)if(t=Rs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=CS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ad=e,null}function BS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QA()){case H0:return 1;case ES:return 4;case Cd:case JA:return 16;case TS:return 536870912;default:return 16}default:return 16}}var pa=null,K0=null,nd=null;function US(){if(nd)return nd;var e,t=K0,r=t.length,n,s="value"in pa?pa.value:pa.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return nd=s.slice(e,1<n?1-n:void 0)}function ad(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xu(){return!0}function cb(){return!1}function Nr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xu:cb,this.isPropagationStopped=cb,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),t}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y0=Nr(go),Fc=et({},go,{view:0,detail:0}),d5=Nr(Fc),Mh,Dh,Wo,up=et({},Fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wo&&(Wo&&e.type==="mousemove"?(Mh=e.screenX-Wo.screenX,Dh=e.screenY-Wo.screenY):Dh=Mh=0,Wo=e),Mh)},movementY:function(e){return"movementY"in e?e.movementY:Dh}}),ub=Nr(up),f5=et({},up,{dataTransfer:0}),p5=Nr(f5),h5=et({},Fc,{relatedTarget:0}),Rh=Nr(h5),m5=et({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),x5=Nr(m5),g5=et({},go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y5=Nr(g5),v5=et({},go,{data:0}),db=Nr(v5),b5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w5[e])?!!t[e]:!1}function X0(){return N5}var S5=et({},Fc,{key:function(e){if(e.key){var t=b5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ad(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X0,charCode:function(e){return e.type==="keypress"?ad(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ad(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_5=Nr(S5),k5=et({},up,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fb=Nr(k5),C5=et({},Fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X0}),O5=Nr(C5),P5=et({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),A5=Nr(P5),E5=et({},up,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T5=Nr(E5),$5=[9,13,27,32],Q0=Bn&&"CompositionEvent"in window,gl=null;Bn&&"documentMode"in document&&(gl=document.documentMode);var M5=Bn&&"TextEvent"in window&&!gl,zS=Bn&&(!Q0||gl&&8<gl&&11>=gl),pb=" ",hb=!1;function WS(e,t){switch(e){case"keyup":return $5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ei=!1;function D5(e,t){switch(e){case"compositionend":return HS(t);case"keypress":return t.which!==32?null:(hb=!0,pb);case"textInput":return e=t.data,e===pb&&hb?null:e;default:return null}}function R5(e,t){if(ei)return e==="compositionend"||!Q0&&WS(e,t)?(e=US(),nd=K0=pa=null,ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zS&&t.locale!=="ko"?null:t.data;default:return null}}var I5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!I5[e.type]:t==="textarea"}function qS(e,t,r,n){wS(n),t=Ed(t,"onChange"),0<t.length&&(r=new Y0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var yl=null,Fl=null;function L5(e){r_(e,0)}function dp(e){var t=ni(e);if(mS(t))return e}function F5(e,t){if(e==="change")return t}var VS=!1;if(Bn){var Ih;if(Bn){var Lh="oninput"in document;if(!Lh){var xb=document.createElement("div");xb.setAttribute("oninput","return;"),Lh=typeof xb.oninput=="function"}Ih=Lh}else Ih=!1;VS=Ih&&(!document.documentMode||9<document.documentMode)}function gb(){yl&&(yl.detachEvent("onpropertychange",GS),Fl=yl=null)}function GS(e){if(e.propertyName==="value"&&dp(Fl)){var t=[];qS(t,Fl,e,W0(e)),kS(L5,t)}}function B5(e,t,r){e==="focusin"?(gb(),yl=t,Fl=r,yl.attachEvent("onpropertychange",GS)):e==="focusout"&&gb()}function U5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dp(Fl)}function z5(e,t){if(e==="click")return dp(t)}function W5(e,t){if(e==="input"||e==="change")return dp(t)}function H5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zr=typeof Object.is=="function"?Object.is:H5;function Bl(e,t){if(Zr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Um.call(t,s)||!Zr(e[s],t[s]))return!1}return!0}function yb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vb(e,t){var r=yb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yb(r)}}function KS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function YS(){for(var e=window,t=Sd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Sd(e.document)}return t}function J0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function q5(e){var t=YS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&KS(r.ownerDocument.documentElement,r)){if(n!==null&&J0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=vb(r,i);var o=vb(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var V5=Bn&&"documentMode"in document&&11>=document.documentMode,ti=null,ix=null,vl=null,ox=!1;function bb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ox||ti==null||ti!==Sd(n)||(n=ti,"selectionStart"in n&&J0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vl&&Bl(vl,n)||(vl=n,n=Ed(ix,"onSelect"),0<n.length&&(t=new Y0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ti)))}function gu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ri={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Fh={},XS={};Bn&&(XS=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function fp(e){if(Fh[e])return Fh[e];if(!ri[e])return e;var t=ri[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in XS)return Fh[e]=t[r];return e}var QS=fp("animationend"),JS=fp("animationiteration"),ZS=fp("animationstart"),e_=fp("transitionend"),t_=new Map,jb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(e,t){t_.set(e,t),Ds(t,[e])}for(var Bh=0;Bh<jb.length;Bh++){var Uh=jb[Bh],G5=Uh.toLowerCase(),K5=Uh[0].toUpperCase()+Uh.slice(1);Ma(G5,"on"+K5)}Ma(QS,"onAnimationEnd");Ma(JS,"onAnimationIteration");Ma(ZS,"onAnimationStart");Ma("dblclick","onDoubleClick");Ma("focusin","onFocus");Ma("focusout","onBlur");Ma(e_,"onTransitionEnd");Oi("onMouseEnter",["mouseout","mouseover"]);Oi("onMouseLeave",["mouseout","mouseover"]);Oi("onPointerEnter",["pointerout","pointerover"]);Oi("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y5=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function wb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,GA(n,t,void 0,e),e.currentTarget=null}function r_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;wb(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;wb(s,l,u),i=c}}}if(kd)throw e=rx,kd=!1,rx=null,e}function We(e,t){var r=t[fx];r===void 0&&(r=t[fx]=new Set);var n=e+"__bubble";r.has(n)||(n_(t,e,2,!1),r.add(n))}function zh(e,t,r){var n=0;t&&(n|=4),n_(r,e,n,t)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Ul(e){if(!e[yu]){e[yu]=!0,uS.forEach(function(r){r!=="selectionchange"&&(Y5.has(r)||zh(r,!1,e),zh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yu]||(t[yu]=!0,zh("selectionchange",!1,t))}}function n_(e,t,r,n){switch(BS(t)){case 1:var s=c5;break;case 4:s=u5;break;default:s=G0}r=s.bind(null,t,r,e),s=void 0,!tx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Wh(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=as(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}kS(function(){var u=i,d=W0(r),f=[];e:{var p=t_.get(e);if(p!==void 0){var m=Y0,x=e;switch(e){case"keypress":if(ad(r)===0)break e;case"keydown":case"keyup":m=_5;break;case"focusin":x="focus",m=Rh;break;case"focusout":x="blur",m=Rh;break;case"beforeblur":case"afterblur":m=Rh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=p5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=O5;break;case QS:case JS:case ZS:m=x5;break;case e_:m=A5;break;case"scroll":m=d5;break;case"wheel":m=T5;break;case"copy":case"cut":case"paste":m=y5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=fb}var y=(t&4)!==0,h=!y&&e==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var g=u,j;g!==null;){j=g;var S=j.stateNode;if(j.tag===5&&S!==null&&(j=S,v!==null&&(S=Dl(g,v),S!=null&&y.push(zl(g,S,j)))),h)break;g=g.return}0<y.length&&(p=new m(p,x,null,r,d),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Zm&&(x=r.relatedTarget||r.fromElement)&&(as(x)||x[Un]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?as(x):null,x!==null&&(h=Rs(x),x!==h||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(y=ub,S="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=fb,S="onPointerLeave",v="onPointerEnter",g="pointer"),h=m==null?p:ni(m),j=x==null?p:ni(x),p=new y(S,g+"leave",m,r,d),p.target=h,p.relatedTarget=j,S=null,as(d)===u&&(y=new y(v,g+"enter",x,r,d),y.target=j,y.relatedTarget=h,S=y),h=S,m&&x)t:{for(y=m,v=x,g=0,j=y;j;j=qs(j))g++;for(j=0,S=v;S;S=qs(S))j++;for(;0<g-j;)y=qs(y),g--;for(;0<j-g;)v=qs(v),j--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=qs(y),v=qs(v)}y=null}else y=null;m!==null&&Nb(f,p,m,y,!1),x!==null&&h!==null&&Nb(f,h,x,y,!0)}}e:{if(p=u?ni(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=F5;else if(mb(p))if(VS)N=W5;else{N=U5;var w=B5}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=z5);if(N&&(N=N(e,u))){qS(f,N,r,d);break e}w&&w(e,p,u),e==="focusout"&&(w=p._wrapperState)&&w.controlled&&p.type==="number"&&Km(p,"number",p.value)}switch(w=u?ni(u):window,e){case"focusin":(mb(w)||w.contentEditable==="true")&&(ti=w,ix=u,vl=null);break;case"focusout":vl=ix=ti=null;break;case"mousedown":ox=!0;break;case"contextmenu":case"mouseup":case"dragend":ox=!1,bb(f,r,d);break;case"selectionchange":if(V5)break;case"keydown":case"keyup":bb(f,r,d)}var C;if(Q0)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ei?WS(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(zS&&r.locale!=="ko"&&(ei||_!=="onCompositionStart"?_==="onCompositionEnd"&&ei&&(C=US()):(pa=d,K0="value"in pa?pa.value:pa.textContent,ei=!0)),w=Ed(u,_),0<w.length&&(_=new db(_,e,null,r,d),f.push({event:_,listeners:w}),C?_.data=C:(C=HS(r),C!==null&&(_.data=C)))),(C=M5?D5(e,r):R5(e,r))&&(u=Ed(u,"onBeforeInput"),0<u.length&&(d=new db("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}r_(f,t)})}function zl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ed(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Dl(e,r),i!=null&&n.unshift(zl(e,i,s)),i=Dl(e,t),i!=null&&n.push(zl(e,i,s))),e=e.return}return n}function qs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nb(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Dl(r,i),c!=null&&o.unshift(zl(r,c,l))):s||(c=Dl(r,i),c!=null&&o.push(zl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var X5=/\r\n?/g,Q5=/\u0000|\uFFFD/g;function Sb(e){return(typeof e=="string"?e:""+e).replace(X5,`
`).replace(Q5,"")}function vu(e,t,r){if(t=Sb(t),Sb(e)!==t&&r)throw Error(ie(425))}function Td(){}var lx=null,cx=null;function ux(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dx=typeof setTimeout=="function"?setTimeout:void 0,J5=typeof clearTimeout=="function"?clearTimeout:void 0,_b=typeof Promise=="function"?Promise:void 0,Z5=typeof queueMicrotask=="function"?queueMicrotask:typeof _b<"u"?function(e){return _b.resolve(null).then(e).catch(eE)}:dx;function eE(e){setTimeout(function(){throw e})}function Hh(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ll(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ll(t)}function ba(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yo=Math.random().toString(36).slice(2),sn="__reactFiber$"+yo,Wl="__reactProps$"+yo,Un="__reactContainer$"+yo,fx="__reactEvents$"+yo,tE="__reactListeners$"+yo,rE="__reactHandles$"+yo;function as(e){var t=e[sn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Un]||r[sn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=kb(e);e!==null;){if(r=e[sn])return r;e=kb(e)}return t}e=r,r=e.parentNode}return null}function Bc(e){return e=e[sn]||e[Un],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function pp(e){return e[Wl]||null}var px=[],ai=-1;function Da(e){return{current:e}}function Ve(e){0>ai||(e.current=px[ai],px[ai]=null,ai--)}function Fe(e,t){ai++,px[ai]=e.current,e.current=t}var Ea={},Bt=Da(Ea),Zt=Da(!1),vs=Ea;function Pi(e,t){var r=e.type.contextTypes;if(!r)return Ea;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function er(e){return e=e.childContextTypes,e!=null}function $d(){Ve(Zt),Ve(Bt)}function Cb(e,t,r){if(Bt.current!==Ea)throw Error(ie(168));Fe(Bt,t),Fe(Zt,r)}function a_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ie(108,BA(e)||"Unknown",s));return et({},r,n)}function Md(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,vs=Bt.current,Fe(Bt,e),Fe(Zt,Zt.current),!0}function Ob(e,t,r){var n=e.stateNode;if(!n)throw Error(ie(169));r?(e=a_(e,t,vs),n.__reactInternalMemoizedMergedChildContext=e,Ve(Zt),Ve(Bt),Fe(Bt,e)):Ve(Zt),Fe(Zt,r)}var An=null,hp=!1,qh=!1;function s_(e){An===null?An=[e]:An.push(e)}function nE(e){hp=!0,s_(e)}function Ra(){if(!qh&&An!==null){qh=!0;var e=0,t=Ee;try{var r=An;for(Ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}An=null,hp=!1}catch(s){throw An!==null&&(An=An.slice(e+1)),AS(H0,Ra),s}finally{Ee=t,qh=!1}}return null}var si=[],ii=0,Dd=null,Rd=0,Or=[],Pr=0,bs=null,En=1,Tn="";function Qa(e,t){si[ii++]=Rd,si[ii++]=Dd,Dd=e,Rd=t}function i_(e,t,r){Or[Pr++]=En,Or[Pr++]=Tn,Or[Pr++]=bs,bs=e;var n=En;e=Tn;var s=32-Xr(n)-1;n&=~(1<<s),r+=1;var i=32-Xr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,En=1<<32-Xr(t)+s|r<<s|n,Tn=i+e}else En=1<<i|r<<s|n,Tn=e}function Z0(e){e.return!==null&&(Qa(e,1),i_(e,1,0))}function ey(e){for(;e===Dd;)Dd=si[--ii],si[ii]=null,Rd=si[--ii],si[ii]=null;for(;e===bs;)bs=Or[--Pr],Or[Pr]=null,Tn=Or[--Pr],Or[Pr]=null,En=Or[--Pr],Or[Pr]=null}var gr=null,mr=null,Ye=!1,Kr=null;function o_(e,t){var r=Er(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Pb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gr=e,mr=ba(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gr=e,mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bs!==null?{id:En,overflow:Tn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Er(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gr=e,mr=null,!0):!1;default:return!1}}function hx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mx(e){if(Ye){var t=mr;if(t){var r=t;if(!Pb(e,t)){if(hx(e))throw Error(ie(418));t=ba(r.nextSibling);var n=gr;t&&Pb(e,t)?o_(n,r):(e.flags=e.flags&-4097|2,Ye=!1,gr=e)}}else{if(hx(e))throw Error(ie(418));e.flags=e.flags&-4097|2,Ye=!1,gr=e}}}function Ab(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gr=e}function bu(e){if(e!==gr)return!1;if(!Ye)return Ab(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ux(e.type,e.memoizedProps)),t&&(t=mr)){if(hx(e))throw l_(),Error(ie(418));for(;t;)o_(e,t),t=ba(t.nextSibling)}if(Ab(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mr=ba(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mr=null}}else mr=gr?ba(e.stateNode.nextSibling):null;return!0}function l_(){for(var e=mr;e;)e=ba(e.nextSibling)}function Ai(){mr=gr=null,Ye=!1}function ty(e){Kr===null?Kr=[e]:Kr.push(e)}var aE=Yn.ReactCurrentBatchConfig;function Ho(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ie(309));var n=r.stateNode}if(!n)throw Error(ie(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ie(284));if(!r._owner)throw Error(ie(290,e))}return e}function ju(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Eb(e){var t=e._init;return t(e._payload)}function c_(e){function t(v,g){if(e){var j=v.deletions;j===null?(v.deletions=[g],v.flags|=16):j.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Sa(v,g),v.index=0,v.sibling=null,v}function i(v,g,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<g?(v.flags|=2,g):j):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,j,S){return g===null||g.tag!==6?(g=Jh(j,v.mode,S),g.return=v,g):(g=s(g,j),g.return=v,g)}function c(v,g,j,S){var N=j.type;return N===Zs?d(v,g,j.props.children,S,j.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===aa&&Eb(N)===g.type)?(S=s(g,j.props),S.ref=Ho(v,g,j),S.return=v,S):(S=dd(j.type,j.key,j.props,null,v.mode,S),S.ref=Ho(v,g,j),S.return=v,S)}function u(v,g,j,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==j.containerInfo||g.stateNode.implementation!==j.implementation?(g=Zh(j,v.mode,S),g.return=v,g):(g=s(g,j.children||[]),g.return=v,g)}function d(v,g,j,S,N){return g===null||g.tag!==7?(g=ps(j,v.mode,S,N),g.return=v,g):(g=s(g,j),g.return=v,g)}function f(v,g,j){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Jh(""+g,v.mode,j),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case uu:return j=dd(g.type,g.key,g.props,null,v.mode,j),j.ref=Ho(v,null,g),j.return=v,j;case Js:return g=Zh(g,v.mode,j),g.return=v,g;case aa:var S=g._init;return f(v,S(g._payload),j)}if(ul(g)||Fo(g))return g=ps(g,v.mode,j,null),g.return=v,g;ju(v,g)}return null}function p(v,g,j,S){var N=g!==null?g.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(v,g,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case uu:return j.key===N?c(v,g,j,S):null;case Js:return j.key===N?u(v,g,j,S):null;case aa:return N=j._init,p(v,g,N(j._payload),S)}if(ul(j)||Fo(j))return N!==null?null:d(v,g,j,S,null);ju(v,j)}return null}function m(v,g,j,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(j)||null,l(g,v,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uu:return v=v.get(S.key===null?j:S.key)||null,c(g,v,S,N);case Js:return v=v.get(S.key===null?j:S.key)||null,u(g,v,S,N);case aa:var w=S._init;return m(v,g,j,w(S._payload),N)}if(ul(S)||Fo(S))return v=v.get(j)||null,d(g,v,S,N,null);ju(g,S)}return null}function x(v,g,j,S){for(var N=null,w=null,C=g,_=g=0,P=null;C!==null&&_<j.length;_++){C.index>_?(P=C,C=null):P=C.sibling;var k=p(v,C,j[_],S);if(k===null){C===null&&(C=P);break}e&&C&&k.alternate===null&&t(v,C),g=i(k,g,_),w===null?N=k:w.sibling=k,w=k,C=P}if(_===j.length)return r(v,C),Ye&&Qa(v,_),N;if(C===null){for(;_<j.length;_++)C=f(v,j[_],S),C!==null&&(g=i(C,g,_),w===null?N=C:w.sibling=C,w=C);return Ye&&Qa(v,_),N}for(C=n(v,C);_<j.length;_++)P=m(C,v,_,j[_],S),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?_:P.key),g=i(P,g,_),w===null?N=P:w.sibling=P,w=P);return e&&C.forEach(function($){return t(v,$)}),Ye&&Qa(v,_),N}function y(v,g,j,S){var N=Fo(j);if(typeof N!="function")throw Error(ie(150));if(j=N.call(j),j==null)throw Error(ie(151));for(var w=N=null,C=g,_=g=0,P=null,k=j.next();C!==null&&!k.done;_++,k=j.next()){C.index>_?(P=C,C=null):P=C.sibling;var $=p(v,C,k.value,S);if($===null){C===null&&(C=P);break}e&&C&&$.alternate===null&&t(v,C),g=i($,g,_),w===null?N=$:w.sibling=$,w=$,C=P}if(k.done)return r(v,C),Ye&&Qa(v,_),N;if(C===null){for(;!k.done;_++,k=j.next())k=f(v,k.value,S),k!==null&&(g=i(k,g,_),w===null?N=k:w.sibling=k,w=k);return Ye&&Qa(v,_),N}for(C=n(v,C);!k.done;_++,k=j.next())k=m(C,v,_,k.value,S),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?_:k.key),g=i(k,g,_),w===null?N=k:w.sibling=k,w=k);return e&&C.forEach(function(O){return t(v,O)}),Ye&&Qa(v,_),N}function h(v,g,j,S){if(typeof j=="object"&&j!==null&&j.type===Zs&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case uu:e:{for(var N=j.key,w=g;w!==null;){if(w.key===N){if(N=j.type,N===Zs){if(w.tag===7){r(v,w.sibling),g=s(w,j.props.children),g.return=v,v=g;break e}}else if(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===aa&&Eb(N)===w.type){r(v,w.sibling),g=s(w,j.props),g.ref=Ho(v,w,j),g.return=v,v=g;break e}r(v,w);break}else t(v,w);w=w.sibling}j.type===Zs?(g=ps(j.props.children,v.mode,S,j.key),g.return=v,v=g):(S=dd(j.type,j.key,j.props,null,v.mode,S),S.ref=Ho(v,g,j),S.return=v,v=S)}return o(v);case Js:e:{for(w=j.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===j.containerInfo&&g.stateNode.implementation===j.implementation){r(v,g.sibling),g=s(g,j.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=Zh(j,v.mode,S),g.return=v,v=g}return o(v);case aa:return w=j._init,h(v,g,w(j._payload),S)}if(ul(j))return x(v,g,j,S);if(Fo(j))return y(v,g,j,S);ju(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,j),g.return=v,v=g):(r(v,g),g=Jh(j,v.mode,S),g.return=v,v=g),o(v)):r(v,g)}return h}var Ei=c_(!0),u_=c_(!1),Id=Da(null),Ld=null,oi=null,ry=null;function ny(){ry=oi=Ld=null}function ay(e){var t=Id.current;Ve(Id),e._currentValue=t}function xx(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function bi(e,t){Ld=e,ry=oi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qt=!0),e.firstContext=null)}function Dr(e){var t=e._currentValue;if(ry!==e)if(e={context:e,memoizedValue:t,next:null},oi===null){if(Ld===null)throw Error(ie(308));oi=e,Ld.dependencies={lanes:0,firstContext:e}}else oi=oi.next=e;return t}var ss=null;function sy(e){ss===null?ss=[e]:ss.push(e)}function d_(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,sy(t)):(r.next=s.next,s.next=r),t.interleaved=r,zn(e,n)}function zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var sa=!1;function iy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ja(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Se&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,zn(e,r)}return s=n.interleaved,s===null?(t.next=t,sy(n)):(t.next=s.next,s.next=t),n.interleaved=t,zn(e,r)}function sd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,q0(e,r)}}function Tb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fd(e,t,r,n){var s=e.updateQueue;sa=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var p=l.lane,m=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,y=l;switch(p=t,m=r,y.tag){case 1:if(x=y.payload,typeof x=="function"){f=x.call(m,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,p=typeof x=="function"?x.call(m,f,p):x,p==null)break e;f=et({},f,p);break e;case 2:sa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ws|=o,e.lanes=o,e.memoizedState=f}}function $b(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ie(191,s));s.call(n)}}}var Uc={},un=Da(Uc),Hl=Da(Uc),ql=Da(Uc);function is(e){if(e===Uc)throw Error(ie(174));return e}function oy(e,t){switch(Fe(ql,t),Fe(Hl,e),Fe(un,Uc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xm(t,e)}Ve(un),Fe(un,t)}function Ti(){Ve(un),Ve(Hl),Ve(ql)}function p_(e){is(ql.current);var t=is(un.current),r=Xm(t,e.type);t!==r&&(Fe(Hl,e),Fe(un,r))}function ly(e){Hl.current===e&&(Ve(un),Ve(Hl))}var Je=Da(0);function Bd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vh=[];function cy(){for(var e=0;e<Vh.length;e++)Vh[e]._workInProgressVersionPrimary=null;Vh.length=0}var id=Yn.ReactCurrentDispatcher,Gh=Yn.ReactCurrentBatchConfig,js=0,Ze=null,ht=null,Nt=null,Ud=!1,bl=!1,Vl=0,sE=0;function Tt(){throw Error(ie(321))}function uy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Zr(e[r],t[r]))return!1;return!0}function dy(e,t,r,n,s,i){if(js=i,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,id.current=e===null||e.memoizedState===null?cE:uE,e=r(n,s),bl){i=0;do{if(bl=!1,Vl=0,25<=i)throw Error(ie(301));i+=1,Nt=ht=null,t.updateQueue=null,id.current=dE,e=r(n,s)}while(bl)}if(id.current=zd,t=ht!==null&&ht.next!==null,js=0,Nt=ht=Ze=null,Ud=!1,t)throw Error(ie(300));return e}function fy(){var e=Vl!==0;return Vl=0,e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ze.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function Rr(){if(ht===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=Nt===null?Ze.memoizedState:Nt.next;if(t!==null)Nt=t,ht=e;else{if(e===null)throw Error(ie(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Nt===null?Ze.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function Gl(e,t){return typeof t=="function"?t(e):t}function Kh(e){var t=Rr(),r=t.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=e;var n=ht,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((js&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Ze.lanes|=d,ws|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Zr(n,t.memoizedState)||(Qt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ze.lanes|=i,ws|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yh(e){var t=Rr(),r=t.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Zr(i,t.memoizedState)||(Qt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function h_(){}function m_(e,t){var r=Ze,n=Rr(),s=t(),i=!Zr(n.memoizedState,s);if(i&&(n.memoizedState=s,Qt=!0),n=n.queue,py(y_.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,Kl(9,g_.bind(null,r,n,s,t),void 0,null),_t===null)throw Error(ie(349));js&30||x_(r,t,s)}return s}function x_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function g_(e,t,r,n){t.value=r,t.getSnapshot=n,v_(t)&&b_(e)}function y_(e,t,r){return r(function(){v_(t)&&b_(e)})}function v_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zr(e,r)}catch{return!0}}function b_(e){var t=zn(e,1);t!==null&&Qr(t,e,1,-1)}function Mb(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:e},t.queue=e,e=e.dispatch=lE.bind(null,Ze,e),[t.memoizedState,e]}function Kl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function j_(){return Rr().memoizedState}function od(e,t,r,n){var s=an();Ze.flags|=e,s.memoizedState=Kl(1|t,r,void 0,n===void 0?null:n)}function mp(e,t,r,n){var s=Rr();n=n===void 0?null:n;var i=void 0;if(ht!==null){var o=ht.memoizedState;if(i=o.destroy,n!==null&&uy(n,o.deps)){s.memoizedState=Kl(t,r,i,n);return}}Ze.flags|=e,s.memoizedState=Kl(1|t,r,i,n)}function Db(e,t){return od(8390656,8,e,t)}function py(e,t){return mp(2048,8,e,t)}function w_(e,t){return mp(4,2,e,t)}function N_(e,t){return mp(4,4,e,t)}function S_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function __(e,t,r){return r=r!=null?r.concat([e]):null,mp(4,4,S_.bind(null,t,e),r)}function hy(){}function k_(e,t){var r=Rr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function C_(e,t){var r=Rr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function O_(e,t,r){return js&21?(Zr(r,t)||(r=$S(),Ze.lanes|=r,ws|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=r)}function iE(e,t){var r=Ee;Ee=r!==0&&4>r?r:4,e(!0);var n=Gh.transition;Gh.transition={};try{e(!1),t()}finally{Ee=r,Gh.transition=n}}function P_(){return Rr().memoizedState}function oE(e,t,r){var n=Na(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},A_(e))E_(t,r);else if(r=d_(e,t,r,n),r!==null){var s=Vt();Qr(r,e,n,s),T_(r,t,n)}}function lE(e,t,r){var n=Na(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(A_(e))E_(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Zr(l,o)){var c=t.interleaved;c===null?(s.next=s,sy(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=d_(e,t,s,n),r!==null&&(s=Vt(),Qr(r,e,n,s),T_(r,t,n))}}function A_(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function E_(e,t){bl=Ud=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function T_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,q0(e,r)}}var zd={readContext:Dr,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},cE={readContext:Dr,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:Dr,useEffect:Db,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,od(4194308,4,S_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return od(4194308,4,e,t)},useInsertionEffect:function(e,t){return od(4,2,e,t)},useMemo:function(e,t){var r=an();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=an();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=oE.bind(null,Ze,e),[n.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:Mb,useDebugValue:hy,useDeferredValue:function(e){return an().memoizedState=e},useTransition:function(){var e=Mb(!1),t=e[0];return e=iE.bind(null,e[1]),an().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ze,s=an();if(Ye){if(r===void 0)throw Error(ie(407));r=r()}else{if(r=t(),_t===null)throw Error(ie(349));js&30||x_(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Db(y_.bind(null,n,i,e),[e]),n.flags|=2048,Kl(9,g_.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=an(),t=_t.identifierPrefix;if(Ye){var r=Tn,n=En;r=(n&~(1<<32-Xr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uE={readContext:Dr,useCallback:k_,useContext:Dr,useEffect:py,useImperativeHandle:__,useInsertionEffect:w_,useLayoutEffect:N_,useMemo:C_,useReducer:Kh,useRef:j_,useState:function(){return Kh(Gl)},useDebugValue:hy,useDeferredValue:function(e){var t=Rr();return O_(t,ht.memoizedState,e)},useTransition:function(){var e=Kh(Gl)[0],t=Rr().memoizedState;return[e,t]},useMutableSource:h_,useSyncExternalStore:m_,useId:P_,unstable_isNewReconciler:!1},dE={readContext:Dr,useCallback:k_,useContext:Dr,useEffect:py,useImperativeHandle:__,useInsertionEffect:w_,useLayoutEffect:N_,useMemo:C_,useReducer:Yh,useRef:j_,useState:function(){return Yh(Gl)},useDebugValue:hy,useDeferredValue:function(e){var t=Rr();return ht===null?t.memoizedState=e:O_(t,ht.memoizedState,e)},useTransition:function(){var e=Yh(Gl)[0],t=Rr().memoizedState;return[e,t]},useMutableSource:h_,useSyncExternalStore:m_,useId:P_,unstable_isNewReconciler:!1};function Hr(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gx(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xp={isMounted:function(e){return(e=e._reactInternals)?Rs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Vt(),s=Na(e),i=Rn(n,s);i.payload=t,r!=null&&(i.callback=r),t=ja(e,i,s),t!==null&&(Qr(t,e,s,n),sd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Vt(),s=Na(e),i=Rn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ja(e,i,s),t!==null&&(Qr(t,e,s,n),sd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Vt(),n=Na(e),s=Rn(r,n);s.tag=2,t!=null&&(s.callback=t),t=ja(e,s,n),t!==null&&(Qr(t,e,n,r),sd(t,e,n))}};function Rb(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Bl(r,n)||!Bl(s,i):!0}function $_(e,t,r){var n=!1,s=Ea,i=t.contextType;return typeof i=="object"&&i!==null?i=Dr(i):(s=er(t)?vs:Bt.current,n=t.contextTypes,i=(n=n!=null)?Pi(e,s):Ea),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ib(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&xp.enqueueReplaceState(t,t.state,null)}function yx(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},iy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Dr(i):(i=er(t)?vs:Bt.current,s.context=Pi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(gx(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&xp.enqueueReplaceState(s,s.state,null),Fd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $i(e,t){try{var r="",n=t;do r+=FA(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Xh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fE=typeof WeakMap=="function"?WeakMap:Map;function M_(e,t,r){r=Rn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hd||(Hd=!0,Px=n),vx(e,t)},r}function D_(e,t,r){r=Rn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){vx(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){vx(e,t),typeof n!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Lb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fE;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=kE.bind(null,e,t,r),t.then(e,e))}function Fb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bb(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rn(-1,1),t.tag=2,ja(r,t,1))),r.lanes|=1),e)}var pE=Yn.ReactCurrentOwner,Qt=!1;function Ut(e,t,r,n){t.child=e===null?u_(t,null,r,n):Ei(t,e.child,r,n)}function Ub(e,t,r,n,s){r=r.render;var i=t.ref;return bi(t,s),n=dy(e,t,r,n,i,s),r=fy(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wn(e,t,s)):(Ye&&r&&Z0(t),t.flags|=1,Ut(e,t,n,s),t.child)}function zb(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!wy(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,R_(e,t,i,n,s)):(e=dd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Bl,r(o,n)&&e.ref===t.ref)return Wn(e,t,s)}return t.flags|=1,e=Sa(i,n),e.ref=t.ref,e.return=t,t.child=e}function R_(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Bl(i,n)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Qt=!0);else return t.lanes=e.lanes,Wn(e,t,s)}return bx(e,t,r,n,s)}function I_(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(ci,ur),ur|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(ci,ur),ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Fe(ci,ur),ur|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Fe(ci,ur),ur|=n;return Ut(e,t,s,r),t.child}function L_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bx(e,t,r,n,s){var i=er(r)?vs:Bt.current;return i=Pi(t,i),bi(t,s),r=dy(e,t,r,n,i,s),n=fy(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wn(e,t,s)):(Ye&&n&&Z0(t),t.flags|=1,Ut(e,t,r,s),t.child)}function Wb(e,t,r,n,s){if(er(r)){var i=!0;Md(t)}else i=!1;if(bi(t,s),t.stateNode===null)ld(e,t),$_(t,r,n),yx(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Dr(u):(u=er(r)?vs:Bt.current,u=Pi(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Ib(t,o,n,u),sa=!1;var p=t.memoizedState;o.state=p,Fd(t,n,o,s),c=t.memoizedState,l!==n||p!==c||Zt.current||sa?(typeof d=="function"&&(gx(t,r,d,n),c=t.memoizedState),(l=sa||Rb(t,r,l,n,p,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,f_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Hr(t.type,l),o.props=u,f=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Dr(c):(c=er(r)?vs:Bt.current,c=Pi(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Ib(t,o,n,c),sa=!1,p=t.memoizedState,o.state=p,Fd(t,n,o,s);var x=t.memoizedState;l!==f||p!==x||Zt.current||sa?(typeof m=="function"&&(gx(t,r,m,n),x=t.memoizedState),(u=sa||Rb(t,r,u,n,p,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return jx(e,t,r,n,i,s)}function jx(e,t,r,n,s,i){L_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ob(t,r,!1),Wn(e,t,i);n=t.stateNode,pE.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,l,i)):Ut(e,t,l,i),t.memoizedState=n.state,s&&Ob(t,r,!0),t.child}function F_(e){var t=e.stateNode;t.pendingContext?Cb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cb(e,t.context,!1),oy(e,t.containerInfo)}function Hb(e,t,r,n,s){return Ai(),ty(s),t.flags|=256,Ut(e,t,r,n),t.child}var wx={dehydrated:null,treeContext:null,retryLane:0};function Nx(e){return{baseLanes:e,cachePool:null,transitions:null}}function B_(e,t,r){var n=t.pendingProps,s=Je.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Fe(Je,s&1),e===null)return mx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vp(o,n,0,null),e=ps(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Nx(r),t.memoizedState=wx,e):my(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return hE(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Sa(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Sa(l,i):(i=ps(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Nx(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=wx,n}return i=e.child,e=i.sibling,n=Sa(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function my(e,t){return t=vp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wu(e,t,r,n){return n!==null&&ty(n),Ei(t,e.child,null,r),e=my(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hE(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Xh(Error(ie(422))),wu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=vp({mode:"visible",children:n.children},s,0,null),i=ps(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ei(t,e.child,null,o),t.child.memoizedState=Nx(o),t.memoizedState=wx,i);if(!(t.mode&1))return wu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ie(419)),n=Xh(i,n,void 0),wu(e,t,o,n)}if(l=(o&e.childLanes)!==0,Qt||l){if(n=_t,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zn(e,s),Qr(n,e,s,-1))}return jy(),n=Xh(Error(ie(421))),wu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=CE.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,mr=ba(s.nextSibling),gr=t,Ye=!0,Kr=null,e!==null&&(Or[Pr++]=En,Or[Pr++]=Tn,Or[Pr++]=bs,En=e.id,Tn=e.overflow,bs=t),t=my(t,n.children),t.flags|=4096,t)}function qb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xx(e.return,t,r)}function Qh(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function U_(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ut(e,t,n.children,r),n=Je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qb(e,r,t);else if(e.tag===19)qb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Fe(Je,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Bd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Qh(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Bd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Qh(t,!0,r,null,i);break;case"together":Qh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ld(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ws|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,r=Sa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Sa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mE(e,t,r){switch(t.tag){case 3:F_(t),Ai();break;case 5:p_(t);break;case 1:er(t.type)&&Md(t);break;case 4:oy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Fe(Id,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Fe(Je,Je.current&1),t.flags|=128,null):r&t.child.childLanes?B_(e,t,r):(Fe(Je,Je.current&1),e=Wn(e,t,r),e!==null?e.sibling:null);Fe(Je,Je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return U_(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fe(Je,Je.current),n)break;return null;case 22:case 23:return t.lanes=0,I_(e,t,r)}return Wn(e,t,r)}var z_,Sx,W_,H_;z_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sx=function(){};W_=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,is(un.current);var i=null;switch(r){case"input":s=Vm(e,s),n=Vm(e,n),i=[];break;case"select":s=et({},s,{value:void 0}),n=et({},n,{value:void 0}),i=[];break;case"textarea":s=Ym(e,s),n=Ym(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Td)}Qm(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($l.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&We("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};H_=function(e,t,r,n){r!==n&&(t.flags|=4)};function qo(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function xE(e,t,r){var n=t.pendingProps;switch(ey(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return er(t.type)&&$d(),$t(t),null;case 3:return n=t.stateNode,Ti(),Ve(Zt),Ve(Bt),cy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kr!==null&&(Tx(Kr),Kr=null))),Sx(e,t),$t(t),null;case 5:ly(t);var s=is(ql.current);if(r=t.type,e!==null&&t.stateNode!=null)W_(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ie(166));return $t(t),null}if(e=is(un.current),bu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[sn]=t,n[Wl]=i,e=(t.mode&1)!==0,r){case"dialog":We("cancel",n),We("close",n);break;case"iframe":case"object":case"embed":We("load",n);break;case"video":case"audio":for(s=0;s<fl.length;s++)We(fl[s],n);break;case"source":We("error",n);break;case"img":case"image":case"link":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"input":eb(n,i),We("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},We("invalid",n);break;case"textarea":rb(n,i),We("invalid",n)}Qm(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&vu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vu(n.textContent,l,e),s=["children",""+l]):$l.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&We("scroll",n)}switch(r){case"input":du(n),tb(n,i,!0);break;case"textarea":du(n),nb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Td)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[sn]=t,e[Wl]=n,z_(e,t,!1,!1),t.stateNode=e;e:{switch(o=Jm(r,n),r){case"dialog":We("cancel",e),We("close",e),s=n;break;case"iframe":case"object":case"embed":We("load",e),s=n;break;case"video":case"audio":for(s=0;s<fl.length;s++)We(fl[s],e);s=n;break;case"source":We("error",e),s=n;break;case"img":case"image":case"link":We("error",e),We("load",e),s=n;break;case"details":We("toggle",e),s=n;break;case"input":eb(e,n),s=Vm(e,n),We("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=et({},n,{value:void 0}),We("invalid",e);break;case"textarea":rb(e,n),s=Ym(e,n),We("invalid",e);break;default:s=n}Qm(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?jS(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vS(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ml(e,c):typeof c=="number"&&Ml(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($l.hasOwnProperty(i)?c!=null&&i==="onScroll"&&We("scroll",e):c!=null&&F0(e,i,c,o))}switch(r){case"input":du(e),tb(e,n,!1);break;case"textarea":du(e),nb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Aa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?xi(e,!!n.multiple,i,!1):n.defaultValue!=null&&xi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Td)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)H_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ie(166));if(r=is(ql.current),is(un.current),bu(t)){if(n=t.stateNode,r=t.memoizedProps,n[sn]=t,(i=n.nodeValue!==r)&&(e=gr,e!==null))switch(e.tag){case 3:vu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[sn]=t,t.stateNode=n}return $t(t),null;case 13:if(Ve(Je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&mr!==null&&t.mode&1&&!(t.flags&128))l_(),Ai(),t.flags|=98560,i=!1;else if(i=bu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ie(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ie(317));i[sn]=t}else Ai(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),i=!1}else Kr!==null&&(Tx(Kr),Kr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?gt===0&&(gt=3):jy())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return Ti(),Sx(e,t),e===null&&Ul(t.stateNode.containerInfo),$t(t),null;case 10:return ay(t.type._context),$t(t),null;case 17:return er(t.type)&&$d(),$t(t),null;case 19:if(Ve(Je),i=t.memoizedState,i===null)return $t(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)qo(i,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Bd(e),o!==null){for(t.flags|=128,qo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Fe(Je,Je.current&1|2),t.child}e=e.sibling}i.tail!==null&&at()>Mi&&(t.flags|=128,n=!0,qo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Bd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ye)return $t(t),null}else 2*at()-i.renderingStartTime>Mi&&r!==1073741824&&(t.flags|=128,n=!0,qo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=at(),t.sibling=null,r=Je.current,Fe(Je,n?r&1|2:r&1),t):($t(t),null);case 22:case 23:return by(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ur&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function gE(e,t){switch(ey(t),t.tag){case 1:return er(t.type)&&$d(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ti(),Ve(Zt),Ve(Bt),cy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ly(t),null;case 13:if(Ve(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));Ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Je),null;case 4:return Ti(),null;case 10:return ay(t.type._context),null;case 22:case 23:return by(),null;case 24:return null;default:return null}}var Nu=!1,Rt=!1,yE=typeof WeakSet=="function"?WeakSet:Set,fe=null;function li(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){rt(e,t,n)}else r.current=null}function _x(e,t,r){try{r()}catch(n){rt(e,t,n)}}var Vb=!1;function vE(e,t){if(lx=Pd,e=YS(),J0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++u===s&&(l=o),p===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(cx={focusedElem:e,selectionRange:r},Pd=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,h=x.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Hr(t.type,y),h);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(S){rt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return x=Vb,Vb=!1,x}function jl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&_x(t,r,i)}s=s.next}while(s!==n)}}function gp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function kx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function q_(e){var t=e.alternate;t!==null&&(e.alternate=null,q_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[Wl],delete t[fx],delete t[tE],delete t[rE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function V_(e){return e.tag===5||e.tag===3||e.tag===4}function Gb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||V_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Td));else if(n!==4&&(e=e.child,e!==null))for(Cx(e,t,r),e=e.sibling;e!==null;)Cx(e,t,r),e=e.sibling}function Ox(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ox(e,t,r),e=e.sibling;e!==null;)Ox(e,t,r),e=e.sibling}var Ot=null,qr=!1;function ra(e,t,r){for(r=r.child;r!==null;)G_(e,t,r),r=r.sibling}function G_(e,t,r){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(cp,r)}catch{}switch(r.tag){case 5:Rt||li(r,t);case 6:var n=Ot,s=qr;Ot=null,ra(e,t,r),Ot=n,qr=s,Ot!==null&&(qr?(e=Ot,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ot.removeChild(r.stateNode));break;case 18:Ot!==null&&(qr?(e=Ot,r=r.stateNode,e.nodeType===8?Hh(e.parentNode,r):e.nodeType===1&&Hh(e,r),Ll(e)):Hh(Ot,r.stateNode));break;case 4:n=Ot,s=qr,Ot=r.stateNode.containerInfo,qr=!0,ra(e,t,r),Ot=n,qr=s;break;case 0:case 11:case 14:case 15:if(!Rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_x(r,t,o),s=s.next}while(s!==n)}ra(e,t,r);break;case 1:if(!Rt&&(li(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){rt(r,t,l)}ra(e,t,r);break;case 21:ra(e,t,r);break;case 22:r.mode&1?(Rt=(n=Rt)||r.memoizedState!==null,ra(e,t,r),Rt=n):ra(e,t,r);break;default:ra(e,t,r)}}function Kb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yE),t.forEach(function(n){var s=OE.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ur(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ot=l.stateNode,qr=!1;break e;case 3:Ot=l.stateNode.containerInfo,qr=!0;break e;case 4:Ot=l.stateNode.containerInfo,qr=!0;break e}l=l.return}if(Ot===null)throw Error(ie(160));G_(i,o,s),Ot=null,qr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){rt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)K_(t,e),t=t.sibling}function K_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ur(t,e),rn(e),n&4){try{jl(3,e,e.return),gp(3,e)}catch(y){rt(e,e.return,y)}try{jl(5,e,e.return)}catch(y){rt(e,e.return,y)}}break;case 1:Ur(t,e),rn(e),n&512&&r!==null&&li(r,r.return);break;case 5:if(Ur(t,e),rn(e),n&512&&r!==null&&li(r,r.return),e.flags&32){var s=e.stateNode;try{Ml(s,"")}catch(y){rt(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&xS(s,i),Jm(l,o);var u=Jm(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?jS(s,f):d==="dangerouslySetInnerHTML"?vS(s,f):d==="children"?Ml(s,f):F0(s,d,f,u)}switch(l){case"input":Gm(s,i);break;case"textarea":gS(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?xi(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?xi(s,!!i.multiple,i.defaultValue,!0):xi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Wl]=i}catch(y){rt(e,e.return,y)}}break;case 6:if(Ur(t,e),rn(e),n&4){if(e.stateNode===null)throw Error(ie(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){rt(e,e.return,y)}}break;case 3:if(Ur(t,e),rn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ll(t.containerInfo)}catch(y){rt(e,e.return,y)}break;case 4:Ur(t,e),rn(e);break;case 13:Ur(t,e),rn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(yy=at())),n&4&&Kb(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Rt=(u=Rt)||d,Ur(t,e),Rt=u):Ur(t,e),rn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(fe=e,d=e.child;d!==null;){for(f=fe=d;fe!==null;){switch(p=fe,m=p.child,p.tag){case 0:case 11:case 14:case 15:jl(4,p,p.return);break;case 1:li(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){rt(n,r,y)}}break;case 5:li(p,p.return);break;case 22:if(p.memoizedState!==null){Xb(f);continue}}m!==null?(m.return=p,fe=m):Xb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bS("display",o))}catch(y){rt(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){rt(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ur(t,e),rn(e),n&4&&Kb(e);break;case 21:break;default:Ur(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(V_(r)){var n=r;break e}r=r.return}throw Error(ie(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ml(s,""),n.flags&=-33);var i=Gb(e);Ox(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Gb(e);Cx(e,l,o);break;default:throw Error(ie(161))}}catch(c){rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bE(e,t,r){fe=e,Y_(e)}function Y_(e,t,r){for(var n=(e.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Nu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Rt;l=Nu;var u=Rt;if(Nu=o,(Rt=c)&&!u)for(fe=s;fe!==null;)o=fe,c=o.child,o.tag===22&&o.memoizedState!==null?Qb(s):c!==null?(c.return=o,fe=c):Qb(s);for(;i!==null;)fe=i,Y_(i),i=i.sibling;fe=s,Nu=l,Rt=u}Yb(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):Yb(e)}}function Yb(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rt||gp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Hr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$b(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$b(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ll(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Rt||t.flags&512&&kx(t)}catch(p){rt(t,t.return,p)}}if(t===e){fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,fe=r;break}fe=t.return}}function Xb(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,fe=r;break}fe=t.return}}function Qb(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gp(4,t)}catch(c){rt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){rt(t,s,c)}}var i=t.return;try{kx(t)}catch(c){rt(t,i,c)}break;case 5:var o=t.return;try{kx(t)}catch(c){rt(t,o,c)}}}catch(c){rt(t,t.return,c)}if(t===e){fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,fe=l;break}fe=t.return}}var jE=Math.ceil,Wd=Yn.ReactCurrentDispatcher,xy=Yn.ReactCurrentOwner,$r=Yn.ReactCurrentBatchConfig,Se=0,_t=null,ut=null,Pt=0,ur=0,ci=Da(0),gt=0,Yl=null,ws=0,yp=0,gy=0,wl=null,Xt=null,yy=0,Mi=1/0,On=null,Hd=!1,Px=null,wa=null,Su=!1,ha=null,qd=0,Nl=0,Ax=null,cd=-1,ud=0;function Vt(){return Se&6?at():cd!==-1?cd:cd=at()}function Na(e){return e.mode&1?Se&2&&Pt!==0?Pt&-Pt:aE.transition!==null?(ud===0&&(ud=$S()),ud):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:BS(e.type)),e):1}function Qr(e,t,r,n){if(50<Nl)throw Nl=0,Ax=null,Error(ie(185));Lc(e,r,n),(!(Se&2)||e!==_t)&&(e===_t&&(!(Se&2)&&(yp|=r),gt===4&&ca(e,Pt)),tr(e,n),r===1&&Se===0&&!(t.mode&1)&&(Mi=at()+500,hp&&Ra()))}function tr(e,t){var r=e.callbackNode;a5(e,t);var n=Od(e,e===_t?Pt:0);if(n===0)r!==null&&ib(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ib(r),t===1)e.tag===0?nE(Jb.bind(null,e)):s_(Jb.bind(null,e)),Z5(function(){!(Se&6)&&Ra()}),r=null;else{switch(MS(n)){case 1:r=H0;break;case 4:r=ES;break;case 16:r=Cd;break;case 536870912:r=TS;break;default:r=Cd}r=nk(r,X_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function X_(e,t){if(cd=-1,ud=0,Se&6)throw Error(ie(327));var r=e.callbackNode;if(ji()&&e.callbackNode!==r)return null;var n=Od(e,e===_t?Pt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Vd(e,n);else{t=n;var s=Se;Se|=2;var i=J_();(_t!==e||Pt!==t)&&(On=null,Mi=at()+500,fs(e,t));do try{SE();break}catch(l){Q_(e,l)}while(!0);ny(),Wd.current=i,Se=s,ut!==null?t=0:(_t=null,Pt=0,t=gt)}if(t!==0){if(t===2&&(s=nx(e),s!==0&&(n=s,t=Ex(e,s))),t===1)throw r=Yl,fs(e,0),ca(e,n),tr(e,at()),r;if(t===6)ca(e,n);else{if(s=e.current.alternate,!(n&30)&&!wE(s)&&(t=Vd(e,n),t===2&&(i=nx(e),i!==0&&(n=i,t=Ex(e,i))),t===1))throw r=Yl,fs(e,0),ca(e,n),tr(e,at()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ie(345));case 2:Ja(e,Xt,On);break;case 3:if(ca(e,n),(n&130023424)===n&&(t=yy+500-at(),10<t)){if(Od(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Vt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=dx(Ja.bind(null,e,Xt,On),t);break}Ja(e,Xt,On);break;case 4:if(ca(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Xr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jE(n/1960))-n,10<n){e.timeoutHandle=dx(Ja.bind(null,e,Xt,On),n);break}Ja(e,Xt,On);break;case 5:Ja(e,Xt,On);break;default:throw Error(ie(329))}}}return tr(e,at()),e.callbackNode===r?X_.bind(null,e):null}function Ex(e,t){var r=wl;return e.current.memoizedState.isDehydrated&&(fs(e,t).flags|=256),e=Vd(e,t),e!==2&&(t=Xt,Xt=r,t!==null&&Tx(t)),e}function Tx(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function wE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Zr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ca(e,t){for(t&=~gy,t&=~yp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xr(t),n=1<<r;e[r]=-1,t&=~n}}function Jb(e){if(Se&6)throw Error(ie(327));ji();var t=Od(e,0);if(!(t&1))return tr(e,at()),null;var r=Vd(e,t);if(e.tag!==0&&r===2){var n=nx(e);n!==0&&(t=n,r=Ex(e,n))}if(r===1)throw r=Yl,fs(e,0),ca(e,t),tr(e,at()),r;if(r===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ja(e,Xt,On),tr(e,at()),null}function vy(e,t){var r=Se;Se|=1;try{return e(t)}finally{Se=r,Se===0&&(Mi=at()+500,hp&&Ra())}}function Ns(e){ha!==null&&ha.tag===0&&!(Se&6)&&ji();var t=Se;Se|=1;var r=$r.transition,n=Ee;try{if($r.transition=null,Ee=1,e)return e()}finally{Ee=n,$r.transition=r,Se=t,!(Se&6)&&Ra()}}function by(){ur=ci.current,Ve(ci)}function fs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,J5(r)),ut!==null)for(r=ut.return;r!==null;){var n=r;switch(ey(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$d();break;case 3:Ti(),Ve(Zt),Ve(Bt),cy();break;case 5:ly(n);break;case 4:Ti();break;case 13:Ve(Je);break;case 19:Ve(Je);break;case 10:ay(n.type._context);break;case 22:case 23:by()}r=r.return}if(_t=e,ut=e=Sa(e.current,null),Pt=ur=t,gt=0,Yl=null,gy=yp=ws=0,Xt=wl=null,ss!==null){for(t=0;t<ss.length;t++)if(r=ss[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ss=null}return e}function Q_(e,t){do{var r=ut;try{if(ny(),id.current=zd,Ud){for(var n=Ze.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ud=!1}if(js=0,Nt=ht=Ze=null,bl=!1,Vl=0,xy.current=null,r===null||r.return===null){gt=1,Yl=t,ut=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Pt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Fb(o);if(m!==null){m.flags&=-257,Bb(m,o,l,i,t),m.mode&1&&Lb(i,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var y=new Set;y.add(c),t.updateQueue=y}else x.add(c);break e}else{if(!(t&1)){Lb(i,u,t),jy();break e}c=Error(ie(426))}}else if(Ye&&l.mode&1){var h=Fb(o);if(h!==null){!(h.flags&65536)&&(h.flags|=256),Bb(h,o,l,i,t),ty($i(c,l));break e}}i=c=$i(c,l),gt!==4&&(gt=2),wl===null?wl=[i]:wl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=M_(i,c,t);Tb(i,v);break e;case 1:l=c;var g=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(wa===null||!wa.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=D_(i,l,t);Tb(i,S);break e}}i=i.return}while(i!==null)}ek(r)}catch(N){t=N,ut===r&&r!==null&&(ut=r=r.return);continue}break}while(!0)}function J_(){var e=Wd.current;return Wd.current=zd,e===null?zd:e}function jy(){(gt===0||gt===3||gt===2)&&(gt=4),_t===null||!(ws&268435455)&&!(yp&268435455)||ca(_t,Pt)}function Vd(e,t){var r=Se;Se|=2;var n=J_();(_t!==e||Pt!==t)&&(On=null,fs(e,t));do try{NE();break}catch(s){Q_(e,s)}while(!0);if(ny(),Se=r,Wd.current=n,ut!==null)throw Error(ie(261));return _t=null,Pt=0,gt}function NE(){for(;ut!==null;)Z_(ut)}function SE(){for(;ut!==null&&!YA();)Z_(ut)}function Z_(e){var t=rk(e.alternate,e,ur);e.memoizedProps=e.pendingProps,t===null?ek(e):ut=t,xy.current=null}function ek(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=gE(r,t),r!==null){r.flags&=32767,ut=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,ut=null;return}}else if(r=xE(r,t,ur),r!==null){ut=r;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);gt===0&&(gt=5)}function Ja(e,t,r){var n=Ee,s=$r.transition;try{$r.transition=null,Ee=1,_E(e,t,r,n)}finally{$r.transition=s,Ee=n}return null}function _E(e,t,r,n){do ji();while(ha!==null);if(Se&6)throw Error(ie(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(s5(e,i),e===_t&&(ut=_t=null,Pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Su||(Su=!0,nk(Cd,function(){return ji(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=$r.transition,$r.transition=null;var o=Ee;Ee=1;var l=Se;Se|=4,xy.current=null,vE(e,r),K_(r,e),q5(cx),Pd=!!lx,cx=lx=null,e.current=r,bE(r),XA(),Se=l,Ee=o,$r.transition=i}else e.current=r;if(Su&&(Su=!1,ha=e,qd=s),i=e.pendingLanes,i===0&&(wa=null),ZA(r.stateNode),tr(e,at()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Hd)throw Hd=!1,e=Px,Px=null,e;return qd&1&&e.tag!==0&&ji(),i=e.pendingLanes,i&1?e===Ax?Nl++:(Nl=0,Ax=e):Nl=0,Ra(),null}function ji(){if(ha!==null){var e=MS(qd),t=$r.transition,r=Ee;try{if($r.transition=null,Ee=16>e?16:e,ha===null)var n=!1;else{if(e=ha,ha=null,qd=0,Se&6)throw Error(ie(331));var s=Se;for(Se|=4,fe=e.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(fe=u;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:jl(8,d,i)}var f=d.child;if(f!==null)f.return=d,fe=f;else for(;fe!==null;){d=fe;var p=d.sibling,m=d.return;if(q_(d),d===u){fe=null;break}if(p!==null){p.return=m,fe=p;break}fe=m}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var h=y.sibling;y.sibling=null,y=h}while(y!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,fe=v;break e}fe=i.return}}var g=e.current;for(fe=g;fe!==null;){o=fe;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,fe=j;else e:for(o=g;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gp(9,l)}}catch(N){rt(l,l.return,N)}if(l===o){fe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,fe=S;break e}fe=l.return}}if(Se=s,Ra(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(cp,e)}catch{}n=!0}return n}finally{Ee=r,$r.transition=t}}return!1}function Zb(e,t,r){t=$i(r,t),t=M_(e,t,1),e=ja(e,t,1),t=Vt(),e!==null&&(Lc(e,1,t),tr(e,t))}function rt(e,t,r){if(e.tag===3)Zb(e,e,r);else for(;t!==null;){if(t.tag===3){Zb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wa===null||!wa.has(n))){e=$i(r,e),e=D_(t,e,1),t=ja(t,e,1),e=Vt(),t!==null&&(Lc(t,1,e),tr(t,e));break}}t=t.return}}function kE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Vt(),e.pingedLanes|=e.suspendedLanes&r,_t===e&&(Pt&r)===r&&(gt===4||gt===3&&(Pt&130023424)===Pt&&500>at()-yy?fs(e,0):gy|=r),tr(e,t)}function tk(e,t){t===0&&(e.mode&1?(t=hu,hu<<=1,!(hu&130023424)&&(hu=4194304)):t=1);var r=Vt();e=zn(e,t),e!==null&&(Lc(e,t,r),tr(e,r))}function CE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tk(e,r)}function OE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ie(314))}n!==null&&n.delete(t),tk(e,r)}var rk;rk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)Qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Qt=!1,mE(e,t,r);Qt=!!(e.flags&131072)}else Qt=!1,Ye&&t.flags&1048576&&i_(t,Rd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ld(e,t),e=t.pendingProps;var s=Pi(t,Bt.current);bi(t,r),s=dy(null,t,n,e,s,r);var i=fy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,er(n)?(i=!0,Md(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,iy(t),s.updater=xp,t.stateNode=s,s._reactInternals=t,yx(t,n,e,r),t=jx(null,t,n,!0,i,r)):(t.tag=0,Ye&&i&&Z0(t),Ut(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ld(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=AE(n),e=Hr(n,e),s){case 0:t=bx(null,t,n,e,r);break e;case 1:t=Wb(null,t,n,e,r);break e;case 11:t=Ub(null,t,n,e,r);break e;case 14:t=zb(null,t,n,Hr(n.type,e),r);break e}throw Error(ie(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Hr(n,s),bx(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Hr(n,s),Wb(e,t,n,s,r);case 3:e:{if(F_(t),e===null)throw Error(ie(387));n=t.pendingProps,i=t.memoizedState,s=i.element,f_(e,t),Fd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=$i(Error(ie(423)),t),t=Hb(e,t,n,r,s);break e}else if(n!==s){s=$i(Error(ie(424)),t),t=Hb(e,t,n,r,s);break e}else for(mr=ba(t.stateNode.containerInfo.firstChild),gr=t,Ye=!0,Kr=null,r=u_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ai(),n===s){t=Wn(e,t,r);break e}Ut(e,t,n,r)}t=t.child}return t;case 5:return p_(t),e===null&&mx(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ux(n,s)?o=null:i!==null&&ux(n,i)&&(t.flags|=32),L_(e,t),Ut(e,t,o,r),t.child;case 6:return e===null&&mx(t),null;case 13:return B_(e,t,r);case 4:return oy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ei(t,null,n,r):Ut(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Hr(n,s),Ub(e,t,n,s,r);case 7:return Ut(e,t,t.pendingProps,r),t.child;case 8:return Ut(e,t,t.pendingProps.children,r),t.child;case 12:return Ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Fe(Id,n._currentValue),n._currentValue=o,i!==null)if(Zr(i.value,o)){if(i.children===s.children&&!Zt.current){t=Wn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),xx(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ie(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),xx(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ut(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,bi(t,r),s=Dr(s),n=n(s),t.flags|=1,Ut(e,t,n,r),t.child;case 14:return n=t.type,s=Hr(n,t.pendingProps),s=Hr(n.type,s),zb(e,t,n,s,r);case 15:return R_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Hr(n,s),ld(e,t),t.tag=1,er(n)?(e=!0,Md(t)):e=!1,bi(t,r),$_(t,n,s),yx(t,n,s,r),jx(null,t,n,!0,e,r);case 19:return U_(e,t,r);case 22:return I_(e,t,r)}throw Error(ie(156,t.tag))};function nk(e,t){return AS(e,t)}function PE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(e,t,r,n){return new PE(e,t,r,n)}function wy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AE(e){if(typeof e=="function")return wy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===U0)return 11;if(e===z0)return 14}return 2}function Sa(e,t){var r=e.alternate;return r===null?(r=Er(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function dd(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")wy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Zs:return ps(r.children,s,i,t);case B0:o=8,s|=8;break;case zm:return e=Er(12,r,t,s|2),e.elementType=zm,e.lanes=i,e;case Wm:return e=Er(13,r,t,s),e.elementType=Wm,e.lanes=i,e;case Hm:return e=Er(19,r,t,s),e.elementType=Hm,e.lanes=i,e;case pS:return vp(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dS:o=10;break e;case fS:o=9;break e;case U0:o=11;break e;case z0:o=14;break e;case aa:o=16,n=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=Er(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ps(e,t,r,n){return e=Er(7,e,n,t),e.lanes=r,e}function vp(e,t,r,n){return e=Er(22,e,n,t),e.elementType=pS,e.lanes=r,e.stateNode={isHidden:!1},e}function Jh(e,t,r){return e=Er(6,e,null,t),e.lanes=r,e}function Zh(e,t,r){return t=Er(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function EE(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ny(e,t,r,n,s,i,o,l,c){return e=new EE(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Er(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},iy(i),e}function TE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ak(e){if(!e)return Ea;e=e._reactInternals;e:{if(Rs(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var r=e.type;if(er(r))return a_(e,r,t)}return t}function sk(e,t,r,n,s,i,o,l,c){return e=Ny(r,n,!0,e,s,i,o,l,c),e.context=ak(null),r=e.current,n=Vt(),s=Na(r),i=Rn(n,s),i.callback=t??null,ja(r,i,s),e.current.lanes=s,Lc(e,s,n),tr(e,n),e}function bp(e,t,r,n){var s=t.current,i=Vt(),o=Na(s);return r=ak(r),t.context===null?t.context=r:t.pendingContext=r,t=Rn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ja(s,t,o),e!==null&&(Qr(e,s,o,i),sd(e,s,o)),o}function Gd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ej(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Sy(e,t){ej(e,t),(e=e.alternate)&&ej(e,t)}function $E(){return null}var ik=typeof reportError=="function"?reportError:function(e){console.error(e)};function _y(e){this._internalRoot=e}jp.prototype.render=_y.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));bp(e,t,null,null)};jp.prototype.unmount=_y.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ns(function(){bp(null,e,null,null)}),t[Un]=null}};function jp(e){this._internalRoot=e}jp.prototype.unstable_scheduleHydration=function(e){if(e){var t=IS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<la.length&&t!==0&&t<la[r].priority;r++);la.splice(r,0,e),r===0&&FS(e)}};function ky(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tj(){}function ME(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Gd(o);i.call(u)}}var o=sk(t,n,e,0,null,!1,!1,"",tj);return e._reactRootContainer=o,e[Un]=o.current,Ul(e.nodeType===8?e.parentNode:e),Ns(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Gd(c);l.call(u)}}var c=Ny(e,0,!1,null,null,!1,!1,"",tj);return e._reactRootContainer=c,e[Un]=c.current,Ul(e.nodeType===8?e.parentNode:e),Ns(function(){bp(t,c,r,n)}),c}function Np(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Gd(o);l.call(c)}}bp(t,o,e,s)}else o=ME(r,t,e,s,n);return Gd(o)}DS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dl(t.pendingLanes);r!==0&&(q0(t,r|1),tr(t,at()),!(Se&6)&&(Mi=at()+500,Ra()))}break;case 13:Ns(function(){var n=zn(e,1);if(n!==null){var s=Vt();Qr(n,e,1,s)}}),Sy(e,1)}};V0=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var r=Vt();Qr(t,e,134217728,r)}Sy(e,134217728)}};RS=function(e){if(e.tag===13){var t=Na(e),r=zn(e,t);if(r!==null){var n=Vt();Qr(r,e,t,n)}Sy(e,t)}};IS=function(){return Ee};LS=function(e,t){var r=Ee;try{return Ee=e,t()}finally{Ee=r}};ex=function(e,t,r){switch(t){case"input":if(Gm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=pp(n);if(!s)throw Error(ie(90));mS(n),Gm(n,s)}}}break;case"textarea":gS(e,r);break;case"select":t=r.value,t!=null&&xi(e,!!r.multiple,t,!1)}};SS=vy;_S=Ns;var DE={usingClientEntryPoint:!1,Events:[Bc,ni,pp,wS,NS,vy]},Vo={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RE={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=OS(e),e===null?null:e.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||$E,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{cp=_u.inject(RE),cn=_u}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DE;wr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ky(t))throw Error(ie(200));return TE(e,t,null,r)};wr.createRoot=function(e,t){if(!ky(e))throw Error(ie(299));var r=!1,n="",s=ik;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ny(e,1,!1,null,null,r,!1,n,s),e[Un]=t.current,Ul(e.nodeType===8?e.parentNode:e),new _y(t)};wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=OS(t),e=e===null?null:e.stateNode,e};wr.flushSync=function(e){return Ns(e)};wr.hydrate=function(e,t,r){if(!wp(t))throw Error(ie(200));return Np(null,e,t,!0,r)};wr.hydrateRoot=function(e,t,r){if(!ky(e))throw Error(ie(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ik;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=sk(t,null,e,1,r??null,s,!1,i,o),e[Un]=t.current,Ul(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new jp(t)};wr.render=function(e,t,r){if(!wp(t))throw Error(ie(200));return Np(null,e,t,!1,r)};wr.unmountComponentAtNode=function(e){if(!wp(e))throw Error(ie(40));return e._reactRootContainer?(Ns(function(){Np(null,null,e,!1,function(){e._reactRootContainer=null,e[Un]=null})}),!0):!1};wr.unstable_batchedUpdates=vy;wr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!wp(r))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return Np(e,t,r,!1,n)};wr.version="18.3.1-next-f1338f8080-20240426";function ok(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ok)}catch(e){console.error(e)}}ok(),oS.exports=wr;var IE=oS.exports,rj=IE;Bm.createRoot=rj.createRoot,Bm.hydrateRoot=rj.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(this,arguments)}var ma;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ma||(ma={}));const nj="popstate";function LE(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return $x("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Kd(s)}return BE(t,r,null,e)}function st(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FE(){return Math.random().toString(36).substr(2,8)}function aj(e,t){return{usr:e.state,key:e.key,idx:t}}function $x(e,t,r,n){return r===void 0&&(r=null),Xl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vo(t):t,{state:r,key:t&&t.key||n||FE()})}function Kd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function BE(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=ma.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Xl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ma.Pop;let h=d(),v=h==null?null:h-u;u=h,c&&c({action:l,location:y.location,delta:v})}function p(h,v){l=ma.Push;let g=$x(y.location,h,v);u=d()+1;let j=aj(g,u),S=y.createHref(g);try{o.pushState(j,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(S)}i&&c&&c({action:l,location:y.location,delta:1})}function m(h,v){l=ma.Replace;let g=$x(y.location,h,v);u=d();let j=aj(g,u),S=y.createHref(g);o.replaceState(j,"",S),i&&c&&c({action:l,location:y.location,delta:0})}function x(h){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof h=="string"?h:Kd(h);return g=g.replace(/ $/,"%20"),st(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return l},get location(){return e(s,o)},listen(h){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(nj,f),c=h,()=>{s.removeEventListener(nj,f),c=null}},createHref(h){return t(s,h)},createURL:x,encodeLocation(h){let v=x(h);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(h){return o.go(h)}};return y}var sj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sj||(sj={}));function UE(e,t,r){return r===void 0&&(r="/"),zE(e,t,r)}function zE(e,t,r,n){let s=typeof t=="string"?vo(t):t,i=Oy(s.pathname||"/",r);if(i==null)return null;let o=lk(e);WE(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=t6(i);l=JE(o[c],u)}return l}function lk(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=_a([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(st(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lk(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:XE(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of ck(i.path))s(i,o,c)}),t}function ck(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=ck(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function WE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:QE(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const HE=/^:[\w-]+$/,qE=3,VE=2,GE=1,KE=10,YE=-2,ij=e=>e==="*";function XE(e,t){let r=e.split("/"),n=r.length;return r.some(ij)&&(n+=YE),t&&(n+=VE),r.filter(s=>!ij(s)).reduce((s,i)=>s+(HE.test(i)?qE:i===""?GE:KE),n)}function QE(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function JE(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=ZE({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:_a([i,f.pathname]),pathnameBase:i6(_a([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=_a([i,f.pathnameBase]))}return o}function ZE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=e6(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let y=l[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[f];return m&&!x?u[p]=void 0:u[p]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function e6(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Cy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function t6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Oy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const r6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n6=e=>r6.test(e);function a6(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?vo(e):e,i;if(r)if(n6(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Cy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=oj(r.substring(1),"/"):i=oj(r,t)}else i=t;return{pathname:i,search:o6(n),hash:l6(s)}}function oj(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function em(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Py(e,t){let r=s6(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ay(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=vo(e):(s=Xl({},e),st(!s.pathname||!s.pathname.includes("?"),em("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),em("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),em("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=a6(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const _a=e=>e.join("/").replace(/\/\/+/g,"/"),i6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,l6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function c6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const uk=["post","put","patch","delete"];new Set(uk);const u6=["get",...uk];new Set(u6);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}const Ey=b.createContext(null),d6=b.createContext(null),Ia=b.createContext(null),Sp=b.createContext(null),Xn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),dk=b.createContext(null);function f6(e,t){let{relative:r}=t===void 0?{}:t;bo()||st(!1);let{basename:n,navigator:s}=b.useContext(Ia),{hash:i,pathname:o,search:l}=pk(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:_a([n,o])),s.createHref({pathname:c,search:l,hash:i})}function bo(){return b.useContext(Sp)!=null}function Is(){return bo()||st(!1),b.useContext(Sp).location}function fk(e){b.useContext(Ia).static||b.useLayoutEffect(e)}function jo(){let{isDataRoute:e}=b.useContext(Xn);return e?C6():p6()}function p6(){bo()||st(!1);let e=b.useContext(Ey),{basename:t,future:r,navigator:n}=b.useContext(Ia),{matches:s}=b.useContext(Xn),{pathname:i}=Is(),o=JSON.stringify(Py(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return fk(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Ay(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:_a([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const h6=b.createContext(null);function m6(e){let t=b.useContext(Xn).outlet;return t&&b.createElement(h6.Provider,{value:e},t)}function pk(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Ia),{matches:s}=b.useContext(Xn),{pathname:i}=Is(),o=JSON.stringify(Py(s,n.v7_relativeSplatPath));return b.useMemo(()=>Ay(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function x6(e,t){return g6(e,t)}function g6(e,t,r,n){bo()||st(!1);let{navigator:s}=b.useContext(Ia),{matches:i}=b.useContext(Xn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Is(),d;if(t){var f;let h=typeof t=="string"?vo(t):t;c==="/"||(f=h.pathname)!=null&&f.startsWith(c)||st(!1),d=h}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let h=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(h.length).join("/")}let x=UE(e,{pathname:m}),y=w6(x&&x.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:_a([c,s.encodeLocation?s.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?c:_a([c,s.encodeLocation?s.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),i,r,n);return t&&y?b.createElement(Sp.Provider,{value:{location:Ql({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ma.Pop}},y):y}function y6(){let e=k6(),t=c6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const v6=b.createElement(y6,null);class b6 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(Xn.Provider,{value:this.props.routeContext},b.createElement(dk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j6(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(Ey);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Xn.Provider,{value:t},n)}function w6(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||st(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:m}=r,x=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let m,x=!1,y=null,h=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||v6,c&&(u<0&&p===0?(O6("route-fallback"),x=!0,h=null):u===p&&(x=!0,h=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,p+1)),g=()=>{let j;return m?j=y:x?j=h:f.route.Component?j=b.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,b.createElement(j6,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?b.createElement(b6,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var hk=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hk||{}),mk=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mk||{});function N6(e){let t=b.useContext(Ey);return t||st(!1),t}function S6(e){let t=b.useContext(d6);return t||st(!1),t}function _6(e){let t=b.useContext(Xn);return t||st(!1),t}function xk(e){let t=_6(),r=t.matches[t.matches.length-1];return r.route.id||st(!1),r.route.id}function k6(){var e;let t=b.useContext(dk),r=S6(),n=xk();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function C6(){let{router:e}=N6(hk.UseNavigateStable),t=xk(mk.UseNavigateStable),r=b.useRef(!1);return fk(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ql({fromRouteId:t},i)))},[e,t])}const lj={};function O6(e,t,r){lj[e]||(lj[e]=!0)}function P6(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Mx(e){let{to:t,replace:r,state:n,relative:s}=e;bo()||st(!1);let{future:i,static:o}=b.useContext(Ia),{matches:l}=b.useContext(Xn),{pathname:c}=Is(),u=jo(),d=Ay(t,Py(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function A6(e){return m6(e.context)}function we(e){st(!1)}function E6(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ma.Pop,navigator:i,static:o=!1,future:l}=e;bo()&&st(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:Ql({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=vo(n));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:x="default"}=n,y=b.useMemo(()=>{let h=Oy(d,c);return h==null?null:{location:{pathname:h,search:f,hash:p,state:m,key:x},navigationType:s}},[c,d,f,p,m,x,s]);return y==null?null:b.createElement(Ia.Provider,{value:u},b.createElement(Sp.Provider,{children:r,value:y}))}function T6(e){let{children:t,location:r}=e;return x6(Dx(t),r)}new Promise(()=>{});function Dx(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,Dx(n.props.children,i));return}n.type!==we&&st(!1),!n.props.index||!n.props.children||st(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Dx(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rx.apply(this,arguments)}function $6(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function M6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function D6(e,t){return e.button===0&&(!t||t==="_self")&&!M6(e)}function Ix(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function R6(e,t){let r=Ix(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const I6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L6="6";try{window.__reactRouterVersion=L6}catch{}const F6="startTransition",cj=kA[F6];function B6(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=LE({window:s,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&cj?cj(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>P6(n),[n]),b.createElement(E6,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const U6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ss=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,p=$6(t,I6),{basename:m}=b.useContext(Ia),x,y=!1;if(typeof u=="string"&&z6.test(u)&&(x=u,U6))try{let j=new URL(window.location.href),S=u.startsWith("//")?new URL(j.protocol+u):new URL(u),N=Oy(S.pathname,m);S.origin===j.origin&&N!=null?u=N+S.search+S.hash:y=!0}catch{}let h=f6(u,{relative:s}),v=W6(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(j){n&&n(j),j.defaultPrevented||v(j)}return b.createElement("a",Rx({},p,{href:x||h,onClick:y||i?n:g,ref:r,target:c}))});var uj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(uj||(uj={}));var dj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dj||(dj={}));function W6(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=jo(),u=Is(),d=pk(e,{relative:o});return b.useCallback(f=>{if(D6(f,r)){f.preventDefault();let p=n!==void 0?n:Kd(u)===Kd(d);c(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function H6(e){let t=b.useRef(Ix(e)),r=b.useRef(!1),n=Is(),s=b.useMemo(()=>R6(n.search,r.current?null:t.current),[n.search]),i=jo(),o=b.useCallback((l,c)=>{const u=Ix(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}let q6={data:""},V6=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||q6},G6=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,K6=/\/\*[^]*?\*\/|  +/g,fj=/\n+/g,ua=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?ua(o,i):i+"{"+ua(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=ua(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ua.p?ua.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Sn={},gk=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+gk(e[r]);return t}return e},Y6=(e,t,r,n,s)=>{let i=gk(e),o=Sn[i]||(Sn[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Sn[o]){let c=i!==e?e:(u=>{let d,f,p=[{}];for(;d=G6.exec(u.replace(K6,""));)d[4]?p.shift():d[3]?(f=d[3].replace(fj," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][d[1]]=d[2].replace(fj," ").trim();return p[0]})(e);Sn[o]=ua(s?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&Sn.g?Sn.g:null;return r&&(Sn.g=Sn[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Sn[o],t,n,l),o},X6=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":ua(l,""):l===!1?"":l}return n+s+(o??"")},"");function _p(e){let t=this||{},r=e.call?e(t.p):e;return Y6(r.unshift?r.raw?X6(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,V6(t.target),t.g,t.o,t.k)}let yk,Lx,Fx;_p.bind({g:1});let Hn=_p.bind({k:1});function Q6(e,t,r,n){ua.p=t,yk=e,Lx=r,Fx=n}function La(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;r.p=Object.assign({theme:Lx&&Lx()},l),r.o=/ *go\d+/.test(c),l.className=_p.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Fx&&u[0]&&Fx(l),yk(u,l)}return s}}var J6=e=>typeof e=="function",Yd=(e,t)=>J6(e)?e(t):e,Z6=(()=>{let e=0;return()=>(++e).toString()})(),vk=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),eT=20,Ty="default",bk=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return bk(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},fd=[],jk={toasts:[],pausedAt:void 0,settings:{toastLimit:eT}},on={},wk=(e,t=Ty)=>{on[t]=bk(on[t]||jk,e),fd.forEach(([r,n])=>{r===t&&n(on[t])})},Nk=e=>Object.keys(on).forEach(t=>wk(e,t)),tT=e=>Object.keys(on).find(t=>on[t].toasts.some(r=>r.id===e)),kp=(e=Ty)=>t=>{wk(t,e)},rT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},nT=(e={},t=Ty)=>{let[r,n]=b.useState(on[t]||jk),s=b.useRef(on[t]);b.useEffect(()=>(s.current!==on[t]&&n(on[t]),fd.push([t,n]),()=>{let o=fd.findIndex(([l])=>l===t);o>-1&&fd.splice(o,1)}),[t]);let i=r.toasts.map(o=>{var l,c,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||rT[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:i}},aT=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Z6()}),zc=e=>(t,r)=>{let n=aT(t,e,r);return kp(n.toasterId||tT(n.id))({type:2,toast:n}),n.id},mt=(e,t)=>zc("blank")(e,t);mt.error=zc("error");mt.success=zc("success");mt.loading=zc("loading");mt.custom=zc("custom");mt.dismiss=(e,t)=>{let r={type:3,toastId:e};t?kp(t)(r):Nk(r)};mt.dismissAll=e=>mt.dismiss(void 0,e);mt.remove=(e,t)=>{let r={type:4,toastId:e};t?kp(t)(r):Nk(r)};mt.removeAll=e=>mt.remove(void 0,e);mt.promise=(e,t,r)=>{let n=mt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Yd(t.success,s):void 0;return i?mt.success(i,{id:n,...r,...r==null?void 0:r.success}):mt.dismiss(n),s}).catch(s=>{let i=t.error?Yd(t.error,s):void 0;i?mt.error(i,{id:n,...r,...r==null?void 0:r.error}):mt.dismiss(n)}),e};var sT=1e3,iT=(e,t="default")=>{let{toasts:r,pausedAt:n}=nT(e,t),s=b.useRef(new Map).current,i=b.useCallback((f,p=sT)=>{if(s.has(f))return;let m=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},p);s.set(f,m)},[]);b.useEffect(()=>{if(n)return;let f=Date.now(),p=r.map(m=>{if(m.duration===1/0)return;let x=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(x<0){m.visible&&mt.dismiss(m.id);return}return setTimeout(()=>mt.dismiss(m.id,t),x)});return()=>{p.forEach(m=>m&&clearTimeout(m))}},[r,n,t]);let o=b.useCallback(kp(t),[t]),l=b.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=b.useCallback((f,p)=>{o({type:1,toast:{id:f,height:p}})},[o]),u=b.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),d=b.useCallback((f,p)=>{let{reverseOrder:m=!1,gutter:x=8,defaultPosition:y}=p||{},h=r.filter(j=>(j.position||y)===(f.position||y)&&j.height),v=h.findIndex(j=>j.id===f.id),g=h.filter((j,S)=>S<v&&j.visible).length;return h.filter(j=>j.visible).slice(...m?[g+1]:[0,g]).reduce((j,S)=>j+(S.height||0)+x,0)},[r]);return b.useEffect(()=>{r.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let p=s.get(f.id);p&&(clearTimeout(p),s.delete(f.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},oT=Hn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,lT=Hn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cT=Hn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,uT=La("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${lT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${cT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,dT=Hn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,fT=La("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${dT} 1s linear infinite;
`,pT=Hn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hT=Hn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,mT=La("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xT=La("div")`
  position: absolute;
`,gT=La("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yT=Hn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vT=La("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,bT=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?b.createElement(vT,null,t):t:r==="blank"?null:b.createElement(gT,null,b.createElement(fT,{...n}),r!=="loading"&&b.createElement(xT,null,r==="error"?b.createElement(uT,{...n}):b.createElement(mT,{...n})))},jT=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wT=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,NT="0%{opacity:0;} 100%{opacity:1;}",ST="0%{opacity:1;} 100%{opacity:0;}",_T=La("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kT=La("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,CT=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=vk()?[NT,ST]:[jT(r),wT(r)];return{animation:t?`${Hn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Hn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},OT=b.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?CT(e.position||t||"top-center",e.visible):{opacity:0},i=b.createElement(bT,{toast:e}),o=b.createElement(kT,{...e.ariaProps},Yd(e.message,e));return b.createElement(_T,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):b.createElement(b.Fragment,null,i,o))});Q6(b.createElement);var PT=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=b.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return b.createElement("div",{ref:i,className:t,style:r},s)},AT=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vk()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},ET=_p`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ku=16,TT=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=iT(r,i);return b.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:ku,left:ku,right:ku,bottom:ku,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,p=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),m=AT(f,p);return b.createElement(PT,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?ET:"",style:m},d.type==="custom"?Yd(d.message,d):s?s(d):b.createElement(OT,{toast:d,position:f}))}))},ne=mt;function Sk(e,t){return function(){return e.apply(t,arguments)}}const{toString:$T}=Object.prototype,{getPrototypeOf:$y}=Object,{iterator:Cp,toStringTag:_k}=Symbol,Op=(e=>t=>{const r=$T.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),en=e=>(e=e.toLowerCase(),t=>Op(t)===e),Pp=e=>t=>typeof t===e,{isArray:wo}=Array,Di=Pp("undefined");function Wc(e){return e!==null&&!Di(e)&&e.constructor!==null&&!Di(e.constructor)&&rr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const kk=en("ArrayBuffer");function MT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&kk(e.buffer),t}const DT=Pp("string"),rr=Pp("function"),Ck=Pp("number"),Hc=e=>e!==null&&typeof e=="object",RT=e=>e===!0||e===!1,pd=e=>{if(Op(e)!=="object")return!1;const t=$y(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(_k in e)&&!(Cp in e)},IT=e=>{if(!Hc(e)||Wc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},LT=en("Date"),FT=en("File"),BT=en("Blob"),UT=en("FileList"),zT=e=>Hc(e)&&rr(e.pipe),WT=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||rr(e.append)&&((t=Op(e))==="formdata"||t==="object"&&rr(e.toString)&&e.toString()==="[object FormData]"))},HT=en("URLSearchParams"),[qT,VT,GT,KT]=["ReadableStream","Request","Response","Headers"].map(en),YT=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),wo(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Wc(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function Ok(e,t){if(Wc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const os=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pk=e=>!Di(e)&&e!==os;function Bx(){const{caseless:e,skipUndefined:t}=Pk(this)&&this||{},r={},n=(s,i)=>{const o=e&&Ok(r,i)||i;pd(r[o])&&pd(s)?r[o]=Bx(r[o],s):pd(s)?r[o]=Bx({},s):wo(s)?r[o]=s.slice():(!t||!Di(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&qc(arguments[s],n);return r}const XT=(e,t,r,{allOwnKeys:n}={})=>(qc(t,(s,i)=>{r&&rr(s)?Object.defineProperty(e,i,{value:Sk(s,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),QT=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),JT=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ZT=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&$y(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},e3=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},t3=e=>{if(!e)return null;if(wo(e))return e;let t=e.length;if(!Ck(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},r3=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$y(Uint8Array)),n3=(e,t)=>{const n=(e&&e[Cp]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},a3=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},s3=en("HTMLFormElement"),i3=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),pj=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),o3=en("RegExp"),Ak=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};qc(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},l3=e=>{Ak(e,(t,r)=>{if(rr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(rr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},c3=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return wo(e)?n(e):n(String(e).split(t)),r},u3=()=>{},d3=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function f3(e){return!!(e&&rr(e.append)&&e[_k]==="FormData"&&e[Cp])}const p3=e=>{const t=new Array(10),r=(n,s)=>{if(Hc(n)){if(t.indexOf(n)>=0)return;if(Wc(n))return n;if(!("toJSON"in n)){t[s]=n;const i=wo(n)?[]:{};return qc(n,(o,l)=>{const c=r(o,s+1);!Di(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},h3=en("AsyncFunction"),m3=e=>e&&(Hc(e)||rr(e))&&rr(e.then)&&rr(e.catch),Ek=((e,t)=>e?setImmediate:t?((r,n)=>(os.addEventListener("message",({source:s,data:i})=>{s===os&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),os.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",rr(os.postMessage)),x3=typeof queueMicrotask<"u"?queueMicrotask.bind(os):typeof process<"u"&&process.nextTick||Ek,g3=e=>e!=null&&rr(e[Cp]),X={isArray:wo,isArrayBuffer:kk,isBuffer:Wc,isFormData:WT,isArrayBufferView:MT,isString:DT,isNumber:Ck,isBoolean:RT,isObject:Hc,isPlainObject:pd,isEmptyObject:IT,isReadableStream:qT,isRequest:VT,isResponse:GT,isHeaders:KT,isUndefined:Di,isDate:LT,isFile:FT,isBlob:BT,isRegExp:o3,isFunction:rr,isStream:zT,isURLSearchParams:HT,isTypedArray:r3,isFileList:UT,forEach:qc,merge:Bx,extend:XT,trim:YT,stripBOM:QT,inherits:JT,toFlatObject:ZT,kindOf:Op,kindOfTest:en,endsWith:e3,toArray:t3,forEachEntry:n3,matchAll:a3,isHTMLForm:s3,hasOwnProperty:pj,hasOwnProp:pj,reduceDescriptors:Ak,freezeMethods:l3,toObjectSet:c3,toCamelCase:i3,noop:u3,toFiniteNumber:d3,findKey:Ok,global:os,isContextDefined:Pk,isSpecCompliantForm:f3,toJSONObject:p3,isAsyncFn:h3,isThenable:m3,setImmediate:Ek,asap:x3,isIterable:g3};let ye=class Tk extends Error{static from(t,r,n,s,i,o){const l=new Tk(t.message,r||t.code,n,s,i);return l.cause=t,l.name=t.name,o&&Object.assign(l,o),l}constructor(t,r,n,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}};ye.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";ye.ERR_BAD_OPTION="ERR_BAD_OPTION";ye.ECONNABORTED="ECONNABORTED";ye.ETIMEDOUT="ETIMEDOUT";ye.ERR_NETWORK="ERR_NETWORK";ye.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";ye.ERR_DEPRECATED="ERR_DEPRECATED";ye.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";ye.ERR_BAD_REQUEST="ERR_BAD_REQUEST";ye.ERR_CANCELED="ERR_CANCELED";ye.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";ye.ERR_INVALID_URL="ERR_INVALID_URL";const y3=null;function Ux(e){return X.isPlainObject(e)||X.isArray(e)}function $k(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function hj(e,t,r){return e?e.concat(t).map(function(s,i){return s=$k(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function v3(e){return X.isArray(e)&&!e.some(Ux)}const b3=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function Ap(e,t,r){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=X.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,h){return!X.isUndefined(h[y])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(X.isDate(x))return x.toISOString();if(X.isBoolean(x))return x.toString();if(!c&&X.isBlob(x))throw new ye("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(x)||X.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,y,h){let v=x;if(x&&!h&&typeof x=="object"){if(X.endsWith(y,"{}"))y=n?y:y.slice(0,-2),x=JSON.stringify(x);else if(X.isArray(x)&&v3(x)||(X.isFileList(x)||X.endsWith(y,"[]"))&&(v=X.toArray(x)))return y=$k(y),v.forEach(function(j,S){!(X.isUndefined(j)||j===null)&&t.append(o===!0?hj([y],S,i):o===null?y:y+"[]",u(j))}),!1}return Ux(x)?!0:(t.append(hj(h,y,i),u(x)),!1)}const f=[],p=Object.assign(b3,{defaultVisitor:d,convertValue:u,isVisitable:Ux});function m(x,y){if(!X.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(x),X.forEach(x,function(v,g){(!(X.isUndefined(v)||v===null)&&s.call(t,v,X.isString(g)?g.trim():g,y,p))===!0&&m(v,y?y.concat(g):[g])}),f.pop()}}if(!X.isObject(e))throw new TypeError("data must be an object");return m(e),t}function mj(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function My(e,t){this._pairs=[],e&&Ap(e,this,t)}const Mk=My.prototype;Mk.append=function(t,r){this._pairs.push([t,r])};Mk.toString=function(t){const r=t?function(n){return t.call(this,n,mj)}:mj;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function j3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Dk(e,t,r){if(!t)return e;const n=r&&r.encode||j3,s=X.isFunction(r)?{serialize:r}:r,i=s&&s.serialize;let o;if(i?o=i(t,s):o=X.isURLSearchParams(t)?t.toString():new My(t,s).toString(n),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class xj{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Rk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},w3=typeof URLSearchParams<"u"?URLSearchParams:My,N3=typeof FormData<"u"?FormData:null,S3=typeof Blob<"u"?Blob:null,_3={isBrowser:!0,classes:{URLSearchParams:w3,FormData:N3,Blob:S3},protocols:["http","https","file","blob","url","data"]},Dy=typeof window<"u"&&typeof document<"u",zx=typeof navigator=="object"&&navigator||void 0,k3=Dy&&(!zx||["ReactNative","NativeScript","NS"].indexOf(zx.product)<0),C3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",O3=Dy&&window.location.href||"http://localhost",P3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dy,hasStandardBrowserEnv:k3,hasStandardBrowserWebWorkerEnv:C3,navigator:zx,origin:O3},Symbol.toStringTag,{value:"Module"})),Lt={...P3,..._3};function A3(e,t){return Ap(e,new Lt.classes.URLSearchParams,{visitor:function(r,n,s,i){return Lt.isNode&&X.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function E3(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function T3(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function Ik(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&X.isArray(s)?s.length:o,c?(X.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!X.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&X.isArray(s[o])&&(s[o]=T3(s[o])),!l)}if(X.isFormData(e)&&X.isFunction(e.entries)){const r={};return X.forEachEntry(e,(n,s)=>{t(E3(n),s,r,0)}),r}return null}function $3(e,t,r){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Vc={transitional:Rk,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=X.isObject(t);if(i&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return s?JSON.stringify(Ik(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t)||X.isReadableStream(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return A3(t,this.formSerializer).toString();if((l=X.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ap(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),$3(t)):t}],transformResponse:[function(t){const r=this.transitional||Vc.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(X.isResponse(t)||X.isReadableStream(t))return t;if(t&&X.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ye.from(l,ye.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lt.classes.FormData,Blob:Lt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],e=>{Vc.headers[e]={}});const M3=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),D3=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&M3[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},gj=Symbol("internals");function Go(e){return e&&String(e).trim().toLowerCase()}function hd(e){return e===!1||e==null?e:X.isArray(e)?e.map(hd):String(e)}function R3(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const I3=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tm(e,t,r,n,s){if(X.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!X.isString(t)){if(X.isString(n))return t.indexOf(n)!==-1;if(X.isRegExp(n))return n.test(t)}}function L3(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function F3(e,t){const r=X.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let nr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,u){const d=Go(c);if(!d)throw new Error("header name must be a non-empty string");const f=X.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=hd(l))}const o=(l,c)=>X.forEach(l,(u,d)=>i(u,d,c));if(X.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(X.isString(t)&&(t=t.trim())&&!I3(t))o(D3(t),r);else if(X.isObject(t)&&X.isIterable(t)){let l={},c,u;for(const d of t){if(!X.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?X.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Go(t),t){const n=X.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return R3(s);if(X.isFunction(r))return r.call(this,s,n);if(X.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Go(t),t){const n=X.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||tm(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=Go(o),o){const l=X.findKey(n,o);l&&(!r||tm(n,n[l],l,r))&&(delete n[l],s=!0)}}return X.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||tm(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return X.forEach(this,(s,i)=>{const o=X.findKey(n,i);if(o){r[o]=hd(s),delete r[i];return}const l=t?L3(i):String(i).trim();l!==i&&delete r[i],r[l]=hd(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return X.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&X.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[gj]=this[gj]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Go(o);n[l]||(F3(s,o),n[l]=!0)}return X.isArray(t)?t.forEach(i):i(t),this}};nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(nr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});X.freezeMethods(nr);function rm(e,t){const r=this||Vc,n=t||r,s=nr.from(n.headers);let i=n.data;return X.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Lk(e){return!!(e&&e.__CANCEL__)}let Gc=class extends ye{constructor(t,r,n){super(t??"canceled",ye.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function Fk(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ye("Request failed with status code "+r.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function B3(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function U3(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[s]=c,n[s]=u;let f=i,p=0;for(;f!==s;)p+=r[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(p*1e3/m):void 0}}function z3(e,t){let r=0,n=1e3/t,s,i;const o=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-f)))},()=>s&&o(s)]}const Xd=(e,t,r=3)=>{let n=0;const s=U3(50,250);return z3(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},yj=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},vj=e=>(...t)=>X.asap(()=>e(...t)),W3=Lt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Lt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Lt.origin),Lt.navigator&&/(msie|trident)/i.test(Lt.navigator.userAgent)):()=>!0,H3=Lt.hasStandardBrowserEnv?{write(e,t,r,n,s,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];X.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),X.isString(n)&&l.push(`path=${n}`),X.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),X.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function q3(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function V3(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Bk(e,t,r){let n=!q3(t);return e&&(n||r==!1)?V3(e,t):t}const bj=e=>e instanceof nr?{...e}:e;function _s(e,t){t=t||{};const r={};function n(u,d,f,p){return X.isPlainObject(u)&&X.isPlainObject(d)?X.merge.call({caseless:p},u,d):X.isPlainObject(d)?X.merge({},d):X.isArray(d)?d.slice():d}function s(u,d,f,p){if(X.isUndefined(d)){if(!X.isUndefined(u))return n(void 0,u,f,p)}else return n(u,d,f,p)}function i(u,d){if(!X.isUndefined(d))return n(void 0,d)}function o(u,d){if(X.isUndefined(d)){if(!X.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>s(bj(u),bj(d),f,!0)};return X.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,p=f(e[d],t[d],d);X.isUndefined(p)&&f!==l||(r[d]=p)}),r}const Uk=e=>{const t=_s({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=nr.from(o),t.url=Dk(Bk(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),X.isFormData(r)){if(Lt.hasStandardBrowserEnv||Lt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(X.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Lt.hasStandardBrowserEnv&&(n&&X.isFunction(n)&&(n=n(t)),n||n!==!1&&W3(t.url))){const c=s&&i&&H3.read(i);c&&o.set(s,c)}return t},G3=typeof XMLHttpRequest<"u",K3=G3&&function(e){return new Promise(function(r,n){const s=Uk(e);let i=s.data;const o=nr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,p,m,x;function y(){m&&m(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let h=new XMLHttpRequest;h.open(s.method.toUpperCase(),s.url,!0),h.timeout=s.timeout;function v(){if(!h)return;const j=nr.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:j,config:e,request:h};Fk(function(C){r(C),y()},function(C){n(C),y()},N),h=null}"onloadend"in h?h.onloadend=v:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(v)},h.onabort=function(){h&&(n(new ye("Request aborted",ye.ECONNABORTED,e,h)),h=null)},h.onerror=function(S){const N=S&&S.message?S.message:"Network Error",w=new ye(N,ye.ERR_NETWORK,e,h);w.event=S||null,n(w),h=null},h.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||Rk;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),n(new ye(S,N.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,e,h)),h=null},i===void 0&&o.setContentType(null),"setRequestHeader"in h&&X.forEach(o.toJSON(),function(S,N){h.setRequestHeader(N,S)}),X.isUndefined(s.withCredentials)||(h.withCredentials=!!s.withCredentials),l&&l!=="json"&&(h.responseType=s.responseType),u&&([p,x]=Xd(u,!0),h.addEventListener("progress",p)),c&&h.upload&&([f,m]=Xd(c),h.upload.addEventListener("progress",f),h.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=j=>{h&&(n(!j||j.type?new Gc(null,e,h):j),h.abort(),h=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=B3(s.url);if(g&&Lt.protocols.indexOf(g)===-1){n(new ye("Unsupported protocol "+g+":",ye.ERR_BAD_REQUEST,e));return}h.send(i||null)})},Y3=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ye?d:new Gc(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new ye(`timeout of ${t}ms exceeded`,ye.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>X.asap(l),c}},X3=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},Q3=async function*(e,t){for await(const r of J3(e))yield*X3(r,t)},J3=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},jj=(e,t,r,n)=>{const s=Q3(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let p=i+=f;r(p)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},wj=64*1024,{isFunction:Cu}=X,Z3=(({Request:e,Response:t})=>({Request:e,Response:t}))(X.global),{ReadableStream:Nj,TextEncoder:Sj}=X.global,_j=(e,...t)=>{try{return!!e(...t)}catch{return!1}},e$=e=>{e=X.merge.call({skipUndefined:!0},Z3,e);const{fetch:t,Request:r,Response:n}=e,s=t?Cu(t):typeof fetch=="function",i=Cu(r),o=Cu(n);if(!s)return!1;const l=s&&Cu(Nj),c=s&&(typeof Sj=="function"?(x=>y=>x.encode(y))(new Sj):async x=>new Uint8Array(await new r(x).arrayBuffer())),u=i&&l&&_j(()=>{let x=!1;const y=new r(Lt.origin,{body:new Nj,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!y}),d=o&&l&&_j(()=>X.isReadableStream(new n("").body)),f={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(y,h)=>{let v=y&&y[x];if(v)return v.call(y);throw new ye(`Response type '${x}' is not supported`,ye.ERR_NOT_SUPPORT,h)})});const p=async x=>{if(x==null)return 0;if(X.isBlob(x))return x.size;if(X.isSpecCompliantForm(x))return(await new r(Lt.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(X.isArrayBufferView(x)||X.isArrayBuffer(x))return x.byteLength;if(X.isURLSearchParams(x)&&(x=x+""),X.isString(x))return(await c(x)).byteLength},m=async(x,y)=>{const h=X.toFiniteNumber(x.getContentLength());return h??p(y)};return async x=>{let{url:y,method:h,data:v,signal:g,cancelToken:j,timeout:S,onDownloadProgress:N,onUploadProgress:w,responseType:C,headers:_,withCredentials:P="same-origin",fetchOptions:k}=Uk(x),$=t||fetch;C=C?(C+"").toLowerCase():"text";let O=Y3([g,j&&j.toAbortSignal()],S),F=null;const B=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let R;try{if(w&&u&&h!=="get"&&h!=="head"&&(R=await m(_,v))!==0){let U=new r(y,{method:"POST",body:v,duplex:"half"}),L;if(X.isFormData(v)&&(L=U.headers.get("content-type"))&&_.setContentType(L),U.body){const[A,H]=yj(R,Xd(vj(w)));v=jj(U.body,wj,A,H)}}X.isString(P)||(P=P?"include":"omit");const z=i&&"credentials"in r.prototype,G={...k,signal:O,method:h.toUpperCase(),headers:_.normalize().toJSON(),body:v,duplex:"half",credentials:z?P:void 0};F=i&&new r(y,G);let I=await(i?$(F,k):$(y,G));const T=d&&(C==="stream"||C==="response");if(d&&(N||T&&B)){const U={};["status","statusText","headers"].forEach(te=>{U[te]=I[te]});const L=X.toFiniteNumber(I.headers.get("content-length")),[A,H]=N&&yj(L,Xd(vj(N),!0))||[];I=new n(jj(I.body,wj,A,()=>{H&&H(),B&&B()}),U)}C=C||"text";let E=await f[X.findKey(f,C)||"text"](I,x);return!T&&B&&B(),await new Promise((U,L)=>{Fk(U,L,{data:E,headers:nr.from(I.headers),status:I.status,statusText:I.statusText,config:x,request:F})})}catch(z){throw B&&B(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,x,F),{cause:z.cause||z}):ye.from(z,z&&z.code,x,F)}}},t$=new Map,zk=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,c,u,d=t$;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:e$(t)),d=u;return u};zk();const Ry={http:y3,xhr:K3,fetch:{get:zk}};X.forEach(Ry,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kj=e=>`- ${e}`,r$=e=>X.isFunction(e)||e===null||e===!1;function n$(e,t){e=X.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!r$(n)&&(s=Ry[(l=String(n)).toLowerCase()],s===void 0))throw new ye(`Unknown adapter '${l}'`);if(s&&(X.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(kj).join(`
`):" "+kj(o[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const Wk={getAdapter:n$,adapters:Ry};function nm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gc(null,e)}function Cj(e){return nm(e),e.headers=nr.from(e.headers),e.data=rm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Wk.getAdapter(e.adapter||Vc.adapter,e)(e).then(function(n){return nm(e),n.data=rm.call(e,e.transformResponse,n),n.headers=nr.from(n.headers),n},function(n){return Lk(n)||(nm(e),n&&n.response&&(n.response.data=rm.call(e,e.transformResponse,n.response),n.response.headers=nr.from(n.response.headers))),Promise.reject(n)})}const Hk="1.13.4",Ep={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ep[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Oj={};Ep.transitional=function(t,r,n){function s(i,o){return"[Axios v"+Hk+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new ye(s(o," has been removed"+(r?" in "+r:"")),ye.ERR_DEPRECATED);return r&&!Oj[o]&&(Oj[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Ep.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function a$(e,t,r){if(typeof e!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ye("option "+i+" must be "+c,ye.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ye("Unknown option "+i,ye.ERR_BAD_OPTION)}}const md={assertOptions:a$,validators:Ep},nn=md.validators;let hs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new xj,response:new xj}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=_s(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&md.assertOptions(n,{silentJSONParsing:nn.transitional(nn.boolean),forcedJSONParsing:nn.transitional(nn.boolean),clarifyTimeoutError:nn.transitional(nn.boolean)},!1),s!=null&&(X.isFunction(s)?r.paramsSerializer={serialize:s}:md.assertOptions(s,{encode:nn.function,serialize:nn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),md.assertOptions(r,{baseUrl:nn.spelling("baseURL"),withXsrfToken:nn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&X.merge(i.common,i[r.method]);i&&X.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=nr.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,p;if(!c){const x=[Cj.bind(this),void 0];for(x.unshift(...l),x.push(...u),p=x.length,d=Promise.resolve(r);f<p;)d=d.then(x[f++],x[f++]);return d}p=l.length;let m=r;for(;f<p;){const x=l[f++],y=l[f++];try{m=x(m)}catch(h){y.call(this,h);break}}try{d=Cj.call(this,m)}catch(x){return Promise.reject(x)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=_s(this.defaults,t);const r=Bk(t.baseURL,t.url,t.allowAbsoluteUrls);return Dk(r,t.params,t.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(t){hs.prototype[t]=function(r,n){return this.request(_s(n||{},{method:t,url:r,data:(n||{}).data}))}});X.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(_s(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}hs.prototype[t]=r(),hs.prototype[t+"Form"]=r(!0)});let s$=class qk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Gc(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new qk(function(s){t=s}),cancel:t}}};function i$(e){return function(r){return e.apply(null,r)}}function o$(e){return X.isObject(e)&&e.isAxiosError===!0}const Wx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Wx).forEach(([e,t])=>{Wx[t]=e});function Vk(e){const t=new hs(e),r=Sk(hs.prototype.request,t);return X.extend(r,hs.prototype,t,{allOwnKeys:!0}),X.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Vk(_s(e,s))},r}const it=Vk(Vc);it.Axios=hs;it.CanceledError=Gc;it.CancelToken=s$;it.isCancel=Lk;it.VERSION=Hk;it.toFormData=Ap;it.AxiosError=ye;it.Cancel=it.CanceledError;it.all=function(t){return Promise.all(t)};it.spread=i$;it.isAxiosError=o$;it.mergeConfig=_s;it.AxiosHeaders=nr;it.formToJSON=e=>Ik(X.isHTMLForm(e)?new FormData(e):e);it.getAdapter=Wk.getAdapter;it.HttpStatusCode=Wx;it.default=it;const{Axios:Vle,AxiosError:Gle,CanceledError:Kle,isCancel:Yle,CancelToken:Xle,VERSION:Qle,all:Jle,Cancel:Zle,isAxiosError:ece,spread:tce,toFormData:rce,AxiosHeaders:nce,HttpStatusCode:ace,formToJSON:sce,getAdapter:ice,mergeConfig:oce}=it,l$="https://ecommerce-4ifc.onrender.com/api",q=it.create({baseURL:l$,headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});q.interceptors.request.use(e=>{const t=localStorage.getItem("adminToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));q.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("adminToken"),localStorage.removeItem("admin"),window.location.href="/login"),Promise.reject(e)});const Sl={login:(e,t,r)=>q.post("/auth/admin/login",{email:e,password:t,captchaToken:r}),logout:()=>q.post("/auth/admin/logout"),forgotPassword:(e,t)=>q.post("/auth/admin/forgot-password",{email:e,captchaToken:t}),resetPassword:(e,t,r)=>q.post("/auth/admin/reset-password",{token:e,newPassword:t,confirmPassword:r}),verifyToken:()=>q.get("/auth/admin/verify-token")},Gk={getAll:e=>q.get("/products",{params:e}),getById:e=>q.get(`/products/${e}`),create:e=>e instanceof FormData?q.post("/products",e,{headers:{"Content-Type":"multipart/form-data"}}):q.post("/products",e),update:(e,t)=>t instanceof FormData?q.put(`/products/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}):q.put(`/products/${e}`,t),delete:e=>q.delete(`/products/${e}`)},Ou={getStats:()=>q.get("/dashboard/stats"),getRecentOrders:()=>q.get("/dashboard/recent-orders"),getSalesChart:e=>q.get("/dashboard/sales-chart",{params:{period:e}}),getTopProducts:()=>q.get("/dashboard/top-products")},pl={getAll:()=>q.get("/rbac/roles"),getById:e=>q.get(`/rbac/roles/${e}`),create:e=>q.post("/rbac/roles",e),update:(e,t)=>q.put(`/rbac/roles/${e}`,t),delete:e=>q.delete(`/rbac/roles/${e}`)},am={getAll:()=>q.get("/rbac/permissions"),getMatrix:e=>q.get(`/rbac/permissions/matrix/${e}`),updateMatrix:(e,t)=>q.put(`/rbac/permissions/matrix/${e}`,{permissions:t})},Ko={getAll:e=>q.get("/rbac/admins",{params:e}),getById:e=>q.get(`/rbac/admins/${e}`),create:e=>q.post("/rbac/admins",e),update:(e,t)=>q.put(`/rbac/admins/${e}`,t),updateStatus:(e,t)=>q.patch(`/rbac/admins/${e}/status`,{is_active:t})},sm={getAll:()=>q.get("/rbac/sessions"),getByAdmin:e=>q.get(`/rbac/sessions/admin/${e}`),forceLogout:e=>q.delete(`/rbac/sessions/${e}`),forceLogoutAll:e=>q.delete(`/rbac/sessions/admin/${e}/all`)},c$={getAll:e=>q.get("/rbac/logs",{params:e})},Vs={getAll:e=>q.get("/admin/users",{params:e}),getById:(e,t)=>q.get(`/admin/users/${e}`,{params:{showPII:t}}),getStats:()=>q.get("/admin/stats/users"),block:(e,t)=>q.post(`/admin/users/${e}/block`,{reason:t}),unblock:(e,t)=>q.post(`/admin/users/${e}/unblock`,{reason:t}),getActivity:(e,t)=>q.get(`/admin/users/${e}/activity`,{params:t}),getPreferences:e=>q.get(`/admin/users/${e}/preferences`)},ia={getAll:e=>q.get("/categories/admin/list",{params:e}),getStats:()=>q.get("/categories/admin/stats"),getById:e=>q.get(`/categories/${e}`),create:e=>q.post("/categories/admin",e),update:(e,t)=>q.put(`/categories/admin/${e}`,t),toggle:e=>q.post(`/categories/admin/${e}/toggle`),delete:e=>q.delete(`/categories/admin/${e}`)},kn={getAll:e=>q.get("/admin/products",{params:e}),getStats:()=>q.get("/admin/products/stats"),getById:e=>q.get(`/admin/products/${e}`),create:e=>q.post("/admin/products",e),update:(e,t)=>q.put(`/admin/products/${e}`,t),toggleVisibility:e=>q.post(`/admin/products/${e}/toggle-visibility`),show:e=>q.post(`/admin/products/${e}/show`),hide:e=>q.post(`/admin/products/${e}/hide`),bulkVisibility:(e,t)=>q.post("/admin/products/bulk-visibility",{product_ids:e,action:t}),bulkVisibilityCSV:async(e,t)=>{const r=await e.text();return q.post("/admin/products/bulk-visibility-csv",{csvData:r,action:t})}},Yo={getAll:e=>q.get("/admin/inventory",{params:e}),getAlerts:e=>q.get("/admin/inventory/alerts",{params:e}),getLogs:e=>q.get("/admin/inventory/logs",{params:e}),updateStock:(e,t)=>q.put(`/admin/inventory/${e}`,t),bulkUpdate:e=>q.post("/admin/inventory/bulk-update",{updates:e}),resolveAlert:e=>q.post(`/admin/inventory/alerts/${e}/resolve`)},qa={getAll:e=>q.get("/admin/orders",{params:{...e,_t:Date.now()}}),getStats:()=>q.get("/admin/orders/stats",{params:{_t:Date.now()}}),getById:e=>q.get(`/admin/orders/${e}`,{params:{_t:Date.now()}}),getTimeline:e=>q.get(`/admin/orders/${e}/timeline`,{params:{_t:Date.now()}}),updateStatus:(e,t)=>q.put(`/admin/orders/${e}/status`,t),addNote:(e,t)=>q.post(`/admin/orders/${e}/notes`,{note:t}),getBreachedSLA:()=>q.get("/admin/orders-sla/breached"),getAtRiskSLA:()=>q.get("/admin/orders-sla/at-risk"),getStatusOptions:()=>q.get("/admin/status-options")},Pu={getAll:e=>q.get("/payments",{params:e}),getById:e=>q.get(`/payments/${e}`),updateStatus:(e,t)=>q.patch(`/payments/${e}/status`,t)},Xo={getAll:e=>q.get("/invoices",{params:e}),getById:e=>q.get(`/invoices/${e}`),generate:(e,t)=>q.post("/invoices/generate",{order_id:e,notes:t}),updateStatus:(e,t)=>q.patch(`/invoices/${e}/status`,t),getPdfData:e=>q.get(`/invoices/${e}/pdf`)},im={getAll:e=>q.get("/notifications",{params:e}),getById:e=>q.get(`/notifications/${e}`),send:e=>q.post("/notifications/send",e),sendBulk:e=>q.post("/notifications/send-bulk",e),getTemplates:()=>q.get("/notifications/templates/list"),createTemplate:e=>q.post("/notifications/templates",e),updateTemplate:(e,t)=>q.put(`/notifications/templates/${e}`,t),getDLQ:e=>q.get("/notifications/dlq/list",{params:e}),getDLQEntry:e=>q.get(`/notifications/dlq/${e}`),retryDLQ:e=>q.post(`/notifications/dlq/${e}/retry`),retryAllDLQ:e=>q.post("/notifications/dlq/retry-all",e),deleteDLQ:e=>q.delete(`/notifications/dlq/${e}`),markDLQFailed:(e,t)=>q.post(`/notifications/dlq/${e}/mark-failed`,{reason:t})},Wr={getAll:e=>q.get("/admin/templates",{params:e}),getById:e=>q.get(`/admin/templates/${e}`),create:e=>q.post("/admin/templates",e),update:(e,t)=>q.put(`/admin/templates/${e}`,t),delete:e=>q.delete(`/admin/templates/${e}`),getVersion:(e,t)=>q.get(`/admin/templates/${e}/versions/${t}`),activateVersion:(e,t)=>q.post(`/admin/templates/${e}/versions/${t}/activate`),preview:(e,t)=>q.post(`/admin/templates/${e}/preview`,t),getVariables:e=>q.get(`/admin/templates/variables/${e}`)},Cn={getAll:e=>q.get("/admin/event-rules",{params:e}),getEventTypes:()=>q.get("/admin/event-rules/types/available"),getById:e=>q.get(`/admin/event-rules/${e}`),create:e=>q.post("/admin/event-rules",e),update:(e,t)=>q.put(`/admin/event-rules/${e}`,t),delete:e=>q.delete(`/admin/event-rules/${e}`),toggle:e=>q.patch(`/admin/event-rules/${e}/toggle`),test:(e,t)=>q.post(`/admin/event-rules/${e}/test`,{sample_data:t}),trigger:(e,t)=>q.post(`/admin/event-rules/${e}/trigger`,t)},or={getAll:e=>q.get("/campaigns",{params:e}),getById:e=>q.get(`/campaigns/${e}`),create:e=>q.post("/campaigns",e),update:(e,t)=>q.put(`/campaigns/${e}`,t),delete:e=>q.delete(`/campaigns/${e}`),start:e=>q.post(`/campaigns/${e}/start`),pause:e=>q.post(`/campaigns/${e}/pause`),getSegments:()=>q.get("/campaigns/segments/list"),createSegment:e=>q.post("/campaigns/segments",e),getCategoryRules:e=>q.get("/campaigns/category-rules/list",{params:e}),createCategoryRule:e=>q.post("/campaigns/category-rules",e),updateCategoryRule:(e,t)=>q.put(`/campaigns/category-rules/${e}`,t),deleteCategoryRule:e=>q.delete(`/campaigns/category-rules/${e}`),toggleCategoryRule:e=>q.patch(`/campaigns/category-rules/${e}/toggle`)},Va={getSalesReport:e=>q.get("/reports/sales",{params:e}),getTaxReport:e=>q.get("/reports/tax",{params:e}),getOrdersReport:e=>q.get("/reports/orders",{params:e}),getCustomersReport:e=>q.get("/reports/customers",{params:e}),getInventoryReport:()=>q.get("/reports/inventory"),exportReport:e=>q.post("/reports/export",e),getExports:e=>q.get("/reports/exports",{params:e}),clearCache:e=>q.delete("/reports/cache",{params:{report_type:e}})},Au={getAll:e=>q.get("/audit",{params:e}),getById:e=>q.get(`/audit/${e}`),getStats:()=>q.get("/audit/stats/summary"),getActionTypes:()=>q.get("/audit/filters/action-types"),getEntityTypes:()=>q.get("/audit/filters/entity-types"),export:e=>q.post("/audit/export",e),create:e=>q.post("/audit",e)},Eu={getAll:e=>q.get("/settings",{params:{category:e}}),getCategories:()=>q.get("/settings/categories"),getByKey:e=>q.get(`/settings/key/${e}`),getHistory:e=>q.get(`/settings/${e}/history`),update:(e,t)=>q.put(`/settings/${e}`,t),bulkUpdate:e=>q.put("/settings/bulk/update",e),create:e=>q.post("/settings",e),delete:e=>q.delete(`/settings/${e}`),rollback:(e,t)=>q.post(`/settings/${e}/rollback`,{version:t}),getPublic:()=>q.get("/settings/public/app")},Ga={getAll:e=>q.get("/features",{params:e}),getCategories:()=>q.get("/features/categories"),getById:e=>q.get(`/features/${e}`),toggle:(e,t)=>q.put(`/features/${e}/toggle`,{change_reason:t}),update:(e,t)=>q.put(`/features/${e}`,t),create:e=>q.post("/features",e),delete:e=>q.delete(`/features/${e}`),killSwitch:(e,t)=>q.post(`/features/kill-switch/${e}`,{change_reason:t}),checkAll:e=>q.get("/features/public/check",{params:{user_id:e}}),check:(e,t)=>q.get(`/features/public/check/${e}`,{params:{user_id:t}})},Mr={generateDescription:e=>q.post("/ai/generate/description",e),generateImagePrompt:e=>q.post("/ai/generate/image",e),getPendingApprovals:e=>q.get("/ai/approvals/pending",{params:e}),getGenerations:e=>q.get("/ai/generations",{params:e}),approve:(e,t)=>q.post(`/ai/approvals/${e}/approve`,{notes:t}),reject:(e,t)=>q.post(`/ai/approvals/${e}/reject`,{reason:t}),getMyQuota:()=>q.get("/ai/quota/me"),getUsageStats:e=>q.get("/ai/usage/stats",{params:e}),getSettings:()=>q.get("/ai/settings"),updateSettings:e=>q.put("/ai/settings",e),initialize:()=>q.post("/ai/initialize")},Kk=b.createContext(void 0);function u$({children:e}){const[t,r]=b.useState(null),[n,s]=b.useState([]),[i,o]=b.useState(!0);b.useEffect(()=>{l()},[]);const l=async()=>{try{if(!localStorage.getItem("adminToken")){o(!1);return}const x=await Sl.verifyToken();x.data.success?(r(x.data.admin),s(x.data.admin.permissions||[])):(localStorage.removeItem("adminToken"),localStorage.removeItem("admin"))}catch{localStorage.removeItem("adminToken"),localStorage.removeItem("admin")}finally{o(!1)}},c=async(m,x,y)=>{const h=await Sl.login(m,x,y);if(h.data.success)localStorage.setItem("adminToken",h.data.token),localStorage.setItem("admin",JSON.stringify(h.data.admin)),r(h.data.admin),s(h.data.admin.permissions||[]);else throw new Error(h.data.message||"Login failed")},u=async()=>{try{await Sl.logout()}catch{}localStorage.removeItem("adminToken"),localStorage.removeItem("admin"),r(null),s([])},d=m=>p()?!0:n.includes(m),f=m=>p()?!0:m.some(x=>n.includes(x)),p=()=>{var m;return(t==null?void 0:t.role)==="super_admin"||((m=t==null?void 0:t.roles)==null?void 0:m.some(x=>x.name==="super_admin"))||!1};return a.jsx(Kk.Provider,{value:{admin:t,isAuthenticated:!!t,isLoading:i,permissions:n,login:c,logout:u,hasPermission:d,hasAnyPermission:f,isSuperAdmin:p},children:e})}function Iy(){const e=b.useContext(Kk);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function d$({children:e}){const{isAuthenticated:t,isLoading:r}=Iy();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(Mx,{to:"/login",replace:!0})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...f$,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${p$(e)}`,l].join(" "),...u},[...t.map(([f,p])=>b.createElement(f,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ce("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=ce("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=ce("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=ce("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ce("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=ce("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=ce("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=ce("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M5 17a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"ychnub"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ce("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=ce("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=ce("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=ce("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=ce("MonitorSmartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=ce("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=ce("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=ce("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ce("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=ce("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=ce("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ce("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=ce("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=ce("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=ce("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=ce("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=ce("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=ce("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=ce("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=ce("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Sr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jx(e,t){return Jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Jx(e,t)}function L$(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Jx(e,t)}var F$=Object.defineProperty,B$=Object.defineProperties,U$=Object.getOwnPropertyDescriptors,Jd=Object.getOwnPropertySymbols,a4=Object.prototype.hasOwnProperty,s4=Object.prototype.propertyIsEnumerable,Zx=(e,t,r)=>t in e?F$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dr=(e,t)=>{for(var r in t||(t={}))a4.call(t,r)&&Zx(e,r,t[r]);if(Jd)for(var r of Jd(t))s4.call(t,r)&&Zx(e,r,t[r]);return e},i4=(e,t)=>B$(e,U$(t)),z$=(e,t)=>{var r={};for(var n in e)a4.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Jd)for(var n of Jd(e))t.indexOf(n)<0&&s4.call(e,n)&&(r[n]=e[n]);return r},jt=(e,t,r)=>(Zx(e,typeof t!="symbol"?t+"":t,r),r),Li=(e,t,r)=>new Promise((n,s)=>{var i=c=>{try{l(r.next(c))}catch(u){s(u)}},o=c=>{try{l(r.throw(c))}catch(u){s(u)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,o);l((r=r.apply(e,t)).next())}),W$="hCaptcha-script",vd="hCaptchaOnLoad",Tj="script-error",da="@hCaptcha/loader";function H$(e){return Object.entries(e).filter(([,t])=>t||t===!1).map(([t,r])=>`${encodeURIComponent(t)}=${encodeURIComponent(String(r))}`).join("&")}function o4(e){let t=e&&e.ownerDocument||document,r=t.defaultView||t.parentWindow||window;return{document:t,window:r}}function l4(e){return e||document.head}function q$(e){var t;e.setTag("source",da),e.setTag("url",document.URL),e.setContext("os",{UA:navigator.userAgent}),e.setContext("browser",dr({},V$())),e.setContext("device",i4(dr({},K$()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((t=screen.orientation)==null?void 0:t.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function V$(){var e,t,r,n,s,i;let o=navigator.userAgent,l,c;return o.indexOf("Firefox")!==-1?(l="Firefox",c=(e=o.match(/Firefox\/([\d.]+)/))==null?void 0:e[1]):o.indexOf("Edg")!==-1?(l="Microsoft Edge",c=(t=o.match(/Edg\/([\d.]+)/))==null?void 0:t[1]):o.indexOf("Chrome")!==-1&&o.indexOf("Safari")!==-1?(l="Chrome",c=(r=o.match(/Chrome\/([\d.]+)/))==null?void 0:r[1]):o.indexOf("Safari")!==-1&&o.indexOf("Chrome")===-1?(l="Safari",c=(n=o.match(/Version\/([\d.]+)/))==null?void 0:n[1]):o.indexOf("Opera")!==-1||o.indexOf("OPR")!==-1?(l="Opera",c=(s=o.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:s[2]):o.indexOf("MSIE")!==-1||o.indexOf("Trident")!==-1?(l="Internet Explorer",c=(i=o.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:i[2]):(l="Unknown",c="Unknown"),{name:l,version:c}}function G$(e){return new Promise(t=>setTimeout(t,e))}function K$(){let e=navigator.userAgent,t;e.indexOf("Win")!==-1?t="Windows":e.indexOf("Mac")!==-1?t="Mac":e.indexOf("Linux")!==-1?t="Linux":e.indexOf("Android")!==-1?t="Android":e.indexOf("like Mac")!==-1||e.indexOf("iPhone")!==-1||e.indexOf("iPad")!==-1?t="iOS":t="Unknown";let r;return/Mobile|iPhone|iPod|Android/i.test(e)?r="Mobile":/Tablet|iPad/i.test(e)?r="Tablet":r="Desktop",{model:t,family:t,device:r}}var Y$=class c4{constructor(t){jt(this,"_parent"),jt(this,"breadcrumbs",[]),jt(this,"context",{}),jt(this,"extra",{}),jt(this,"tags",{}),jt(this,"request"),jt(this,"user"),this._parent=t}get parent(){return this._parent}child(){return new c4(this)}setRequest(t){return this.request=t,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(t){return typeof t.timestamp>"u"&&(t.timestamp=new Date().toISOString()),this.breadcrumbs.push(t),this}setExtra(t,r){return this.extra[t]=r,this}removeExtra(t){return delete this.extra[t],this}setContext(t,r){return typeof r.type>"u"&&(r.type=t),this.context[t]=r,this}removeContext(t){return delete this.context[t],this}setTags(t){return this.tags=dr(dr({},this.tags),t),this}setTag(t,r){return this.tags[t]=r,this}removeTag(t){return delete this.tags[t],this}setUser(t){return this.user=t,this}removeUser(){return this.user=void 0,this}toBody(){let t=[],r=this;for(;r;)t.push(r),r=r.parent;return t.reverse().reduce((n,s)=>{var i;return n.breadcrumbs=[...(i=n.breadcrumbs)!=null?i:[],...s.breadcrumbs],n.extra=dr(dr({},n.extra),s.extra),n.contexts=dr(dr({},n.contexts),s.context),n.tags=dr(dr({},n.tags),s.tags),s.user&&(n.user=s.user),s.request&&(n.request=s.request),n},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},X$=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Q$=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,J$=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Z$=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Tu="?",$j="An unknown error occurred",eM="0.0.4";function tM(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(Math.random()*256);return e}function Mt(e){return(e+256).toString(16).substring(1)}function rM(){let e=tM(new Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Mt(e[0])+Mt(e[1])+Mt(e[2])+Mt(e[3])+"-"+Mt(e[4])+Mt(e[5])+"-"+Mt(e[6])+Mt(e[7])+"-"+Mt(e[8])+Mt(e[9])+"-"+Mt(e[10])+Mt(e[11])+Mt(e[12])+Mt(e[13])+Mt(e[14])+Mt(e[15])}var nM=[[X$,"chrome"],[J$,"winjs"],[Q$,"gecko"]];function aM(e){var t,r,n,s;if(!e.stack)return null;let i=[],o=(n=(r=(t=e.stack).split)==null?void 0:r.call(t,`
`))!=null?n:[];for(let l=0;l<o.length;++l){let c=null,u=null,d=null;for(let[f,p]of nM)if(u=f.exec(o[l]),u){d=p;break}if(!(!u||!d)){if(d==="chrome")c={filename:(s=u[2])!=null&&s.startsWith("address at ")?u[2].substring(11):u[2],function:u[1]||Tu,lineno:u[3]?+u[3]:null,colno:u[4]?+u[4]:null};else if(d==="winjs")c={filename:u[2],function:u[1]||Tu,lineno:+u[3],colno:u[4]?+u[4]:null};else if(d==="gecko")l===0&&!u[5]&&e.columnNumber!==void 0&&i.length>0&&(i[0].column=e.columnNumber+1),c={filename:u[3],function:u[1]||Tu,lineno:u[4]?+u[4]:null,colno:u[5]?+u[5]:null};else continue;!c.function&&c.lineno&&(c.function=Tu),i.push(c)}}return i.length?i.reverse():null}function sM(e){let t=aM(e);return{type:e.name,value:e.message,stacktrace:{frames:t??[]}}}function iM(e){let t=Z$.exec(e),r=t?t.slice(1):[];if(r.length!==6)throw new Error("Invalid DSN");let n=r[5].split("/"),s=n.slice(0,-1).join("/");return r[0]+"://"+r[3]+(r[4]?":"+r[4]:"")+(s?"/"+s:"")+"/api/"+n.pop()+"/envelope/?sentry_version=7&sentry_key="+r[1]+(r[2]?"&sentry_secret="+r[2]:"")}function oM(e,t,r){var n,s;let i=dr({event_id:rM().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:eM},environment:t,release:r,timestamp:Date.now()/1e3},e.scope.toBody());if(e.type==="exception"){i.message=(s=(n=e.error)==null?void 0:n.message)!=null?s:"Unknown error",i.fingerprint=[i.message];let o=[],l=e.error;for(let c=0;c<5&&l&&(o.push(sM(l)),!(!l.cause||!(l.cause instanceof Error)));c++)l=l.cause;i.exception={values:o.reverse()}}return e.type==="message"&&(i.message=e.message,i.level=e.level),i}function lM(e){if(e instanceof Error)return e;if(typeof e=="string")return new Error(e);if(typeof e=="object"&&e!==null&&!Array.isArray(e)){let r=e,{message:n}=r,s=z$(r,["message"]),i=new Error(typeof n=="string"?n:$j);return Object.assign(i,s)}let t=new Error($j);return Object.assign(t,{cause:e})}function cM(e,t,r){return Li(this,null,function*(){var n,s;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let i;if(r){let c=new AbortController;i=c.signal,setTimeout(()=>c.abort(),r)}let o=yield fetch(e,i4(dr({},t),{signal:i})),l=yield o.text();return{status:o.status,body:l}}return yield new Promise((i,o)=>{var l,c;let u=new XMLHttpRequest;if(u.open((l=t==null?void 0:t.method)!=null?l:"GET",e),u.onload=()=>i({status:u.status,body:u.responseText}),u.onerror=()=>o(new Error("XHR Network Error")),t==null?void 0:t.headers)for(let[d,f]of Object.entries(t.headers))u.setRequestHeader(d,f);if(r){let d=setTimeout(()=>{u.abort(),o(new Error("Request timed out"))},r);u.onloadend=()=>{clearTimeout(d)}}u.send((c=t==null?void 0:t.body)==null?void 0:c.toString())})}catch(i){return{status:0,body:(s=(n=i==null?void 0:i.toString)==null?void 0:n.call(i))!=null?s:"Unknown error"}}})}var Yt,eg=(Yt=class{constructor(e){jt(this,"apiURL"),jt(this,"dsn"),jt(this,"environment"),jt(this,"release"),jt(this,"sampleRate"),jt(this,"debug"),jt(this,"_scope"),jt(this,"shouldBuffer",!1),jt(this,"bufferlimit",20),jt(this,"buffer",[]);var t,r,n,s,i;this.environment=e.environment,this.release=e.release,this.sampleRate=(t=e.sampleRate)!=null?t:1,this.debug=(r=e.debug)!=null?r:!1,this._scope=(n=e.scope)!=null?n:new Y$,this.apiURL=iM(e.dsn),this.dsn=e.dsn,this.shouldBuffer=(s=e.buffer)!=null?s:!1,this.bufferlimit=(i=e.bufferLimit)!=null?i:20}static init(e){Yt._instance||(Yt._instance=new Yt(e))}static get instance(){if(!Yt._instance)throw new Error("Sentry has not been initialized");return Yt._instance}log(...e){this.debug&&console.log(...e)}get scope(){return this._scope}static get scope(){return Yt.instance.scope}withScope(e){let t=this._scope.child();e(t)}static withScope(e){Yt.instance.withScope(e)}captureException(e,t){this.captureEvent({type:"exception",level:"error",error:lM(e),scope:t??this._scope})}static captureException(e,t){Yt.instance.captureException(e,t)}captureMessage(e,t="info",r){this.captureEvent({type:"message",level:t,message:e,scope:r??this._scope})}static captureMessage(e,t="info",r){Yt.instance.captureMessage(e,t,r)}captureEvent(e){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(e)}else this.sendEvent(e)}sendEvent(e,t=5e3){return Li(this,null,function*(){try{this.log("Sending sentry event",e);let r=oM(e,this.environment,this.release),n={event_id:r.event_id,dsn:this.dsn},s={type:"event"},i=JSON.stringify(n)+`
`+JSON.stringify(s)+`
`+JSON.stringify(r),o=yield cM(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:i},t);this.log("Sentry response",o.status),o.status!==200&&(console.log(o.body),console.error("Failed to send event to Sentry",o))}catch(r){console.error("Failed to send event",r)}})}flush(e=5e3){return Li(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let t=this.buffer.splice(0,this.buffer.length).map(r=>this.sendEvent(r,e));yield Promise.all(t),this.log("Flushed all events")}catch(t){console.error("Failed to flush events",t)}})}static flush(e=5e3){return Yt.instance.flush(e)}static reset(){Yt._instance=void 0}},jt(Yt,"_instance"),Yt),uM="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",dM="2.3.0",fM="production";function pM(e=!0){if(!e)return Mj();eg.init({dsn:uM,release:dM,environment:fM});let t=eg.scope;return q$(t),Mj(t)}function Mj(e=null){return{addBreadcrumb:t=>{e&&e.addBreadcrumb(t)},captureRequest:t=>{e&&e.setRequest(t)},captureException:t=>{e&&eg.captureException(t,e)}}}function hM({scriptLocation:e,query:t,loadAsync:r=!0,crossOrigin:n="anonymous",apihost:s="https://js.hcaptcha.com",cleanup:i=!1,secureApi:o=!1,scriptSource:l=""}={},c){let u=l4(e),d=o4(u);return new Promise((f,p)=>{let m=d.document.createElement("script");m.id=W$,l?m.src=`${l}?onload=${vd}`:o?m.src=`${s}/1/secure-api.js?onload=${vd}`:m.src=`${s}/1/api.js?onload=${vd}`,m.crossOrigin=n,m.async=r;let x=(y,h)=>{try{!o&&i&&u.removeChild(m),h(y)}catch(v){p(v)}};m.onload=y=>x(y,f),m.onerror=y=>{c&&c(m.src),x(y,p)},m.src+=t!==""?`&${t}`:"",u.appendChild(m)})}var $u=[];function mM(e={cleanup:!1},t){try{t.addBreadcrumb({category:da,message:"hCaptcha loader params",data:e});let r=l4(e.scriptLocation),n=o4(r),s=$u.find(({scope:o})=>o===n.window);if(s)return t.addBreadcrumb({category:da,message:"hCaptcha already loaded"}),s.promise;let i=new Promise((o,l)=>Li(this,null,function*(){try{n.window[vd]=()=>{t.addBreadcrumb({category:da,message:"hCaptcha script called onload function"}),o(n.window.hcaptcha)};let c=H$({custom:e.custom,render:e.render,sentry:e.sentry,assethost:e.assethost,imghost:e.imghost,reportapi:e.reportapi,endpoint:e.endpoint,host:e.host,recaptchacompat:e.recaptchacompat,hl:e.hl,uj:e.uj});yield hM(dr({query:c},e),u=>{t.captureRequest({url:u,method:"GET"})}),t.addBreadcrumb({category:da,message:"hCaptcha loaded",data:s})}catch{t.addBreadcrumb({category:da,message:"hCaptcha failed to load"});let u=$u.findIndex(d=>d.scope===n.window);u!==-1&&$u.splice(u,1),l(new Error(Tj))}}));return $u.push({promise:i,scope:n.window}),i}catch(r){return t.captureException(r),Promise.reject(new Error(Tj))}}function u4(e,t,r=0){return Li(this,null,function*(){var n,s;let i=(n=e.maxRetries)!=null?n:2,o=(s=e.retryDelay)!=null?s:1e3,l=r<i?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield mM(e,t)}catch(c){return t.addBreadcrumb({category:da,message:l}),r>=i?(t.captureException(c),Promise.reject(c)):(t.addBreadcrumb({category:da,message:`Waiting ${o}ms before retry attempt ${r+1}`}),yield G$(o),r+=1,u4(e,t,r))}})}function xM(){return Li(this,arguments,function*(e={}){let t=pM(e.sentry);return yield u4(e,t)})}function Dj(e){var t=e&&e.ownerDocument||document,r=t.defaultView||t.parentWindow||window;return{document:t,window:r}}function Rj(e){return e||document.head}var d4=function(e){L$(t,e);function t(n){var s;return s=e.call(this,n)||this,s._hcaptcha=void 0,s.renderCaptcha=s.renderCaptcha.bind(Sr(s)),s.resetCaptcha=s.resetCaptcha.bind(Sr(s)),s.removeCaptcha=s.removeCaptcha.bind(Sr(s)),s.isReady=s.isReady.bind(Sr(s)),s._onReady=null,s.loadCaptcha=s.loadCaptcha.bind(Sr(s)),s.handleOnLoad=s.handleOnLoad.bind(Sr(s)),s.handleSubmit=s.handleSubmit.bind(Sr(s)),s.handleExpire=s.handleExpire.bind(Sr(s)),s.handleError=s.handleError.bind(Sr(s)),s.handleOpen=s.handleOpen.bind(Sr(s)),s.handleClose=s.handleClose.bind(Sr(s)),s.handleChallengeExpired=s.handleChallengeExpired.bind(Sr(s)),s.ref=b.createRef(),s.apiScriptRequested=!1,s.sentryHub=null,s.captchaId="",s._pendingExecute=null,s.state={isApiReady:!1,isRemoved:!1,elementId:n.id},s}var r=t.prototype;return r.componentDidMount=function(){var s=this,i=Rj(this.props.scriptLocation),o=Dj(i);this._hcaptcha=o.window.hcaptcha||void 0;var l=typeof this._hcaptcha<"u";if(l){this.setState({isApiReady:!0},function(){s.renderCaptcha()});return}this.loadCaptcha()},r.componentWillUnmount=function(){var s=this._hcaptcha,i=this.captchaId;this._cancelPendingExecute("react-component-unmounted"),this.isReady()&&(s.reset(i),s.remove(i))},r.shouldComponentUpdate=function(s,i){return!(this.state.isApiReady!==i.isApiReady||this.state.isRemoved!==i.isRemoved)},r.componentDidUpdate=function(s){var i=this,o=["sitekey","size","theme","tabindex","languageOverride","endpoint"],l=o.every(function(c){return s[c]===i.props[c]});l||this.removeCaptcha(function(){i.renderCaptcha()})},r.loadCaptcha=function(){if(!this.apiScriptRequested){var s=this.props,i=s.apihost,o=s.assethost,l=s.endpoint,c=s.host,u=s.imghost,d=s.languageOverride,f=s.reCaptchaCompat,p=s.reportapi,m=s.sentry,x=s.custom,y=s.loadAsync,h=s.scriptLocation,v=s.scriptSource,g=s.secureApi,j=s.cleanup,S=j===void 0?!0:j,N=s.userJourneys,w={render:"explicit",apihost:i,assethost:o,endpoint:l,hl:d,host:c,imghost:u,recaptchacompat:f===!1?"off":null,reportapi:p,sentry:m,custom:x,loadAsync:y,scriptLocation:h,scriptSource:v,secureApi:g,cleanup:S,uj:N!==void 0?N:!1};xM(w).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},r.renderCaptcha=function(s){var i=this,o=this.props.onReady,l=this.state.isApiReady,c=this.captchaId;if(!(!l||c)){var u=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),d=this._hcaptcha,f=d.render(this.ref.current,u);this.captchaId=f,this.setState({isRemoved:!1},function(){s&&s(),o&&o(),i._onReady&&i._onReady(f)})}},r.resetCaptcha=function(){var s=this._hcaptcha,i=this.captchaId;this.isReady()&&(s.reset(i),this._cancelPendingExecute("hcaptcha-reset"))},r.removeCaptcha=function(s){var i=this,o=this._hcaptcha,l=this.captchaId;this._cancelPendingExecute("hcaptcha-removed"),this.isReady()&&this.setState({isRemoved:!0},function(){i.captchaId="",o.remove(l),s&&s()})},r.handleOnLoad=function(){var s=this;this.setState({isApiReady:!0},function(){var i=Rj(s.props.scriptLocation),o=Dj(i);s._hcaptcha=o.window.hcaptcha,s.renderCaptcha(function(){var l=s.props.onLoad;l&&l()})})},r.handleSubmit=function(s){var i=this.props.onVerify,o=this.state.isRemoved,l=this._hcaptcha,c=this.captchaId;if(!(typeof l>"u"||o)){var u=l.getResponse(c),d=l.getRespKey(c);i&&i(u,d)}},r.handleExpire=function(){var s=this.props.onExpire,i=this._hcaptcha,o=this.captchaId;this.isReady()&&(i.reset(o),s&&s())},r.handleError=function(s){var i=this.props.onError,o=this._hcaptcha,l=this.captchaId;this.isReady()&&o.reset(l),i&&i(s)},r.isReady=function(){var s=this.state,i=s.isApiReady,o=s.isRemoved;return i&&!o},r._cancelPendingExecute=function(s){if(this._pendingExecute){var i=this._pendingExecute;this._pendingExecute=null;var o=new Error(s);i.reject(o)}},r.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},r.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},r.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},r.execute=function(s){var i=this;s===void 0&&(s=null),s=typeof s=="object"?s:null;try{var o=this._hcaptcha,l=this.captchaId;if(s&&s.async&&this._pendingExecute&&this._cancelPendingExecute("hcaptcha-execute-replaced"),!this.isReady())return s&&s.async?new Promise(function(u,d){i._pendingExecute={resolve:u,reject:d},i._onReady=function(f){if(i._pendingExecute)try{var p=o.execute(f,s);p&&typeof p.then=="function"?p.then(function(m){i._pendingExecute=null,u(m)}).catch(function(m){i._pendingExecute=null,d(m)}):(i._pendingExecute=null,d(new Error("hcaptcha-execute-no-promise")))}catch(m){i._pendingExecute=null,d(m)}}}):(this._onReady=function(u){o.execute(u,s)},null);var c=o.execute(l,s);return s&&s.async&&c&&typeof c.then=="function"?new Promise(function(u,d){i._pendingExecute={resolve:u,reject:d},c.then(function(f){i._pendingExecute=null,u(f)}).catch(function(f){i._pendingExecute=null,d(f)})}):c}catch(u){return s&&s.async?Promise.reject(u):null}},r.close=function(){var s=this._hcaptcha,i=this.captchaId;if(this._cancelPendingExecute("hcaptcha-closed"),!!this.isReady())return s.close(i)},r.setData=function(s){var i=this._hcaptcha,o=this.captchaId;this.isReady()&&(s&&typeof s!="object"&&(s=null),i.setData(o,s))},r.getResponse=function(){var s=this._hcaptcha;return s.getResponse(this.captchaId)},r.getRespKey=function(){var s=this._hcaptcha;return s.getRespKey(this.captchaId)},r.render=function(){var s=this.state.elementId;return b.createElement("div",{ref:this.ref,id:s})},t}(b.Component);function gM(){const e=jo(),{login:t}=Iy(),[r,n]=b.useState(""),[s,i]=b.useState(""),[o,l]=b.useState(!1),[c,u]=b.useState(""),[d,f]=b.useState(!1),p=b.useRef(null),m=async x=>{var y,h,v;if(x.preventDefault(),!r||!s){ne.error("Please fill in all fields");return}if(!c){ne.error("Please complete the CAPTCHA");return}f(!0);try{await t(r,s,c),ne.success("Login successful!"),e("/dashboard")}catch(g){ne.error(((h=(y=g.response)==null?void 0:y.data)==null?void 0:h.message)||"Login failed"),(v=p.current)==null||v.resetCaptcha(),u("")}finally{f(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2260%22 height=%2260%22 viewBox=%220 0 60 60%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cg fill=%22none%22 fill-rule=%22evenodd%22%3E%3Cg fill=%22%23ffffff%22 fill-opacity=%220.03%22%3E%3Cpath d=%22M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-40"}),a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl shadow-lg shadow-primary/30 mb-4",children:a.jsx(Ca,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Admin Panel"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Sign in to manage your store"})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",value:r,onChange:x=>n(x.target.value),placeholder:"admin@example.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all outline-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:o?"text":"password",value:s,onChange:x=>i(x.target.value),placeholder:"",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all outline-none"}),a.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?a.jsx(wi,{className:"w-5 h-5"}):a.jsx(ar,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Ss,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 font-medium",children:"Forgot password?"})}),a.jsx("div",{className:"flex justify-center",children:a.jsx(d4,{ref:p,sitekey:"10000000-ffff-ffff-ffff-000000000001",onVerify:x=>u(x),onExpire:()=>u("")})}),a.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 px-4 bg-primary hover:bg-primary/90 text-white font-semibold rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):"Sign In"})]})}),a.jsx("p",{className:"text-center text-gray-500 text-sm mt-8",children:" 2024 Ecommerce. All rights reserved."})]})]})}function yM(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(!1),[o,l]=b.useState(!1),c=b.useRef(null),u=async d=>{var f,p,m;if(d.preventDefault(),!e){ne.error("Please enter your email");return}if(!r){ne.error("Please complete the CAPTCHA");return}i(!0);try{(await Sl.forgotPassword(e,r)).data.success&&(l(!0),ne.success("Reset link sent to your email!"))}catch(x){ne.error(((p=(f=x.response)==null?void 0:f.data)==null?void 0:p.message)||"Something went wrong"),(m=c.current)==null||m.resetCaptcha(),n("")}finally{i(!1)}};return o?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2260%22 height=%2260%22 viewBox=%220 0 60 60%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cg fill=%22none%22 fill-rule=%22evenodd%22%3E%3Cg fill=%22%23ffffff%22 fill-opacity=%220.03%22%3E%3Cpath d=%22M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-40"}),a.jsx("div",{className:"relative w-full max-w-md text-center",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-6",children:a.jsx(Ge,{className:"w-8 h-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check your email"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent a password reset link to ",a.jsx("strong",{children:e}),". Please check your inbox and follow the instructions."]}),a.jsxs(Ss,{to:"/login",className:"inline-flex items-center gap-2 text-primary hover:text-primary/80 font-medium",children:[a.jsx(Hx,{className:"w-4 h-4"}),"Back to login"]})]})})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2260%22 height=%2260%22 viewBox=%220 0 60 60%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cg fill=%22none%22 fill-rule=%22evenodd%22%3E%3Cg fill=%22%23ffffff%22 fill-opacity=%220.03%22%3E%3Cpath d=%22M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-40"}),a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl shadow-lg shadow-primary/30 mb-4",children:a.jsx(Ca,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Forgot Password"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Enter your email to reset your password"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",value:e,onChange:d=>t(d.target.value),placeholder:"admin@example.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all outline-none"})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(d4,{ref:c,sitekey:"10000000-ffff-ffff-ffff-000000000001",onVerify:d=>n(d),onExpire:()=>n("")})}),a.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 px-4 bg-primary hover:bg-primary/90 text-white font-semibold rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):"Send Reset Link"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(Ss,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[a.jsx(Hx,{className:"w-4 h-4"}),"Back to login"]})})]})]})]})}function vM(){const e=jo(),[t]=H6(),r=t.get("token"),[n,s]=b.useState(""),[i,o]=b.useState(""),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,p]=b.useState(!1),[m,x]=b.useState(!1),y=async h=>{var v,g;if(h.preventDefault(),!r){ne.error("Invalid reset token");return}if(!n||!i){ne.error("Please fill in all fields");return}if(n.length<8){ne.error("Password must be at least 8 characters");return}if(n!==i){ne.error("Passwords do not match");return}p(!0);try{(await Sl.resetPassword(r,n,i)).data.success&&(x(!0),ne.success("Password reset successfully!"))}catch(j){ne.error(((g=(v=j.response)==null?void 0:v.data)==null?void 0:g.message)||"Failed to reset password")}finally{p(!1)}};return r?m?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-6",children:a.jsx(Ge,{className:"w-8 h-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Password Reset!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been reset successfully. You can now log in with your new password."}),a.jsx("button",{onClick:()=>e("/login"),className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:"Go to Login"})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2260%22 height=%2260%22 viewBox=%220 0 60 60%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cg fill=%22none%22 fill-rule=%22evenodd%22%3E%3Cg fill=%22%23ffffff%22 fill-opacity=%220.03%22%3E%3Cpath d=%22M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-40"}),a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl shadow-lg shadow-primary/30 mb-4",children:a.jsx(Ca,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Reset Password"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Enter your new password"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:l?"text":"password",value:n,onChange:h=>s(h.target.value),placeholder:"",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all outline-none"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?a.jsx(wi,{className:"w-5 h-5"}):a.jsx(ar,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:u?"text":"password",value:i,onChange:h=>o(h.target.value),placeholder:"",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all outline-none"}),a.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?a.jsx(wi,{className:"w-5 h-5"}):a.jsx(ar,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:f,className:"w-full py-3 px-4 bg-primary hover:bg-primary/90 text-white font-semibold rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Resetting..."]}):"Reset Password"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(Ss,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[a.jsx(Hx,{className:"w-4 h-4"}),"Back to login"]})})]})]})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invalid Link"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired. Please request a new one."}),a.jsx(Ss,{to:"/forgot-password",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:"Request New Link"})]})})}function f4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=f4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function be(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=f4(e))&&(n&&(n+=" "),n+=t);return n}var bM=Array.isArray,ir=bM,jM=typeof lu=="object"&&lu&&lu.Object===Object&&lu,p4=jM,wM=p4,NM=typeof self=="object"&&self&&self.Object===Object&&self,SM=wM||NM||Function("return this")(),wn=SM,_M=wn,kM=_M.Symbol,Xc=kM,Ij=Xc,h4=Object.prototype,CM=h4.hasOwnProperty,OM=h4.toString,Qo=Ij?Ij.toStringTag:void 0;function PM(e){var t=CM.call(e,Qo),r=e[Qo];try{e[Qo]=void 0;var n=!0}catch{}var s=OM.call(e);return n&&(t?e[Qo]=r:delete e[Qo]),s}var AM=PM,EM=Object.prototype,TM=EM.toString;function $M(e){return TM.call(e)}var MM=$M,Lj=Xc,DM=AM,RM=MM,IM="[object Null]",LM="[object Undefined]",Fj=Lj?Lj.toStringTag:void 0;function FM(e){return e==null?e===void 0?LM:IM:Fj&&Fj in Object(e)?DM(e):RM(e)}var Qn=FM;function BM(e){return e!=null&&typeof e=="object"}var Jn=BM,UM=Qn,zM=Jn,WM="[object Symbol]";function HM(e){return typeof e=="symbol"||zM(e)&&UM(e)==WM}var So=HM,qM=ir,VM=So,GM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,KM=/^\w*$/;function YM(e,t){if(qM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||VM(e)?!0:KM.test(e)||!GM.test(e)||t!=null&&e in Object(t)}var Fy=YM;function XM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Fa=XM;const _o=Te(Fa);var QM=Qn,JM=Fa,ZM="[object AsyncFunction]",eD="[object Function]",tD="[object GeneratorFunction]",rD="[object Proxy]";function nD(e){if(!JM(e))return!1;var t=QM(e);return t==eD||t==tD||t==ZM||t==rD}var By=nD;const ve=Te(By);var aD=wn,sD=aD["__core-js_shared__"],iD=sD,lm=iD,Bj=function(){var e=/[^.]+$/.exec(lm&&lm.keys&&lm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function oD(e){return!!Bj&&Bj in e}var lD=oD,cD=Function.prototype,uD=cD.toString;function dD(e){if(e!=null){try{return uD.call(e)}catch{}try{return e+""}catch{}}return""}var m4=dD,fD=By,pD=lD,hD=Fa,mD=m4,xD=/[\\^$.*+?()[\]{}|]/g,gD=/^\[object .+?Constructor\]$/,yD=Function.prototype,vD=Object.prototype,bD=yD.toString,jD=vD.hasOwnProperty,wD=RegExp("^"+bD.call(jD).replace(xD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ND(e){if(!hD(e)||pD(e))return!1;var t=fD(e)?wD:gD;return t.test(mD(e))}var SD=ND;function _D(e,t){return e==null?void 0:e[t]}var kD=_D,CD=SD,OD=kD;function PD(e,t){var r=OD(e,t);return CD(r)?r:void 0}var Fs=PD,AD=Fs,ED=AD(Object,"create"),Dp=ED,Uj=Dp;function TD(){this.__data__=Uj?Uj(null):{},this.size=0}var $D=TD;function MD(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var DD=MD,RD=Dp,ID="__lodash_hash_undefined__",LD=Object.prototype,FD=LD.hasOwnProperty;function BD(e){var t=this.__data__;if(RD){var r=t[e];return r===ID?void 0:r}return FD.call(t,e)?t[e]:void 0}var UD=BD,zD=Dp,WD=Object.prototype,HD=WD.hasOwnProperty;function qD(e){var t=this.__data__;return zD?t[e]!==void 0:HD.call(t,e)}var VD=qD,GD=Dp,KD="__lodash_hash_undefined__";function YD(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=GD&&t===void 0?KD:t,this}var XD=YD,QD=$D,JD=DD,ZD=UD,eR=VD,tR=XD;function ko(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ko.prototype.clear=QD;ko.prototype.delete=JD;ko.prototype.get=ZD;ko.prototype.has=eR;ko.prototype.set=tR;var rR=ko;function nR(){this.__data__=[],this.size=0}var aR=nR;function sR(e,t){return e===t||e!==e&&t!==t}var Uy=sR,iR=Uy;function oR(e,t){for(var r=e.length;r--;)if(iR(e[r][0],t))return r;return-1}var Rp=oR,lR=Rp,cR=Array.prototype,uR=cR.splice;function dR(e){var t=this.__data__,r=lR(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():uR.call(t,r,1),--this.size,!0}var fR=dR,pR=Rp;function hR(e){var t=this.__data__,r=pR(t,e);return r<0?void 0:t[r][1]}var mR=hR,xR=Rp;function gR(e){return xR(this.__data__,e)>-1}var yR=gR,vR=Rp;function bR(e,t){var r=this.__data__,n=vR(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var jR=bR,wR=aR,NR=fR,SR=mR,_R=yR,kR=jR;function Co(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Co.prototype.clear=wR;Co.prototype.delete=NR;Co.prototype.get=SR;Co.prototype.has=_R;Co.prototype.set=kR;var Ip=Co,CR=Fs,OR=wn,PR=CR(OR,"Map"),zy=PR,zj=rR,AR=Ip,ER=zy;function TR(){this.size=0,this.__data__={hash:new zj,map:new(ER||AR),string:new zj}}var $R=TR;function MR(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var DR=MR,RR=DR;function IR(e,t){var r=e.__data__;return RR(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Lp=IR,LR=Lp;function FR(e){var t=LR(this,e).delete(e);return this.size-=t?1:0,t}var BR=FR,UR=Lp;function zR(e){return UR(this,e).get(e)}var WR=zR,HR=Lp;function qR(e){return HR(this,e).has(e)}var VR=qR,GR=Lp;function KR(e,t){var r=GR(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var YR=KR,XR=$R,QR=BR,JR=WR,ZR=VR,eI=YR;function Oo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Oo.prototype.clear=XR;Oo.prototype.delete=QR;Oo.prototype.get=JR;Oo.prototype.has=ZR;Oo.prototype.set=eI;var Wy=Oo,x4=Wy,tI="Expected a function";function Hy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(tI);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(Hy.Cache||x4),r}Hy.Cache=x4;var g4=Hy;const rI=Te(g4);var nI=g4,aI=500;function sI(e){var t=nI(e,function(n){return r.size===aI&&r.clear(),n}),r=t.cache;return t}var iI=sI,oI=iI,lI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cI=/\\(\\)?/g,uI=oI(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(lI,function(r,n,s,i){t.push(s?i.replace(cI,"$1"):n||r)}),t}),dI=uI;function fI(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var qy=fI,Wj=Xc,pI=qy,hI=ir,mI=So,Hj=Wj?Wj.prototype:void 0,qj=Hj?Hj.toString:void 0;function y4(e){if(typeof e=="string")return e;if(hI(e))return pI(e,y4)+"";if(mI(e))return qj?qj.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var xI=y4,gI=xI;function yI(e){return e==null?"":gI(e)}var v4=yI,vI=ir,bI=Fy,jI=dI,wI=v4;function NI(e,t){return vI(e)?e:bI(e,t)?[e]:jI(wI(e))}var b4=NI,SI=So;function _I(e){if(typeof e=="string"||SI(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Fp=_I,kI=b4,CI=Fp;function OI(e,t){t=kI(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[CI(t[r++])];return r&&r==n?e:void 0}var Vy=OI,PI=Vy;function AI(e,t,r){var n=e==null?void 0:PI(e,t);return n===void 0?r:n}var j4=AI;const yr=Te(j4);function EI(e){return e==null}var TI=EI;const je=Te(TI);var $I=Qn,MI=ir,DI=Jn,RI="[object String]";function II(e){return typeof e=="string"||!MI(e)&&DI(e)&&$I(e)==RI}var LI=II;const ks=Te(LI);var w4={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy=Symbol.for("react.element"),Ky=Symbol.for("react.portal"),Bp=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),zp=Symbol.for("react.profiler"),Wp=Symbol.for("react.provider"),Hp=Symbol.for("react.context"),FI=Symbol.for("react.server_context"),qp=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),Gp=Symbol.for("react.suspense_list"),Kp=Symbol.for("react.memo"),Yp=Symbol.for("react.lazy"),BI=Symbol.for("react.offscreen"),N4;N4=Symbol.for("react.module.reference");function Lr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Gy:switch(e=e.type,e){case Bp:case zp:case Up:case Vp:case Gp:return e;default:switch(e=e&&e.$$typeof,e){case FI:case Hp:case qp:case Yp:case Kp:case Wp:return e;default:return t}}case Ky:return t}}}$e.ContextConsumer=Hp;$e.ContextProvider=Wp;$e.Element=Gy;$e.ForwardRef=qp;$e.Fragment=Bp;$e.Lazy=Yp;$e.Memo=Kp;$e.Portal=Ky;$e.Profiler=zp;$e.StrictMode=Up;$e.Suspense=Vp;$e.SuspenseList=Gp;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(e){return Lr(e)===Hp};$e.isContextProvider=function(e){return Lr(e)===Wp};$e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gy};$e.isForwardRef=function(e){return Lr(e)===qp};$e.isFragment=function(e){return Lr(e)===Bp};$e.isLazy=function(e){return Lr(e)===Yp};$e.isMemo=function(e){return Lr(e)===Kp};$e.isPortal=function(e){return Lr(e)===Ky};$e.isProfiler=function(e){return Lr(e)===zp};$e.isStrictMode=function(e){return Lr(e)===Up};$e.isSuspense=function(e){return Lr(e)===Vp};$e.isSuspenseList=function(e){return Lr(e)===Gp};$e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bp||e===zp||e===Up||e===Vp||e===Gp||e===BI||typeof e=="object"&&e!==null&&(e.$$typeof===Yp||e.$$typeof===Kp||e.$$typeof===Wp||e.$$typeof===Hp||e.$$typeof===qp||e.$$typeof===N4||e.getModuleId!==void 0)};$e.typeOf=Lr;w4.exports=$e;var UI=w4.exports,zI=Qn,WI=Jn,HI="[object Number]";function qI(e){return typeof e=="number"||WI(e)&&zI(e)==HI}var S4=qI;const VI=Te(S4);var GI=S4;function KI(e){return GI(e)&&e!=+e}var YI=KI;const Qc=Te(YI);var Wt=function(t){return t===0?0:t>0?1:-1},ls=function(t){return ks(t)&&t.indexOf("%")===t.length-1},oe=function(t){return VI(t)&&!Qc(t)},XI=function(t){return je(t)},yt=function(t){return oe(t)||ks(t)},QI=0,Po=function(t){var r=++QI;return"".concat(t||"").concat(r)},Ht=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(t)&&!ks(t))return n;var i;if(ls(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Qc(i)&&(i=n),s&&i>r&&(i=r),i},fa=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},JI=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},pr=function(t,r){return oe(t)&&oe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Zd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):yr(n,t))===r})}var ZI=function(t,r){return oe(t)&&oe(r)?t-r:ks(t)&&ks(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Si(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}var eL=["viewBox","children"],tL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Vj=["points","pathLength"],cm={svg:eL,polygon:Vj,polyline:Vj},Yy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ef=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),!_o(n))return null;var s={};return Object.keys(n).forEach(function(i){Yy.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},rL=function(t,r,n){return function(s){return t(r,n,s),null}},Cs=function(t,r,n){if(!_o(t)||tg(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];Yy.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=rL(o,r,n))}),s},nL=["children"],aL=["children"];function Gj(e,t){if(e==null)return{};var r=sL(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}var Kj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},In=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Yj=null,um=null,Xy=function e(t){if(t===Yj&&Array.isArray(um))return um;var r=[];return b.Children.forEach(t,function(n){je(n)||(UI.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),um=r,Yj=t,r};function vr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return In(s)}):n=[In(t)],Xy(e).forEach(function(s){var i=yr(s,"type.displayName")||yr(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function fr(e,t){var r=vr(e,t);return r&&r[0]}var Xj=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!oe(n)||n<=0||!oe(s)||s<=0)},iL=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],oL=function(t){return t&&t.type&&ks(t.type)&&iL.indexOf(t.type)>=0},lL=function(t){return t&&rg(t)==="object"&&"clipDot"in t},cL=function(t,r,n,s){var i,o=(i=cm==null?void 0:cm[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ve(t)&&(s&&o.includes(r)||tL.includes(r))||n&&Yy.includes(r)},he=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(b.isValidElement(t)&&(s=t.props),!_o(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;cL((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},ng=function e(t,r){if(t===r)return!0;var n=b.Children.count(t);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Qj(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Qj(i,o))return!1}return!0},Qj=function(t,r){if(je(t)&&je(r))return!0;if(!je(t)&&!je(r)){var n=t.props||{},s=n.children,i=Gj(n,nL),o=r.props||{},l=o.children,c=Gj(o,aL);return s&&l?Si(i,c)&&ng(s,l):!s&&!l?Si(i,c):!1}return!1},Jj=function(t,r){var n=[],s={};return Xy(t).forEach(function(i,o){if(oL(i))n.push(i);else if(i){var l=In(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},uL=function(t){var r=t&&t.type;return r&&Kj[r]?Kj[r]:null},dL=function(t,r){return Xy(r).indexOf(t)},fL=["children","width","height","viewBox","className","style","title","desc"];function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}function pL(e,t){if(e==null)return{};var r=hL(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sg(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=pL(e,fL),d=s||{width:r,height:n,x:0,y:0},f=be("recharts-surface",i);return W.createElement("svg",ag({},he(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),W.createElement("title",null,l),W.createElement("desc",null,c),t)}var mL=["children","className"];function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(this,arguments)}function xL(e,t){if(e==null)return{};var r=gL(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _e=W.forwardRef(function(e,t){var r=e.children,n=e.className,s=xL(e,mL),i=be("recharts-layer",n);return W.createElement("g",ig({className:i},he(s,!0),{ref:t}),r)}),Jr=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function yL(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var vL=yL,bL=vL;function jL(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:bL(e,t,r)}var wL=jL,NL="\\ud800-\\udfff",SL="\\u0300-\\u036f",_L="\\ufe20-\\ufe2f",kL="\\u20d0-\\u20ff",CL=SL+_L+kL,OL="\\ufe0e\\ufe0f",PL="\\u200d",AL=RegExp("["+PL+NL+CL+OL+"]");function EL(e){return AL.test(e)}var _4=EL;function TL(e){return e.split("")}var $L=TL,k4="\\ud800-\\udfff",ML="\\u0300-\\u036f",DL="\\ufe20-\\ufe2f",RL="\\u20d0-\\u20ff",IL=ML+DL+RL,LL="\\ufe0e\\ufe0f",FL="["+k4+"]",og="["+IL+"]",lg="\\ud83c[\\udffb-\\udfff]",BL="(?:"+og+"|"+lg+")",C4="[^"+k4+"]",O4="(?:\\ud83c[\\udde6-\\uddff]){2}",P4="[\\ud800-\\udbff][\\udc00-\\udfff]",UL="\\u200d",A4=BL+"?",E4="["+LL+"]?",zL="(?:"+UL+"(?:"+[C4,O4,P4].join("|")+")"+E4+A4+")*",WL=E4+A4+zL,HL="(?:"+[C4+og+"?",og,O4,P4,FL].join("|")+")",qL=RegExp(lg+"(?="+lg+")|"+HL+WL,"g");function VL(e){return e.match(qL)||[]}var GL=VL,KL=$L,YL=_4,XL=GL;function QL(e){return YL(e)?XL(e):KL(e)}var JL=QL,ZL=wL,e8=_4,t8=JL,r8=v4;function n8(e){return function(t){t=r8(t);var r=e8(t)?t8(t):void 0,n=r?r[0]:t.charAt(0),s=r?ZL(r,1).join(""):t.slice(1);return n[e]()+s}}var a8=n8,s8=a8,i8=s8("toUpperCase"),o8=i8;const Xp=Te(o8);function Le(e){return function(){return e}}const T4=Math.cos,tf=Math.sin,tn=Math.sqrt,rf=Math.PI,Qp=2*rf,cg=Math.PI,ug=2*cg,Za=1e-6,l8=ug-Za;function $4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function c8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $4;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class u8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$4:c8(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Za)if(!(Math.abs(f*c-u*d)>Za)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=s-l,y=c*c+u*u,h=m*m+x*x,v=Math.sqrt(y),g=Math.sqrt(p),j=i*Math.tan((cg-Math.acos((y+p-h)/(2*v*g)))/2),S=j/g,N=j/v;Math.abs(S-1)>Za&&this._append`L${t+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*x)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,p=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Za||Math.abs(this._y1-d)>Za)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%ug+ug),p>l8?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Za&&this._append`A${n},${n},0,${+(p>=cg)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Qy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new u8(t)}function Jy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function M4(e){this._context=e}M4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jp(e){return new M4(e)}function D4(e){return e[0]}function R4(e){return e[1]}function I4(e,t){var r=Le(!0),n=null,s=Jp,i=null,o=Qy(l);e=typeof e=="function"?e:e===void 0?D4:Le(e),t=typeof t=="function"?t:t===void 0?R4:Le(t);function l(c){var u,d=(c=Jy(c)).length,f,p=!1,m;for(n==null&&(i=s(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Le(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Le(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Le(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Mu(e,t,r){var n=null,s=Le(!0),i=null,o=Jp,l=null,c=Qy(u);e=typeof e=="function"?e:e===void 0?D4:Le(+e),t=typeof t=="function"?t:Le(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?R4:Le(+r);function u(f){var p,m,x,y=(f=Jy(f)).length,h,v=!1,g,j=new Array(y),S=new Array(y);for(i==null&&(l=o(g=c())),p=0;p<=y;++p){if(!(p<y&&s(h=f[p],p,f))===v)if(v=!v)m=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=m;--x)l.point(j[x],S[x]);l.lineEnd(),l.areaEnd()}v&&(j[p]=+e(h,p,f),S[p]=+t(h,p,f),l.point(n?+n(h,p,f):j[p],r?+r(h,p,f):S[p]))}if(g)return l=null,g+""||null}function d(){return I4().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Le(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Le(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Le(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class L4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function d8(e){return new L4(e,!0)}function f8(e){return new L4(e,!1)}const Zy={draw(e,t){const r=tn(t/rf);e.moveTo(r,0),e.arc(0,0,r,0,Qp)}},p8={draw(e,t){const r=tn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},F4=tn(1/3),h8=F4*2,m8={draw(e,t){const r=tn(t/h8),n=r*F4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},x8={draw(e,t){const r=tn(t),n=-r/2;e.rect(n,n,r,r)}},g8=.8908130915292852,B4=tf(rf/10)/tf(7*rf/10),y8=tf(Qp/10)*B4,v8=-T4(Qp/10)*B4,b8={draw(e,t){const r=tn(t*g8),n=y8*r,s=v8*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Qp*i/5,l=T4(o),c=tf(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},dm=tn(3),j8={draw(e,t){const r=-tn(t/(dm*3));e.moveTo(0,r*2),e.lineTo(-dm*r,-r),e.lineTo(dm*r,-r),e.closePath()}},_r=-.5,kr=tn(3)/2,dg=1/tn(12),w8=(dg/2+1)*3,N8={draw(e,t){const r=tn(t/w8),n=r/2,s=r*dg,i=n,o=r*dg+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(_r*n-kr*s,kr*n+_r*s),e.lineTo(_r*i-kr*o,kr*i+_r*o),e.lineTo(_r*l-kr*c,kr*l+_r*c),e.lineTo(_r*n+kr*s,_r*s-kr*n),e.lineTo(_r*i+kr*o,_r*o-kr*i),e.lineTo(_r*l+kr*c,_r*c-kr*l),e.closePath()}};function S8(e,t){let r=null,n=Qy(s);e=typeof e=="function"?e:Le(e||Zy),t=typeof t=="function"?t:Le(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Le(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Le(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function nf(){}function af(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function U4(e){this._context=e}U4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:af(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _8(e){return new U4(e)}function z4(e){this._context=e}z4.prototype={areaStart:nf,areaEnd:nf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k8(e){return new z4(e)}function W4(e){this._context=e}W4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C8(e){return new W4(e)}function H4(e){this._context=e}H4.prototype={areaStart:nf,areaEnd:nf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function O8(e){return new H4(e)}function Zj(e){return e<0?-1:1}function ew(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Zj(i)+Zj(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function tw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function fm(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function sf(e){this._context=e}sf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fm(this,this._t0,tw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fm(this,tw(this,r=ew(this,e,t)),r);break;default:fm(this,this._t0,r=ew(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function q4(e){this._context=new V4(e)}(q4.prototype=Object.create(sf.prototype)).point=function(e,t){sf.prototype.point.call(this,t,e)};function V4(e){this._context=e}V4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function P8(e){return new sf(e)}function A8(e){return new q4(e)}function G4(e){this._context=e}G4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=rw(e),s=rw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rw(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function E8(e){return new G4(e)}function Zp(e,t){this._context=e,this._t=t}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function T8(e){return new Zp(e,.5)}function $8(e){return new Zp(e,0)}function M8(e){return new Zp(e,1)}function Fi(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function fg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function D8(e,t){return e[t]}function R8(e){const t=[];return t.key=e,t}function I8(){var e=Le([]),t=fg,r=Fi,n=D8;function s(i){var o=Array.from(e.apply(this,arguments),R8),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Jy(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Le(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Le(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?fg:typeof i=="function"?i:Le(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Fi,s):r},s}function L8(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Fi(e,t)}}function F8(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Fi(e,t)}}function B8(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,p=d[n-1][1]||0,m=(f-p)/2,x=0;x<l;++x){var y=e[t[x]],h=y[n][1]||0,v=y[n-1][1]||0;m+=h-v}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Fi(e,t)}}function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}var U8=["type","size","sizeType"];function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(this,arguments)}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){z8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z8(e,t,r){return t=W8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W8(e){var t=H8(e,"string");return Zl(t)=="symbol"?t:t+""}function H8(e,t){if(Zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q8(e,t){if(e==null)return{};var r=V8(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var K4={symbolCircle:Zy,symbolCross:p8,symbolDiamond:m8,symbolSquare:x8,symbolStar:b8,symbolTriangle:j8,symbolWye:N8},G8=Math.PI/180,K8=function(t){var r="symbol".concat(Xp(t));return K4[r]||Zy},Y8=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*G8;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},X8=function(t,r){K4["symbol".concat(Xp(t))]=r},ev=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=q8(t,U8),u=aw(aw({},c),{},{type:n,size:i,sizeType:l}),d=function(){var h=K8(n),v=S8().type(h).size(Y8(i,l,n));return v()},f=u.className,p=u.cx,m=u.cy,x=he(u,!0);return p===+p&&m===+m&&i===+i?W.createElement("path",pg({},x,{className:be("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(m,")"),d:d()})):null};ev.registerSymbol=X8;function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}function sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Q8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(r),!0).forEach(function(n){ec(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X4(n.key),n)}}function e7(e,t,r){return t&&Z8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t7(e,t,r){return t=of(t),r7(e,Y4()?Reflect.construct(t,r||[],of(e).constructor):t.apply(e,r))}function r7(e,t){if(t&&(Bi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n7(e)}function n7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y4=function(){return!!e})()}function of(e){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},of(e)}function a7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mg(e,t)}function mg(e,t){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mg(e,t)}function ec(e,t,r){return t=X4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X4(e){var t=s7(e,"string");return Bi(t)=="symbol"?t:t+""}function s7(e,t){if(Bi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cr=32,tv=function(e){function t(){return J8(this,t),t7(this,t,arguments)}return a7(t,e),e7(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Cr/2,o=Cr/6,l=Cr/3,c=n.inactive?s:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Cr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Cr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Cr/8,"h").concat(Cr,"v").concat(Cr*3/4,"h").concat(-Cr,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var u=Q8({},n);return delete u.legendIcon,W.cloneElement(n.legendIcon,u)}return W.createElement(ev,{fill:c,cx:i,cy:i,size:Cr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Cr,height:Cr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,x){var y=m.formatter||c,h=be(ec(ec({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=ve(m.value)?null:m.value;Jr(!ve(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=m.inactive?u:m.color;return W.createElement("li",hg({className:h,style:f,key:"legend-item-".concat(x)},Cs(n.props,m,x)),W.createElement(sg,{width:o,height:o,viewBox:d,style:p},n.renderIcon(m)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y?y(v,m,x):v))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);ec(tv,"displayName","Legend");ec(tv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var i7=Ip;function o7(){this.__data__=new i7,this.size=0}var l7=o7;function c7(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var u7=c7;function d7(e){return this.__data__.get(e)}var f7=d7;function p7(e){return this.__data__.has(e)}var h7=p7,m7=Ip,x7=zy,g7=Wy,y7=200;function v7(e,t){var r=this.__data__;if(r instanceof m7){var n=r.__data__;if(!x7||n.length<y7-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new g7(n)}return r.set(e,t),this.size=r.size,this}var b7=v7,j7=Ip,w7=l7,N7=u7,S7=f7,_7=h7,k7=b7;function Ao(e){var t=this.__data__=new j7(e);this.size=t.size}Ao.prototype.clear=w7;Ao.prototype.delete=N7;Ao.prototype.get=S7;Ao.prototype.has=_7;Ao.prototype.set=k7;var Q4=Ao,C7="__lodash_hash_undefined__";function O7(e){return this.__data__.set(e,C7),this}var P7=O7;function A7(e){return this.__data__.has(e)}var E7=A7,T7=Wy,$7=P7,M7=E7;function lf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new T7;++t<r;)this.add(e[t])}lf.prototype.add=lf.prototype.push=$7;lf.prototype.has=M7;var J4=lf;function D7(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Z4=D7;function R7(e,t){return e.has(t)}var eC=R7,I7=J4,L7=Z4,F7=eC,B7=1,U7=2;function z7(e,t,r,n,s,i){var o=r&B7,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=r&U7?new I7:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var x=e[f],y=t[f];if(n)var h=o?n(y,x,f,t,e,i):n(x,y,f,e,t,i);if(h!==void 0){if(h)continue;p=!1;break}if(m){if(!L7(t,function(v,g){if(!F7(m,g)&&(x===v||s(x,v,r,n,i)))return m.push(g)})){p=!1;break}}else if(!(x===y||s(x,y,r,n,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var tC=z7,W7=wn,H7=W7.Uint8Array,q7=H7;function V7(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var G7=V7;function K7(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var rv=K7,iw=Xc,ow=q7,Y7=Uy,X7=tC,Q7=G7,J7=rv,Z7=1,eF=2,tF="[object Boolean]",rF="[object Date]",nF="[object Error]",aF="[object Map]",sF="[object Number]",iF="[object RegExp]",oF="[object Set]",lF="[object String]",cF="[object Symbol]",uF="[object ArrayBuffer]",dF="[object DataView]",lw=iw?iw.prototype:void 0,pm=lw?lw.valueOf:void 0;function fF(e,t,r,n,s,i,o){switch(r){case dF:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case uF:return!(e.byteLength!=t.byteLength||!i(new ow(e),new ow(t)));case tF:case rF:case sF:return Y7(+e,+t);case nF:return e.name==t.name&&e.message==t.message;case iF:case lF:return e==t+"";case aF:var l=Q7;case oF:var c=n&Z7;if(l||(l=J7),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=eF,o.set(e,t);var d=X7(l(e),l(t),n,s,i,o);return o.delete(e),d;case cF:if(pm)return pm.call(e)==pm.call(t)}return!1}var pF=fF;function hF(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var rC=hF,mF=rC,xF=ir;function gF(e,t,r){var n=t(e);return xF(e)?n:mF(n,r(e))}var yF=gF;function vF(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var bF=vF;function jF(){return[]}var wF=jF,NF=bF,SF=wF,_F=Object.prototype,kF=_F.propertyIsEnumerable,cw=Object.getOwnPropertySymbols,CF=cw?function(e){return e==null?[]:(e=Object(e),NF(cw(e),function(t){return kF.call(e,t)}))}:SF,OF=CF;function PF(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var AF=PF,EF=Qn,TF=Jn,$F="[object Arguments]";function MF(e){return TF(e)&&EF(e)==$F}var DF=MF,uw=DF,RF=Jn,nC=Object.prototype,IF=nC.hasOwnProperty,LF=nC.propertyIsEnumerable,FF=uw(function(){return arguments}())?uw:function(e){return RF(e)&&IF.call(e,"callee")&&!LF.call(e,"callee")},nv=FF,cf={exports:{}};function BF(){return!1}var UF=BF;cf.exports;(function(e,t){var r=wn,n=UF,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(cf,cf.exports);var aC=cf.exports,zF=9007199254740991,WF=/^(?:0|[1-9]\d*)$/;function HF(e,t){var r=typeof e;return t=t??zF,!!t&&(r=="number"||r!="symbol"&&WF.test(e))&&e>-1&&e%1==0&&e<t}var av=HF,qF=9007199254740991;function VF(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qF}var sv=VF,GF=Qn,KF=sv,YF=Jn,XF="[object Arguments]",QF="[object Array]",JF="[object Boolean]",ZF="[object Date]",eB="[object Error]",tB="[object Function]",rB="[object Map]",nB="[object Number]",aB="[object Object]",sB="[object RegExp]",iB="[object Set]",oB="[object String]",lB="[object WeakMap]",cB="[object ArrayBuffer]",uB="[object DataView]",dB="[object Float32Array]",fB="[object Float64Array]",pB="[object Int8Array]",hB="[object Int16Array]",mB="[object Int32Array]",xB="[object Uint8Array]",gB="[object Uint8ClampedArray]",yB="[object Uint16Array]",vB="[object Uint32Array]",He={};He[dB]=He[fB]=He[pB]=He[hB]=He[mB]=He[xB]=He[gB]=He[yB]=He[vB]=!0;He[XF]=He[QF]=He[cB]=He[JF]=He[uB]=He[ZF]=He[eB]=He[tB]=He[rB]=He[nB]=He[aB]=He[sB]=He[iB]=He[oB]=He[lB]=!1;function bB(e){return YF(e)&&KF(e.length)&&!!He[GF(e)]}var jB=bB;function wB(e){return function(t){return e(t)}}var sC=wB,uf={exports:{}};uf.exports;(function(e,t){var r=p4,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(uf,uf.exports);var NB=uf.exports,SB=jB,_B=sC,dw=NB,fw=dw&&dw.isTypedArray,kB=fw?_B(fw):SB,iC=kB,CB=AF,OB=nv,PB=ir,AB=aC,EB=av,TB=iC,$B=Object.prototype,MB=$B.hasOwnProperty;function DB(e,t){var r=PB(e),n=!r&&OB(e),s=!r&&!n&&AB(e),i=!r&&!n&&!s&&TB(e),o=r||n||s||i,l=o?CB(e.length,String):[],c=l.length;for(var u in e)(t||MB.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||EB(u,c)))&&l.push(u);return l}var RB=DB,IB=Object.prototype;function LB(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||IB;return e===r}var FB=LB;function BB(e,t){return function(r){return e(t(r))}}var oC=BB,UB=oC,zB=UB(Object.keys,Object),WB=zB,HB=FB,qB=WB,VB=Object.prototype,GB=VB.hasOwnProperty;function KB(e){if(!HB(e))return qB(e);var t=[];for(var r in Object(e))GB.call(e,r)&&r!="constructor"&&t.push(r);return t}var YB=KB,XB=By,QB=sv;function JB(e){return e!=null&&QB(e.length)&&!XB(e)}var Jc=JB,ZB=RB,eU=YB,tU=Jc;function rU(e){return tU(e)?ZB(e):eU(e)}var eh=rU,nU=yF,aU=OF,sU=eh;function iU(e){return nU(e,sU,aU)}var oU=iU,pw=oU,lU=1,cU=Object.prototype,uU=cU.hasOwnProperty;function dU(e,t,r,n,s,i){var o=r&lU,l=pw(e),c=l.length,u=pw(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var p=l[f];if(!(o?p in t:uU.call(t,p)))return!1}var m=i.get(e),x=i.get(t);if(m&&x)return m==t&&x==e;var y=!0;i.set(e,t),i.set(t,e);for(var h=o;++f<c;){p=l[f];var v=e[p],g=t[p];if(n)var j=o?n(g,v,p,t,e,i):n(v,g,p,e,t,i);if(!(j===void 0?v===g||s(v,g,r,n,i):j)){y=!1;break}h||(h=p=="constructor")}if(y&&!h){var S=e.constructor,N=t.constructor;S!=N&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof N=="function"&&N instanceof N)&&(y=!1)}return i.delete(e),i.delete(t),y}var fU=dU,pU=Fs,hU=wn,mU=pU(hU,"DataView"),xU=mU,gU=Fs,yU=wn,vU=gU(yU,"Promise"),bU=vU,jU=Fs,wU=wn,NU=jU(wU,"Set"),lC=NU,SU=Fs,_U=wn,kU=SU(_U,"WeakMap"),CU=kU,xg=xU,gg=zy,yg=bU,vg=lC,bg=CU,cC=Qn,Eo=m4,hw="[object Map]",OU="[object Object]",mw="[object Promise]",xw="[object Set]",gw="[object WeakMap]",yw="[object DataView]",PU=Eo(xg),AU=Eo(gg),EU=Eo(yg),TU=Eo(vg),$U=Eo(bg),es=cC;(xg&&es(new xg(new ArrayBuffer(1)))!=yw||gg&&es(new gg)!=hw||yg&&es(yg.resolve())!=mw||vg&&es(new vg)!=xw||bg&&es(new bg)!=gw)&&(es=function(e){var t=cC(e),r=t==OU?e.constructor:void 0,n=r?Eo(r):"";if(n)switch(n){case PU:return yw;case AU:return hw;case EU:return mw;case TU:return xw;case $U:return gw}return t});var MU=es,hm=Q4,DU=tC,RU=pF,IU=fU,vw=MU,bw=ir,jw=aC,LU=iC,FU=1,ww="[object Arguments]",Nw="[object Array]",Du="[object Object]",BU=Object.prototype,Sw=BU.hasOwnProperty;function UU(e,t,r,n,s,i){var o=bw(e),l=bw(t),c=o?Nw:vw(e),u=l?Nw:vw(t);c=c==ww?Du:c,u=u==ww?Du:u;var d=c==Du,f=u==Du,p=c==u;if(p&&jw(e)){if(!jw(t))return!1;o=!0,d=!1}if(p&&!d)return i||(i=new hm),o||LU(e)?DU(e,t,r,n,s,i):RU(e,t,c,r,n,s,i);if(!(r&FU)){var m=d&&Sw.call(e,"__wrapped__"),x=f&&Sw.call(t,"__wrapped__");if(m||x){var y=m?e.value():e,h=x?t.value():t;return i||(i=new hm),s(y,h,r,n,i)}}return p?(i||(i=new hm),IU(e,t,r,n,s,i)):!1}var zU=UU,WU=zU,_w=Jn;function uC(e,t,r,n,s){return e===t?!0:e==null||t==null||!_w(e)&&!_w(t)?e!==e&&t!==t:WU(e,t,r,n,uC,s)}var iv=uC,HU=Q4,qU=iv,VU=1,GU=2;function KU(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new HU;if(n)var p=n(u,d,c,e,t,f);if(!(p===void 0?qU(d,u,VU|GU,n,f):p))return!1}}return!0}var YU=KU,XU=Fa;function QU(e){return e===e&&!XU(e)}var dC=QU,JU=dC,ZU=eh;function e9(e){for(var t=ZU(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,JU(s)]}return t}var t9=e9;function r9(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var fC=r9,n9=YU,a9=t9,s9=fC;function i9(e){var t=a9(e);return t.length==1&&t[0][2]?s9(t[0][0],t[0][1]):function(r){return r===e||n9(r,e,t)}}var o9=i9;function l9(e,t){return e!=null&&t in Object(e)}var c9=l9,u9=b4,d9=nv,f9=ir,p9=av,h9=sv,m9=Fp;function x9(e,t,r){t=u9(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=m9(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&h9(s)&&p9(o,s)&&(f9(e)||d9(e)))}var g9=x9,y9=c9,v9=g9;function b9(e,t){return e!=null&&v9(e,t,y9)}var j9=b9,w9=iv,N9=j4,S9=j9,_9=Fy,k9=dC,C9=fC,O9=Fp,P9=1,A9=2;function E9(e,t){return _9(e)&&k9(t)?C9(O9(e),t):function(r){var n=N9(r,e);return n===void 0&&n===t?S9(r,e):w9(t,n,P9|A9)}}var T9=E9;function $9(e){return e}var To=$9;function M9(e){return function(t){return t==null?void 0:t[e]}}var D9=M9,R9=Vy;function I9(e){return function(t){return R9(t,e)}}var L9=I9,F9=D9,B9=L9,U9=Fy,z9=Fp;function W9(e){return U9(e)?F9(z9(e)):B9(e)}var H9=W9,q9=o9,V9=T9,G9=To,K9=ir,Y9=H9;function X9(e){return typeof e=="function"?e:e==null?G9:typeof e=="object"?K9(e)?V9(e[0],e[1]):q9(e):Y9(e)}var Nn=X9;function Q9(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var pC=Q9;function J9(e){return e!==e}var Z9=J9;function ez(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var tz=ez,rz=pC,nz=Z9,az=tz;function sz(e,t,r){return t===t?az(e,t,r):rz(e,nz,r)}var iz=sz,oz=iz;function lz(e,t){var r=e==null?0:e.length;return!!r&&oz(e,t,0)>-1}var cz=lz;function uz(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var dz=uz;function fz(){}var pz=fz,mm=lC,hz=pz,mz=rv,xz=1/0,gz=mm&&1/mz(new mm([,-0]))[1]==xz?function(e){return new mm(e)}:hz,yz=gz,vz=J4,bz=cz,jz=dz,wz=eC,Nz=yz,Sz=rv,_z=200;function kz(e,t,r){var n=-1,s=bz,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=jz;else if(i>=_z){var u=t?null:Nz(e);if(u)return Sz(u);o=!1,s=wz,c=new vz}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Cz=kz,Oz=Nn,Pz=Cz;function Az(e,t){return e&&e.length?Pz(e,Oz(t)):[]}var Ez=Az;const kw=Te(Ez);function hC(e,t,r){return t===!0?kw(e,r):ve(t)?kw(e,t):e}function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}var Tz=["ref"];function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){th(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ow(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xC(n.key),n)}}function Mz(e,t,r){return t&&Ow(e.prototype,t),r&&Ow(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dz(e,t,r){return t=df(t),Rz(e,mC()?Reflect.construct(t,r||[],df(e).constructor):t.apply(e,r))}function Rz(e,t){if(t&&(Ui(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iz(e)}function Iz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mC=function(){return!!e})()}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},df(e)}function Lz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jg(e,t)}function jg(e,t){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jg(e,t)}function th(e,t,r){return t=xC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xC(e){var t=Fz(e,"string");return Ui(t)=="symbol"?t:t+""}function Fz(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Bz(e,t){if(e==null)return{};var r=Uz(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zz(e){return e.value}function Wz(e,t){if(W.isValidElement(e))return W.cloneElement(e,t);if(typeof e=="function")return W.createElement(e,t);t.ref;var r=Bz(t,Tz);return W.createElement(tv,r)}var Pw=1,_i=function(e){function t(){var r;$z(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Dz(this,t,[].concat(s)),th(r,"lastBoundingBox",{width:-1,height:-1}),r}return Lz(t,e),Mz(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Pw||Math.abs(s.height-this.lastBoundingBox.height)>Pw)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_n({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();p={top:((d||0)-x.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return _n(_n({},f),p)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=_n(_n({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return W.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Wz(i,_n(_n({},this.props),{},{payload:hC(d,u,zz)})))}}],[{key:"getWithHeight",value:function(n,s){var i=_n(_n({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&oe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(b.PureComponent);th(_i,"displayName","Legend");th(_i,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Aw=Xc,Hz=nv,qz=ir,Ew=Aw?Aw.isConcatSpreadable:void 0;function Vz(e){return qz(e)||Hz(e)||!!(Ew&&e&&e[Ew])}var Gz=Vz,Kz=rC,Yz=Gz;function gC(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=Yz),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?gC(l,t-1,r,n,s):Kz(s,l):n||(s[s.length]=l)}return s}var yC=gC;function Xz(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var Qz=Xz,Jz=Qz,Zz=Jz(),eW=Zz,tW=eW,rW=eh;function nW(e,t){return e&&tW(e,t,rW)}var vC=nW,aW=Jc;function sW(e,t){return function(r,n){if(r==null)return r;if(!aW(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var iW=sW,oW=vC,lW=iW,cW=lW(oW),ov=cW,uW=ov,dW=Jc;function fW(e,t){var r=-1,n=dW(e)?Array(e.length):[];return uW(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var bC=fW;function pW(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var hW=pW,Tw=So;function mW(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=Tw(e),o=t!==void 0,l=t===null,c=t===t,u=Tw(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var xW=mW,gW=xW;function yW(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=gW(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var vW=yW,xm=qy,bW=Vy,jW=Nn,wW=bC,NW=hW,SW=sC,_W=vW,kW=To,CW=ir;function OW(e,t,r){t.length?t=xm(t,function(i){return CW(i)?function(o){return bW(o,i.length===1?i[0]:i)}:i}):t=[kW];var n=-1;t=xm(t,SW(jW));var s=wW(e,function(i,o,l){var c=xm(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return NW(s,function(i,o){return _W(i,o,r)})}var PW=OW;function AW(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var EW=AW,TW=EW,$w=Math.max;function $W(e,t,r){return t=$w(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=$w(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),TW(e,this,l)}}var MW=$W;function DW(e){return function(){return e}}var RW=DW,IW=Fs,LW=function(){try{var e=IW(Object,"defineProperty");return e({},"",{}),e}catch{}}(),jC=LW,FW=RW,Mw=jC,BW=To,UW=Mw?function(e,t){return Mw(e,"toString",{configurable:!0,enumerable:!1,value:FW(t),writable:!0})}:BW,zW=UW,WW=800,HW=16,qW=Date.now;function VW(e){var t=0,r=0;return function(){var n=qW(),s=HW-(n-r);if(r=n,s>0){if(++t>=WW)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var GW=VW,KW=zW,YW=GW,XW=YW(KW),QW=XW,JW=To,ZW=MW,eH=QW;function tH(e,t){return eH(ZW(e,t,JW),e+"")}var rH=tH,nH=Uy,aH=Jc,sH=av,iH=Fa;function oH(e,t,r){if(!iH(r))return!1;var n=typeof t;return(n=="number"?aH(r)&&sH(t,r.length):n=="string"&&t in r)?nH(r[t],e):!1}var rh=oH,lH=yC,cH=PW,uH=rH,Dw=rh,dH=uH(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Dw(e,t[0],t[1])?t=[]:r>2&&Dw(t[0],t[1],t[2])&&(t=[t[0]]),cH(e,lH(t,1),[])}),fH=dH;const lv=Te(fH);function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function pH(e,t){return gH(e)||xH(e,t)||mH(e,t)||hH()}function hH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(e,t){if(e){if(typeof e=="string")return Rw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rw(e,t)}}function Rw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function gH(e){if(Array.isArray(e))return e}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){yH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yH(e,t,r){return t=vH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=bH(e,"string");return tc(t)=="symbol"?t:t+""}function bH(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jH(e){return Array.isArray(e)&&yt(e[0])&&yt(e[1])?e.join(" ~ "):e}var wH=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,p=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,y=t.label,h=t.labelFormatter,v=t.accessibilityLayer,g=v===void 0?!1:v,j=function(){if(d&&d.length){var O={padding:0,margin:0},F=(p?lv(d,p):d).map(function(B,R){if(B.type==="none")return null;var z=gm({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),G=B.formatter||f||jH,I=B.value,T=B.name,E=I,U=T;if(G&&E!=null&&U!=null){var L=G(I,T,B,R,d);if(Array.isArray(L)){var A=pH(L,2);E=A[0],U=A[1]}else E=L}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:z},yt(U)?W.createElement("span",{className:"recharts-tooltip-item-name"},U):null,yt(U)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},E),W.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:O},F)}return null},S=gm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=gm({margin:0},u),w=!je(y),C=w?y:"",_=be("recharts-default-tooltip",m),P=be("recharts-tooltip-label",x);w&&h&&d!==void 0&&d!==null&&(C=h(y,d));var k=g?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",wg({className:_,style:S},k),W.createElement("p",{className:P,style:N},W.isValidElement(C)?C:"".concat(C)),j())};function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function Ru(e,t,r){return t=NH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=SH(e,"string");return rc(t)=="symbol"?t:t+""}function SH(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jo="recharts-tooltip-wrapper",_H={visibility:"hidden"};function kH(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return be(Jo,Ru(Ru(Ru(Ru({},"".concat(Jo,"-right"),oe(r)&&t&&oe(t.x)&&r>=t.x),"".concat(Jo,"-left"),oe(r)&&t&&oe(t.x)&&r<t.x),"".concat(Jo,"-bottom"),oe(n)&&t&&oe(t.y)&&n>=t.y),"".concat(Jo,"-top"),oe(n)&&t&&oe(t.y)&&n<t.y))}function Lw(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&oe(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var p=d,m=c[n];return p<m?Math.max(f,c[n]):Math.max(d,c[n])}var x=f+l,y=c[n]+u;return x>y?Math.max(d,c[n]):Math.max(f,c[n])}function CH(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function OH(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Lw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Lw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=CH({translateX:d,translateY:f,useTranslate3d:l})):u=_H,{cssProperties:u,cssClasses:kH({translateX:d,translateY:f,coordinate:r})}}function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){Sg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NC(n.key),n)}}function EH(e,t,r){return t&&AH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TH(e,t,r){return t=ff(t),$H(e,wC()?Reflect.construct(t,r||[],ff(e).constructor):t.apply(e,r))}function $H(e,t){if(t&&(zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MH(e)}function MH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wC=function(){return!!e})()}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ff(e)}function DH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ng(e,t)}function Ng(e,t){return Ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ng(e,t)}function Sg(e,t,r){return t=NC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NC(e){var t=RH(e,"string");return zi(t)=="symbol"?t:t+""}function RH(e,t){if(zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uw=1,IH=function(e){function t(){var r;PH(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=TH(this,t,[].concat(s)),Sg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Sg(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return DH(t,e),EH(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Uw||Math.abs(n.height-this.state.lastBoundingBox.height)>Uw)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,p=s.isAnimationActive,m=s.offset,x=s.position,y=s.reverseDirection,h=s.useTranslate3d,v=s.viewBox,g=s.wrapperStyle,j=OH({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:x,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:v}),S=j.cssClasses,N=j.cssProperties,w=Bw(Bw({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return W.createElement("div",{tabIndex:-1,className:S,style:w,ref:function(_){n.wrapperNode=_}},u)}}])}(b.PureComponent),LH=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Bs={isSsr:LH()};function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){cv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_C(n.key),n)}}function UH(e,t,r){return t&&BH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zH(e,t,r){return t=pf(t),WH(e,SC()?Reflect.construct(t,r||[],pf(e).constructor):t.apply(e,r))}function WH(e,t){if(t&&(Wi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HH(e)}function HH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SC=function(){return!!e})()}function pf(e){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pf(e)}function qH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_g(e,t)}function _g(e,t){return _g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_g(e,t)}function cv(e,t,r){return t=_C(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _C(e){var t=VH(e,"string");return Wi(t)=="symbol"?t:t+""}function VH(e,t){if(Wi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function GH(e){return e.dataKey}function KH(e,t){return W.isValidElement(e)?W.cloneElement(e,t):typeof e=="function"?W.createElement(e,t):W.createElement(wH,t)}var zt=function(e){function t(){return FH(this,t),zH(this,t,arguments)}return qH(t,e),UH(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,p=s.isAnimationActive,m=s.offset,x=s.payload,y=s.payloadUniqBy,h=s.position,v=s.reverseDirection,g=s.useTranslate3d,j=s.viewBox,S=s.wrapperStyle,N=x??[];f&&N.length&&(N=hC(x.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),y,GH));var w=N.length>0;return W.createElement(IH,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:d,hasPayload:w,offset:m,position:h,reverseDirection:v,useTranslate3d:g,viewBox:j,wrapperStyle:S},KH(u,Ww(Ww({},this.props),{},{payload:N})))}}])}(b.PureComponent);cv(zt,"displayName","Tooltip");cv(zt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Bs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var YH=wn,XH=function(){return YH.Date.now()},QH=XH,JH=/\s/;function ZH(e){for(var t=e.length;t--&&JH.test(e.charAt(t)););return t}var eq=ZH,tq=eq,rq=/^\s+/;function nq(e){return e&&e.slice(0,tq(e)+1).replace(rq,"")}var aq=nq,sq=aq,Hw=Fa,iq=So,qw=NaN,oq=/^[-+]0x[0-9a-f]+$/i,lq=/^0b[01]+$/i,cq=/^0o[0-7]+$/i,uq=parseInt;function dq(e){if(typeof e=="number")return e;if(iq(e))return qw;if(Hw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Hw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=sq(e);var r=lq.test(e);return r||cq.test(e)?uq(e.slice(2),r?2:8):oq.test(e)?qw:+e}var kC=dq,fq=Fa,ym=QH,Vw=kC,pq="Expected a function",hq=Math.max,mq=Math.min;function xq(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(pq);t=Vw(t)||0,fq(r)&&(d=!!r.leading,f="maxWait"in r,i=f?hq(Vw(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function m(w){var C=n,_=s;return n=s=void 0,u=w,o=e.apply(_,C),o}function x(w){return u=w,l=setTimeout(v,t),d?m(w):o}function y(w){var C=w-c,_=w-u,P=t-C;return f?mq(P,i-_):P}function h(w){var C=w-c,_=w-u;return c===void 0||C>=t||C<0||f&&_>=i}function v(){var w=ym();if(h(w))return g(w);l=setTimeout(v,y(w))}function g(w){return l=void 0,p&&n?m(w):(n=s=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function S(){return l===void 0?o:g(ym())}function N(){var w=ym(),C=h(w);if(n=arguments,s=this,c=w,C){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(v,t),m(c)}return l===void 0&&(l=setTimeout(v,t)),o}return N.cancel=j,N.flush=S,N}var gq=xq,yq=gq,vq=Fa,bq="Expected a function";function jq(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(bq);return vq(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),yq(e,t,{leading:n,maxWait:t,trailing:s})}var wq=jq;const CC=Te(wq);function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){Nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nq(e,t,r){return t=Sq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sq(e){var t=_q(e,"string");return nc(t)=="symbol"?t:t+""}function _q(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kq(e,t){return Aq(e)||Pq(e,t)||Oq(e,t)||Cq()}function Cq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oq(e,t){if(e){if(typeof e=="string")return Kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(e,t)}}function Kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Aq(e){if(Array.isArray(e))return e}var ui=b.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,p=e.maxHeight,m=e.children,x=e.debounce,y=x===void 0?0:x,h=e.id,v=e.className,g=e.onResize,j=e.style,S=j===void 0?{}:j,N=b.useRef(null),w=b.useRef();w.current=g,b.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var C=b.useState({containerWidth:s.width,containerHeight:s.height}),_=kq(C,2),P=_[0],k=_[1],$=b.useCallback(function(F,B){k(function(R){var z=Math.round(F),G=Math.round(B);return R.containerWidth===z&&R.containerHeight===G?R:{containerWidth:z,containerHeight:G}})},[]);b.useEffect(function(){var F=function(T){var E,U=T[0].contentRect,L=U.width,A=U.height;$(L,A),(E=w.current)===null||E===void 0||E.call(w,L,A)};y>0&&(F=CC(F,y,{trailing:!0,leading:!1}));var B=new ResizeObserver(F),R=N.current.getBoundingClientRect(),z=R.width,G=R.height;return $(z,G),B.observe(N.current),function(){B.disconnect()}},[$,y]);var O=b.useMemo(function(){var F=P.containerWidth,B=P.containerHeight;if(F<0||B<0)return null;Jr(ls(o)||ls(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Jr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=ls(o)?F:o,z=ls(c)?B:c;r&&r>0&&(R?z=R/r:z&&(R=z*r),p&&z>p&&(z=p)),Jr(R>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,z,o,c,d,f,r);var G=!Array.isArray(m)&&In(m.type).endsWith("Chart");return W.Children.map(m,function(I){return W.isValidElement(I)?b.cloneElement(I,Iu({width:R,height:z},G?{style:Iu({height:"100%",width:"100%",maxHeight:z,maxWidth:R},I.props.style)}:{})):I})},[r,m,c,p,f,d,P,o]);return W.createElement("div",{id:h?"".concat(h):void 0,className:be("recharts-responsive-container",v),style:Iu(Iu({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:N},O)}),ac=function(t){return null};ac.displayName="Cell";function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){Eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eq(e,t,r){return t=Tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tq(e){var t=$q(e,"string");return sc(t)=="symbol"?t:t+""}function $q(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gs={widthCache:{},cacheCount:0},Mq=2e3,Dq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Xw="recharts_measurement_span";function Rq(e){var t=kg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var _l=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Bs.isSsr)return{width:0,height:0};var n=Rq(r),s=JSON.stringify({text:t,copyStyle:n});if(Gs.widthCache[s])return Gs.widthCache[s];try{var i=document.getElementById(Xw);i||(i=document.createElement("span"),i.setAttribute("id",Xw),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=kg(kg({},Dq),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Gs.widthCache[s]=c,++Gs.cacheCount>Mq&&(Gs.cacheCount=0,Gs.widthCache={}),c}catch{return{width:0,height:0}}},Iq=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}function hf(e,t){return Uq(e)||Bq(e,t)||Fq(e,t)||Lq()}function Lq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fq(e,t){if(e){if(typeof e=="string")return Qw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qw(e,t)}}function Qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Uq(e){if(Array.isArray(e))return e}function zq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hq(n.key),n)}}function Wq(e,t,r){return t&&Jw(e.prototype,t),r&&Jw(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hq(e){var t=qq(e,"string");return ic(t)=="symbol"?t:t+""}function qq(e,t){if(ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kq=Object.keys(OC),di="NaN";function Yq(e,t){return e*OC[t]}var Lu=function(){function e(t,r){zq(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Vq.test(r)&&(this.num=NaN,this.unit=""),Kq.includes(r)&&(this.num=Yq(t,r),this.unit="px")}return Wq(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Gq.exec(r))!==null&&n!==void 0?n:[],i=hf(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function PC(e){if(e.includes(di))return di;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Zw.exec(t))!==null&&r!==void 0?r:[],s=hf(n,4),i=s[1],o=s[2],l=s[3],c=Lu.parse(i??""),u=Lu.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return di;t=t.replace(Zw,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=e1.exec(t))!==null&&f!==void 0?f:[],m=hf(p,4),x=m[1],y=m[2],h=m[3],v=Lu.parse(x??""),g=Lu.parse(h??""),j=y==="+"?v.add(g):v.subtract(g);if(j.isNaN())return di;t=t.replace(e1,j.toString())}return t}var t1=/\(([^()]*)\)/;function Xq(e){for(var t=e;t.includes("(");){var r=t1.exec(t),n=hf(r,2),s=n[1];t=t.replace(t1,PC(s))}return t}function Qq(e){var t=e.replace(/\s+/g,"");return t=Xq(t),t=PC(t),t}function Jq(e){try{return Qq(e)}catch{return di}}function vm(e){var t=Jq(e.slice(5,-1));return t===di?"":t}var Zq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eV=["dx","dy","angle","className","breakAll"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function r1(e,t){if(e==null)return{};var r=tV(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n1(e,t){return sV(e)||aV(e,t)||nV(e,t)||rV()}function rV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(e,t){if(e){if(typeof e=="string")return a1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a1(e,t)}}function a1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function sV(e){if(Array.isArray(e))return e}var AC=/[ \f\n\r\t\v\u2028\u2029]+/,EC=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];je(r)||(n?i=r.toString().split(""):i=r.toString().split(AC));var o=i.map(function(c){return{word:c,width:_l(c,s).width}}),l=n?0:_l("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},iV=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=oe(o),f=l,p=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(z,G){var I=G.word,T=G.width,E=z[z.length-1];if(E&&(s==null||i||E.width+T+n<Number(s)))E.words.push(I),E.width+=T+n;else{var U={words:[I],width:T};z.push(U)}return z},[])},m=p(r),x=function(R){return R.reduce(function(z,G){return z.width>G.width?z:G})};if(!d)return m;for(var y="",h=function(R){var z=f.slice(0,R),G=EC({breakAll:u,style:c,children:z+y}).wordsWithComputedWidth,I=p(G),T=I.length>o||x(I).width>Number(s);return[T,I]},v=0,g=f.length-1,j=0,S;v<=g&&j<=f.length-1;){var N=Math.floor((v+g)/2),w=N-1,C=h(w),_=n1(C,2),P=_[0],k=_[1],$=h(N),O=n1($,1),F=O[0];if(!P&&!F&&(v=N+1),P&&F&&(g=N-1),!P&&F){S=k;break}j++}return S||m},s1=function(t){var r=je(t)?[]:t.toString().split(AC);return[{words:r}]},oV=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Bs.isSsr){var c,u,d=EC({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return s1(s);return iV({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return s1(s)},i1="#808080",Os=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,p=t.textAnchor,m=p===void 0?"start":p,x=t.verticalAnchor,y=x===void 0?"end":x,h=t.fill,v=h===void 0?i1:h,g=r1(t,Zq),j=b.useMemo(function(){return oV({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),S=g.dx,N=g.dy,w=g.angle,C=g.className,_=g.breakAll,P=r1(g,eV);if(!yt(n)||!yt(i))return null;var k=n+(oe(S)?S:0),$=i+(oe(N)?N:0),O;switch(y){case"start":O=vm("calc(".concat(u,")"));break;case"middle":O=vm("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=vm("calc(".concat(j.length-1," * -").concat(l,")"));break}var F=[];if(f){var B=j[0].width,R=g.width;F.push("scale(".concat((oe(R)?R/B:1)/B,")"))}return w&&F.push("rotate(".concat(w,", ").concat(k,", ").concat($,")")),F.length&&(P.transform=F.join(" ")),W.createElement("text",Cg({},he(P,!0),{x:k,y:$,className:be("recharts-text",C),textAnchor:m,fill:v.includes("url")?i1:v}),j.map(function(z,G){var I=z.words.join(_?"":" ");return W.createElement("tspan",{x:k,dy:G===0?O:l,key:"".concat(I,"-").concat(G)},I)}))};function Oa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uv(e){let t,r,n;e.length!==2?(t=Oa,r=(l,c)=>Oa(e(l),c),n=(l,c)=>e(l)-c):(t=e===Oa||e===lV?e:cV,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function cV(){return 0}function TC(e){return e===null?NaN:+e}function*uV(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const dV=uv(Oa),Zc=dV.right;uv(TC).center;class o1 extends Map{constructor(t,r=hV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(l1(this,t))}has(t){return super.has(l1(this,t))}set(t,r){return super.set(fV(this,t),r)}delete(t){return super.delete(pV(this,t))}}function l1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function fV({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function pV({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function hV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function mV(e=Oa){if(e===Oa)return $C;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function $C(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xV=Math.sqrt(50),gV=Math.sqrt(10),yV=Math.sqrt(2);function mf(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=xV?10:i>=gV?5:i>=yV?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?mf(e,t,r*2):[l,c,u]}function Og(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?mf(t,e,r):mf(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function Pg(e,t,r){return t=+t,e=+e,r=+r,mf(e,t,r)[2]}function Ag(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Pg(t,e,r):Pg(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function c1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function u1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function MC(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?$C:mV(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+p)),x=Math.min(n,Math.floor(t+(c-u)*f/c+p));MC(e,t,m,x,s)}const i=e[t];let o=r,l=n;for(Zo(e,r,t),s(e[n],i)>0&&Zo(e,r,n);o<l;){for(Zo(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Zo(e,r,l):(++l,Zo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Zo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function vV(e,t,r){if(e=Float64Array.from(uV(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return u1(e);if(t>=1)return c1(e);var n,s=(n-1)*t,i=Math.floor(s),o=c1(MC(e,i).subarray(0,i+1)),l=u1(e.subarray(i+1));return o+(l-o)*(s-i)}}function bV(e,t,r=TC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function jV(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Fr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Eg=Symbol("implicit");function dv(){var e=new o1,t=[],r=[],n=Eg;function s(i){let o=e.get(i);if(o===void 0){if(n!==Eg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new o1;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return dv(t,r).unknown(n)},Fr.apply(s,arguments),s}function oc(){var e=dv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,m=s<n,x=m?s:n,y=m?n:s;i=(y-x)/Math.max(1,p-c+u*2),l&&(i=Math.floor(i)),x+=(y-x-i*(p-c))*d,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var h=jV(p).map(function(v){return x+i*v});return r(m?h.reverse():h)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,s]=p,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(p){return[n,s]=p,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return oc(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Fr.apply(f(),arguments)}function DC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DC(t())},e}function kl(){return DC(oc.apply(null,arguments).paddingInner(1))}function fv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function RC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function eu(){}var lc=.7,xf=1/lc,ki="\\s*([+-]?\\d+)\\s*",cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wV=/^#([0-9a-f]{3,8})$/,NV=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),SV=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),_V=new RegExp(`^rgba\\(${ki},${ki},${ki},${cc}\\)$`),kV=new RegExp(`^rgba\\(${dn},${dn},${dn},${cc}\\)$`),CV=new RegExp(`^hsl\\(${cc},${dn},${dn}\\)$`),OV=new RegExp(`^hsla\\(${cc},${dn},${dn},${cc}\\)$`),d1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fv(eu,uc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:f1,formatHex:f1,formatHex8:PV,formatHsl:AV,formatRgb:p1,toString:p1});function f1(){return this.rgb().formatHex()}function PV(){return this.rgb().formatHex8()}function AV(){return IC(this).formatHsl()}function p1(){return this.rgb().formatRgb()}function uc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=wV.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?h1(t):r===3?new Jt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Fu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Fu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=NV.exec(e))?new Jt(t[1],t[2],t[3],1):(t=SV.exec(e))?new Jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_V.exec(e))?Fu(t[1],t[2],t[3],t[4]):(t=kV.exec(e))?Fu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=CV.exec(e))?g1(t[1],t[2]/100,t[3]/100,1):(t=OV.exec(e))?g1(t[1],t[2]/100,t[3]/100,t[4]):d1.hasOwnProperty(e)?h1(d1[e]):e==="transparent"?new Jt(NaN,NaN,NaN,0):null}function h1(e){return new Jt(e>>16&255,e>>8&255,e&255,1)}function Fu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Jt(e,t,r,n)}function EV(e){return e instanceof eu||(e=uc(e)),e?(e=e.rgb(),new Jt(e.r,e.g,e.b,e.opacity)):new Jt}function Tg(e,t,r,n){return arguments.length===1?EV(e):new Jt(e,t,r,n??1)}function Jt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}fv(Jt,Tg,RC(eu,{brighter(e){return e=e==null?xf:Math.pow(xf,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lc:Math.pow(lc,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Jt(xs(this.r),xs(this.g),xs(this.b),gf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:m1,formatHex:m1,formatHex8:TV,formatRgb:x1,toString:x1}));function m1(){return`#${cs(this.r)}${cs(this.g)}${cs(this.b)}`}function TV(){return`#${cs(this.r)}${cs(this.g)}${cs(this.b)}${cs((isNaN(this.opacity)?1:this.opacity)*255)}`}function x1(){const e=gf(this.opacity);return`${e===1?"rgb(":"rgba("}${xs(this.r)}, ${xs(this.g)}, ${xs(this.b)}${e===1?")":`, ${e})`}`}function gf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cs(e){return e=xs(e),(e<16?"0":"")+e.toString(16)}function g1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yr(e,t,r,n)}function IC(e){if(e instanceof Yr)return new Yr(e.h,e.s,e.l,e.opacity);if(e instanceof eu||(e=uc(e)),!e)return new Yr;if(e instanceof Yr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Yr(o,l,c,e.opacity)}function $V(e,t,r,n){return arguments.length===1?IC(e):new Yr(e,t,r,n??1)}function Yr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}fv(Yr,$V,RC(eu,{brighter(e){return e=e==null?xf:Math.pow(xf,e),new Yr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lc:Math.pow(lc,e),new Yr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Jt(bm(e>=240?e-240:e+120,s,n),bm(e,s,n),bm(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Yr(y1(this.h),Bu(this.s),Bu(this.l),gf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gf(this.opacity);return`${e===1?"hsl(":"hsla("}${y1(this.h)}, ${Bu(this.s)*100}%, ${Bu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function y1(e){return e=(e||0)%360,e<0?e+360:e}function Bu(e){return Math.max(0,Math.min(1,e||0))}function bm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const pv=e=>()=>e;function MV(e,t){return function(r){return e+r*t}}function DV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function RV(e){return(e=+e)==1?LC:function(t,r){return r-t?DV(t,r,e):pv(isNaN(t)?r:t)}}function LC(e,t){var r=t-e;return r?MV(e,r):pv(isNaN(e)?t:e)}const v1=function e(t){var r=RV(t);function n(s,i){var o=r((s=Tg(s)).r,(i=Tg(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=LC(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function IV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function LV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function FV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=$o(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function BV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function yf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function UV(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=$o(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var $g=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jm=new RegExp($g.source,"g");function zV(e){return function(){return e}}function WV(e){return function(t){return e(t)+""}}function HV(e,t){var r=$g.lastIndex=jm.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=$g.exec(e))&&(s=jm.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:yf(n,s)})),r=jm.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?WV(c[0].x):zV(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function $o(e,t){var r=typeof t,n;return t==null||r==="boolean"?pv(t):(r==="number"?yf:r==="string"?(n=uc(t))?(t=n,v1):HV:t instanceof uc?v1:t instanceof Date?BV:LV(t)?IV:Array.isArray(t)?FV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?UV:yf)(e,t)}function hv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function qV(e,t){t===void 0&&(t=e,e=$o);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function VV(e){return function(){return e}}function vf(e){return+e}var b1=[0,1];function qt(e){return e}function Mg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:VV(isNaN(t)?NaN:.5)}function GV(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function KV(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=Mg(s,n),i=r(o,i)):(n=Mg(n,s),i=r(i,o)),function(l){return i(n(l))}}function YV(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Mg(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Zc(e,l,1,n)-1;return i[c](s[c](l))}}function tu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nh(){var e=b1,t=b1,r=$o,n,s,i,o=qt,l,c,u;function d(){var p=Math.min(e.length,t.length);return o!==qt&&(o=GV(e[0],e[p-1])),l=p>2?YV:KV,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=l(e.map(n),t,r)))(n(o(p)))}return f.invert=function(p){return o(s((u||(u=l(t,e.map(n),yf)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,vf),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=hv,d()},f.clamp=function(p){return arguments.length?(o=p?!0:qt,d()):o!==qt},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return n=p,s=m,d()}}function mv(){return nh()(qt,qt)}function XV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bf(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Hi(e){return e=bf(Math.abs(e)),e?e[1]:NaN}function QV(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function JV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ZV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dc(e){if(!(t=ZV.exec(e)))throw new Error("invalid format: "+e);var t;return new xv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dc.prototype=xv.prototype;function xv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eG(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var jf;function tG(e,t){var r=bf(e,t);if(!r)return jf=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(jf=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+bf(e,Math.max(0,t+i-1))[0]}function j1(e,t){var r=bf(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const w1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:XV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>j1(e*100,t),r:j1,s:tG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function N1(e){return e}var S1=Array.prototype.map,_1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rG(e){var t=e.grouping===void 0||e.thousands===void 0?N1:QV(S1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?N1:JV(S1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,p){f=dc(f);var m=f.fill,x=f.align,y=f.sign,h=f.symbol,v=f.zero,g=f.width,j=f.comma,S=f.precision,N=f.trim,w=f.type;w==="n"?(j=!0,w="g"):w1[w]||(S===void 0&&(S=12),N=!0,w="g"),(v||m==="0"&&x==="=")&&(v=!0,m="0",x="=");var C=(p&&p.prefix!==void 0?p.prefix:"")+(h==="$"?r:h==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():""),_=(h==="$"?n:/[%p]/.test(w)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),P=w1[w],k=/[defgprs%]/.test(w);S=S===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function $(O){var F=C,B=_,R,z,G;if(w==="c")B=P(O)+B,O="";else{O=+O;var I=O<0||1/O<0;if(O=isNaN(O)?c:P(Math.abs(O),S),N&&(O=eG(O)),I&&+O==0&&y!=="+"&&(I=!1),F=(I?y==="("?y:l:y==="-"||y==="("?"":y)+F,B=(w==="s"&&!isNaN(O)&&jf!==void 0?_1[8+jf/3]:"")+B+(I&&y==="("?")":""),k){for(R=-1,z=O.length;++R<z;)if(G=O.charCodeAt(R),48>G||G>57){B=(G===46?s+O.slice(R+1):O.slice(R))+B,O=O.slice(0,R);break}}}j&&!v&&(O=t(O,1/0));var T=F.length+O.length+B.length,E=T<g?new Array(g-T+1).join(m):"";switch(j&&v&&(O=t(E+O,E.length?g-B.length:1/0),E=""),x){case"<":O=F+O+B+E;break;case"=":O=F+E+O+B;break;case"^":O=E.slice(0,T=E.length>>1)+F+O+B+E.slice(T);break;default:O=E+F+O+B;break}return i(O)}return $.toString=function(){return f+""},$}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(Hi(p)/3)))*3,x=Math.pow(10,-m),y=u((f=dc(f),f.type="f",f),{suffix:_1[8+m/3]});return function(h){return y(x*h)}}return{format:u,formatPrefix:d}}var Uu,gv,FC;nG({thousands:",",grouping:[3],currency:["$",""]});function nG(e){return Uu=rG(e),gv=Uu.format,FC=Uu.formatPrefix,Uu}function aG(e){return Math.max(0,-Hi(Math.abs(e)))}function sG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hi(t)/3)))*3-Hi(Math.abs(e)))}function iG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hi(t)-Hi(e))+1}function BC(e,t,r,n){var s=Ag(e,t,r),i;switch(n=dc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=sG(s,o))&&(n.precision=i),FC(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=iG(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=aG(s))&&(n.precision=i-(n.type==="%")*2);break}}return gv(n)}function Ba(e){var t=e.domain;return e.ticks=function(r){var n=t();return Og(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return BC(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=Pg(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function wf(){var e=mv();return e.copy=function(){return tu(e,wf())},Fr.apply(e,arguments),Ba(e)}function UC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,vf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return UC(e).unknown(t)},e=arguments.length?Array.from(e,vf):[0,1],Ba(r)}function zC(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function k1(e){return Math.log(e)}function C1(e){return Math.exp(e)}function oG(e){return-Math.log(-e)}function lG(e){return-Math.exp(-e)}function cG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uG(e){return e===10?cG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function dG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function O1(e){return(t,r)=>-e(-t,r)}function yv(e){const t=e(k1,C1),r=t.domain;let n=10,s,i;function o(){return s=dG(n),i=uG(n),r()[0]<0?(s=O1(s),i=O1(i),e(oG,lG)):e(k1,C1),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=s(u),m=s(d),x,y;const h=l==null?10:+l;let v=[];if(!(n%1)&&m-p<h){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(x=1;x<n;++x)if(y=p<0?x/i(-p):x*i(p),!(y<u)){if(y>d)break;v.push(y)}}else for(;p<=m;++p)for(x=n-1;x>=1;--x)if(y=p>0?x/i(-p):x*i(p),!(y<u)){if(y>d)break;v.push(y)}v.length*2<h&&(v=Og(u,d,h))}else v=Og(p,m,Math.min(m-p,h)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=dc(c)).precision==null&&(c.trim=!0),c=gv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(zC(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function WC(){const e=yv(nh()).domain([1,10]);return e.copy=()=>tu(e,WC()).base(e.base()),Fr.apply(e,arguments),e}function P1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function A1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vv(e){var t=1,r=e(P1(t),A1(t));return r.constant=function(n){return arguments.length?e(P1(t=+n),A1(t)):t},Ba(r)}function HC(){var e=vv(nh());return e.copy=function(){return tu(e,HC()).constant(e.constant())},Fr.apply(e,arguments)}function E1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pG(e){return e<0?-e*e:e*e}function bv(e){var t=e(qt,qt),r=1;function n(){return r===1?e(qt,qt):r===.5?e(fG,pG):e(E1(r),E1(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Ba(t)}function jv(){var e=bv(nh());return e.copy=function(){return tu(e,jv()).exponent(e.exponent())},Fr.apply(e,arguments),e}function hG(){return jv.apply(null,arguments).exponent(.5)}function T1(e){return Math.sign(e)*e*e}function mG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qC(){var e=mv(),t=[0,1],r=!1,n;function s(i){var o=mG(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(T1(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,vf)).map(T1)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return qC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Fr.apply(s,arguments),Ba(s)}function VC(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=bV(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Zc(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Oa),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return VC().domain(e).range(t).unknown(n)},Fr.apply(i,arguments)}function GC(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Zc(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return GC().domain([e,t]).range(s).unknown(i)},Fr.apply(Ba(o),arguments)}function KC(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Zc(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return KC().domain(e).range(t).unknown(r)},Fr.apply(s,arguments)}const wm=new Date,Nm=new Date;function vt(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>vt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(wm.setTime(+i),Nm.setTime(+o),e(wm),e(Nm),Math.floor(r(wm,Nm))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Nf=vt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Nf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?vt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Nf);Nf.range;const $n=1e3,Tr=$n*60,Mn=Tr*60,Vn=Mn*24,wv=Vn*7,$1=Vn*30,Sm=Vn*365,us=vt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$n)},(e,t)=>(t-e)/$n,e=>e.getUTCSeconds());us.range;const Nv=vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$n)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());Nv.range;const Sv=vt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());Sv.range;const _v=vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$n-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getHours());_v.range;const kv=vt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCHours());kv.range;const ru=vt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/Vn,e=>e.getDate()-1);ru.range;const ah=vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>e.getUTCDate()-1);ah.range;const YC=vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>Math.floor(e/Vn));YC.range;function Us(e){return vt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/wv)}const sh=Us(0),Sf=Us(1),xG=Us(2),gG=Us(3),qi=Us(4),yG=Us(5),vG=Us(6);sh.range;Sf.range;xG.range;gG.range;qi.range;yG.range;vG.range;function zs(e){return vt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/wv)}const ih=zs(0),_f=zs(1),bG=zs(2),jG=zs(3),Vi=zs(4),wG=zs(5),NG=zs(6);ih.range;_f.range;bG.range;jG.range;Vi.range;wG.range;NG.range;const Cv=vt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Cv.range;const Ov=vt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ov.range;const Gn=vt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Gn.range;const Kn=vt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Kn.range;function XC(e,t,r,n,s,i){const o=[[us,1,$n],[us,5,5*$n],[us,15,15*$n],[us,30,30*$n],[i,1,Tr],[i,5,5*Tr],[i,15,15*Tr],[i,30,30*Tr],[s,1,Mn],[s,3,3*Mn],[s,6,6*Mn],[s,12,12*Mn],[n,1,Vn],[n,2,2*Vn],[r,1,wv],[t,1,$1],[t,3,3*$1],[e,1,Sm]];function l(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),x=m?m.range(u,+d+1):[];return p?x.reverse():x}function c(u,d,f){const p=Math.abs(d-u)/f,m=uv(([,,h])=>h).right(o,p);if(m===o.length)return e.every(Ag(u/Sm,d/Sm,f));if(m===0)return Nf.every(Math.max(Ag(u,d,f),1));const[x,y]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return x.every(y)}return[l,c]}const[SG,_G]=XC(Kn,Ov,ih,YC,kv,Sv),[kG,CG]=XC(Gn,Cv,sh,ru,_v,Nv);function _m(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function km(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function el(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function OG(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=tl(s),d=rl(s),f=tl(i),p=rl(i),m=tl(o),x=rl(o),y=tl(l),h=rl(l),v=tl(c),g=rl(c),j={a:G,A:I,b:T,B:E,c:null,d:F1,e:F1,f:QG,g:oK,G:cK,H:KG,I:YG,j:XG,L:QC,m:JG,M:ZG,p:U,q:L,Q:z1,s:W1,S:eK,u:tK,U:rK,V:nK,w:aK,W:sK,x:null,X:null,y:iK,Y:lK,Z:uK,"%":U1},S={a:A,A:H,b:te,B:K,c:null,d:B1,e:B1,f:hK,g:SK,G:kK,H:dK,I:fK,j:pK,L:ZC,m:mK,M:xK,p:ue,q:de,Q:z1,s:W1,S:gK,u:yK,U:vK,V:bK,w:jK,W:wK,x:null,X:null,y:NK,Y:_K,Z:CK,"%":U1},N={a:k,A:$,b:O,B:F,c:B,d:I1,e:I1,f:HG,g:R1,G:D1,H:L1,I:L1,j:BG,L:WG,m:FG,M:UG,p:P,q:LG,Q:VG,s:GG,S:zG,u:$G,U:MG,V:DG,w:TG,W:RG,x:R,X:z,y:R1,Y:D1,Z:IG,"%":qG};j.x=w(r,j),j.X=w(n,j),j.c=w(t,j),S.x=w(r,S),S.X=w(n,S),S.c=w(t,S);function w(re,J){return function(V){var D=[],le=-1,M=0,Y=re.length,ae,xe,ot;for(V instanceof Date||(V=new Date(+V));++le<Y;)re.charCodeAt(le)===37&&(D.push(re.slice(M,le)),(xe=M1[ae=re.charAt(++le)])!=null?ae=re.charAt(++le):xe=ae==="e"?" ":"0",(ot=J[ae])&&(ae=ot(V,xe)),D.push(ae),M=le+1);return D.push(re.slice(M,le)),D.join("")}}function C(re,J){return function(V){var D=el(1900,void 0,1),le=_(D,re,V+="",0),M,Y;if(le!=V.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(J&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(M=km(el(D.y,0,1)),Y=M.getUTCDay(),M=Y>4||Y===0?_f.ceil(M):_f(M),M=ah.offset(M,(D.V-1)*7),D.y=M.getUTCFullYear(),D.m=M.getUTCMonth(),D.d=M.getUTCDate()+(D.w+6)%7):(M=_m(el(D.y,0,1)),Y=M.getDay(),M=Y>4||Y===0?Sf.ceil(M):Sf(M),M=ru.offset(M,(D.V-1)*7),D.y=M.getFullYear(),D.m=M.getMonth(),D.d=M.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),Y="Z"in D?km(el(D.y,0,1)).getUTCDay():_m(el(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(Y+5)%7:D.w+D.U*7-(Y+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,km(D)):_m(D)}}function _(re,J,V,D){for(var le=0,M=J.length,Y=V.length,ae,xe;le<M;){if(D>=Y)return-1;if(ae=J.charCodeAt(le++),ae===37){if(ae=J.charAt(le++),xe=N[ae in M1?J.charAt(le++):ae],!xe||(D=xe(re,V,D))<0)return-1}else if(ae!=V.charCodeAt(D++))return-1}return D}function P(re,J,V){var D=u.exec(J.slice(V));return D?(re.p=d.get(D[0].toLowerCase()),V+D[0].length):-1}function k(re,J,V){var D=m.exec(J.slice(V));return D?(re.w=x.get(D[0].toLowerCase()),V+D[0].length):-1}function $(re,J,V){var D=f.exec(J.slice(V));return D?(re.w=p.get(D[0].toLowerCase()),V+D[0].length):-1}function O(re,J,V){var D=v.exec(J.slice(V));return D?(re.m=g.get(D[0].toLowerCase()),V+D[0].length):-1}function F(re,J,V){var D=y.exec(J.slice(V));return D?(re.m=h.get(D[0].toLowerCase()),V+D[0].length):-1}function B(re,J,V){return _(re,t,J,V)}function R(re,J,V){return _(re,r,J,V)}function z(re,J,V){return _(re,n,J,V)}function G(re){return o[re.getDay()]}function I(re){return i[re.getDay()]}function T(re){return c[re.getMonth()]}function E(re){return l[re.getMonth()]}function U(re){return s[+(re.getHours()>=12)]}function L(re){return 1+~~(re.getMonth()/3)}function A(re){return o[re.getUTCDay()]}function H(re){return i[re.getUTCDay()]}function te(re){return c[re.getUTCMonth()]}function K(re){return l[re.getUTCMonth()]}function ue(re){return s[+(re.getUTCHours()>=12)]}function de(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var J=w(re+="",j);return J.toString=function(){return re},J},parse:function(re){var J=C(re+="",!1);return J.toString=function(){return re},J},utcFormat:function(re){var J=w(re+="",S);return J.toString=function(){return re},J},utcParse:function(re){var J=C(re+="",!0);return J.toString=function(){return re},J}}}var M1={"-":"",_:" ",0:"0"},kt=/^\s*\d+/,PG=/^%/,AG=/[\\^$*+?|[\]().{}]/g;function ke(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function EG(e){return e.replace(AG,"\\$&")}function tl(e){return new RegExp("^(?:"+e.map(EG).join("|")+")","i")}function rl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function TG(e,t,r){var n=kt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $G(e,t,r){var n=kt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function MG(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function DG(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function RG(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function D1(e,t,r){var n=kt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function R1(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function IG(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function LG(e,t,r){var n=kt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function FG(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function I1(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function BG(e,t,r){var n=kt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function L1(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function UG(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function zG(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function WG(e,t,r){var n=kt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function HG(e,t,r){var n=kt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function qG(e,t,r){var n=PG.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function VG(e,t,r){var n=kt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function GG(e,t,r){var n=kt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function F1(e,t){return ke(e.getDate(),t,2)}function KG(e,t){return ke(e.getHours(),t,2)}function YG(e,t){return ke(e.getHours()%12||12,t,2)}function XG(e,t){return ke(1+ru.count(Gn(e),e),t,3)}function QC(e,t){return ke(e.getMilliseconds(),t,3)}function QG(e,t){return QC(e,t)+"000"}function JG(e,t){return ke(e.getMonth()+1,t,2)}function ZG(e,t){return ke(e.getMinutes(),t,2)}function eK(e,t){return ke(e.getSeconds(),t,2)}function tK(e){var t=e.getDay();return t===0?7:t}function rK(e,t){return ke(sh.count(Gn(e)-1,e),t,2)}function JC(e){var t=e.getDay();return t>=4||t===0?qi(e):qi.ceil(e)}function nK(e,t){return e=JC(e),ke(qi.count(Gn(e),e)+(Gn(e).getDay()===4),t,2)}function aK(e){return e.getDay()}function sK(e,t){return ke(Sf.count(Gn(e)-1,e),t,2)}function iK(e,t){return ke(e.getFullYear()%100,t,2)}function oK(e,t){return e=JC(e),ke(e.getFullYear()%100,t,2)}function lK(e,t){return ke(e.getFullYear()%1e4,t,4)}function cK(e,t){var r=e.getDay();return e=r>=4||r===0?qi(e):qi.ceil(e),ke(e.getFullYear()%1e4,t,4)}function uK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ke(t/60|0,"0",2)+ke(t%60,"0",2)}function B1(e,t){return ke(e.getUTCDate(),t,2)}function dK(e,t){return ke(e.getUTCHours(),t,2)}function fK(e,t){return ke(e.getUTCHours()%12||12,t,2)}function pK(e,t){return ke(1+ah.count(Kn(e),e),t,3)}function ZC(e,t){return ke(e.getUTCMilliseconds(),t,3)}function hK(e,t){return ZC(e,t)+"000"}function mK(e,t){return ke(e.getUTCMonth()+1,t,2)}function xK(e,t){return ke(e.getUTCMinutes(),t,2)}function gK(e,t){return ke(e.getUTCSeconds(),t,2)}function yK(e){var t=e.getUTCDay();return t===0?7:t}function vK(e,t){return ke(ih.count(Kn(e)-1,e),t,2)}function eO(e){var t=e.getUTCDay();return t>=4||t===0?Vi(e):Vi.ceil(e)}function bK(e,t){return e=eO(e),ke(Vi.count(Kn(e),e)+(Kn(e).getUTCDay()===4),t,2)}function jK(e){return e.getUTCDay()}function wK(e,t){return ke(_f.count(Kn(e)-1,e),t,2)}function NK(e,t){return ke(e.getUTCFullYear()%100,t,2)}function SK(e,t){return e=eO(e),ke(e.getUTCFullYear()%100,t,2)}function _K(e,t){return ke(e.getUTCFullYear()%1e4,t,4)}function kK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Vi(e):Vi.ceil(e),ke(e.getUTCFullYear()%1e4,t,4)}function CK(){return"+0000"}function U1(){return"%"}function z1(e){return+e}function W1(e){return Math.floor(+e/1e3)}var Ks,tO,rO;OK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OK(e){return Ks=OG(e),tO=Ks.format,Ks.parse,rO=Ks.utcFormat,Ks.utcParse,Ks}function PK(e){return new Date(e)}function AK(e){return e instanceof Date?+e:+new Date(+e)}function Pv(e,t,r,n,s,i,o,l,c,u){var d=mv(),f=d.invert,p=d.domain,m=u(".%L"),x=u(":%S"),y=u("%I:%M"),h=u("%I %p"),v=u("%a %d"),g=u("%b %d"),j=u("%B"),S=u("%Y");function N(w){return(c(w)<w?m:l(w)<w?x:o(w)<w?y:i(w)<w?h:n(w)<w?s(w)<w?v:g:r(w)<w?j:S)(w)}return d.invert=function(w){return new Date(f(w))},d.domain=function(w){return arguments.length?p(Array.from(w,AK)):p().map(PK)},d.ticks=function(w){var C=p();return e(C[0],C[C.length-1],w??10)},d.tickFormat=function(w,C){return C==null?N:u(C)},d.nice=function(w){var C=p();return(!w||typeof w.range!="function")&&(w=t(C[0],C[C.length-1],w??10)),w?p(zC(C,w)):d},d.copy=function(){return tu(d,Pv(e,t,r,n,s,i,o,l,c,u))},d}function EK(){return Fr.apply(Pv(kG,CG,Gn,Cv,sh,ru,_v,Nv,us,tO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TK(){return Fr.apply(Pv(SG,_G,Kn,Ov,ih,ah,kv,Sv,us,rO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function oh(){var e=0,t=1,r,n,s,i,o=qt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var m,x;return arguments.length?([m,x]=p,o=f(m,x),u):[o(0),o(1)]}}return u.range=d($o),u.rangeRound=d(hv),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Ua(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nO(){var e=Ba(oh()(qt));return e.copy=function(){return Ua(e,nO())},Zn.apply(e,arguments)}function aO(){var e=yv(oh()).domain([1,10]);return e.copy=function(){return Ua(e,aO()).base(e.base())},Zn.apply(e,arguments)}function sO(){var e=vv(oh());return e.copy=function(){return Ua(e,sO()).constant(e.constant())},Zn.apply(e,arguments)}function Av(){var e=bv(oh());return e.copy=function(){return Ua(e,Av()).exponent(e.exponent())},Zn.apply(e,arguments)}function $K(){return Av.apply(null,arguments).exponent(.5)}function iO(){var e=[],t=qt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Zc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Oa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>vV(e,i/n))},r.copy=function(){return iO(t).domain(e)},Zn.apply(r,arguments)}function lh(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=qt,d,f=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+d(y))-i)*(n*y<n*i?l:c),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function x(y){return function(h){var v,g,j;return arguments.length?([v,g,j]=h,u=qV(y,[v,g,j]),m):[u(0),u(.5),u(1)]}}return m.range=x($o),m.rangeRound=x(hv),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return d=y,s=y(e),i=y(t),o=y(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m}}function oO(){var e=Ba(lh()(qt));return e.copy=function(){return Ua(e,oO())},Zn.apply(e,arguments)}function lO(){var e=yv(lh()).domain([.1,1,10]);return e.copy=function(){return Ua(e,lO()).base(e.base())},Zn.apply(e,arguments)}function cO(){var e=vv(lh());return e.copy=function(){return Ua(e,cO()).constant(e.constant())},Zn.apply(e,arguments)}function Ev(){var e=bv(lh());return e.copy=function(){return Ua(e,Ev()).exponent(e.exponent())},Zn.apply(e,arguments)}function MK(){return Ev.apply(null,arguments).exponent(.5)}const H1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:oc,scaleDiverging:oO,scaleDivergingLog:lO,scaleDivergingPow:Ev,scaleDivergingSqrt:MK,scaleDivergingSymlog:cO,scaleIdentity:UC,scaleImplicit:Eg,scaleLinear:wf,scaleLog:WC,scaleOrdinal:dv,scalePoint:kl,scalePow:jv,scaleQuantile:VC,scaleQuantize:GC,scaleRadial:qC,scaleSequential:nO,scaleSequentialLog:aO,scaleSequentialPow:Av,scaleSequentialQuantile:iO,scaleSequentialSqrt:$K,scaleSequentialSymlog:sO,scaleSqrt:hG,scaleSymlog:HC,scaleThreshold:KC,scaleTime:EK,scaleUtc:TK,tickFormat:BC},Symbol.toStringTag,{value:"Module"}));var DK=So;function RK(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!DK(o):r(o,l)))var l=o,c=i}return c}var ch=RK;function IK(e,t){return e>t}var uO=IK,LK=ch,FK=uO,BK=To;function UK(e){return e&&e.length?LK(e,BK,FK):void 0}var zK=UK;const uh=Te(zK);function WK(e,t){return e<t}var dO=WK,HK=ch,qK=dO,VK=To;function GK(e){return e&&e.length?HK(e,VK,qK):void 0}var KK=GK;const dh=Te(KK);var YK=qy,XK=Nn,QK=bC,JK=ir;function ZK(e,t){var r=JK(e)?YK:QK;return r(e,XK(t))}var eY=ZK,tY=yC,rY=eY;function nY(e,t){return tY(rY(e,t),1)}var aY=nY;const sY=Te(aY);var iY=iv;function oY(e,t){return iY(e,t)}var lY=oY;const nu=Te(lY);var Mo=1e9,cY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$v,Qe=!0,Ir="[DecimalError] ",gs=Ir+"Invalid argument: ",Tv=Ir+"Exponent out of range: ",Do=Math.floor,ts=Math.pow,uY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hr,wt=1e7,qe=7,fO=9007199254740991,kf=Do(fO/qe),pe={};pe.absoluteValue=pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};pe.comparedTo=pe.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};pe.dividedBy=pe.div=function(e){return Ln(this,new this.constructor(e))};pe.dividedToIntegerBy=pe.idiv=function(e){var t=this,r=t.constructor;return Re(Ln(t,new r(e),0,1),r.precision)};pe.equals=pe.eq=function(e){return!this.cmp(e)};pe.exponent=function(){return dt(this)};pe.greaterThan=pe.gt=function(e){return this.cmp(e)>0};pe.greaterThanOrEqualTo=pe.gte=function(e){return this.cmp(e)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(e){return this.cmp(e)<0};pe.lessThanOrEqualTo=pe.lte=function(e){return this.cmp(e)<1};pe.logarithm=pe.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hr))throw Error(Ir+"NaN");if(r.s<1)throw Error(Ir+(r.s?"NaN":"-Infinity"));return r.eq(hr)?new n(0):(Qe=!1,t=Ln(fc(r,i),fc(e,i),i),Qe=!0,Re(t,s))};pe.minus=pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mO(t,e):pO(t,(e.s=-e.s,e))};pe.modulo=pe.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Ir+"NaN");return r.s?(Qe=!1,t=Ln(r,e,0,1).times(e),Qe=!0,r.minus(t)):Re(new n(r),s)};pe.naturalExponential=pe.exp=function(){return hO(this)};pe.naturalLogarithm=pe.ln=function(){return fc(this)};pe.negated=pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};pe.plus=pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pO(t,e):mO(t,(e.s=-e.s,e))};pe.precision=pe.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gs+e);if(t=dt(s)+1,n=s.d.length-1,r=n*qe+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};pe.squareRoot=pe.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ir+"NaN")}for(e=dt(l),Qe=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=ln(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Do((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Ln(l,i,o+2)).times(.5),ln(i.d).slice(0,o)===(t=ln(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Re(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Qe=!0,Re(n,r)};pe.times=pe.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=p.length,u=m.length,c<u&&(i=p,p=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*p[s-n-1]+t,i[s--]=l%wt|0,t=l/wt|0;i[s]=(i[s]+t)%wt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Qe?Re(e,f.precision):e};pe.toDecimalPlaces=pe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(yn(e,0,Mo),t===void 0?t=n.rounding:yn(t,0,8),Re(r,e+dt(r)+1,t))};pe.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ps(n,!0):(yn(e,0,Mo),t===void 0?t=s.rounding:yn(t,0,8),n=Re(new s(n),e+1,t),r=Ps(n,!0,e+1)),r};pe.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ps(s):(yn(e,0,Mo),t===void 0?t=i.rounding:yn(t,0,8),n=Re(new i(s),e+dt(s)+1,t),r=Ps(n.abs(),!1,e+dt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};pe.toInteger=pe.toint=function(){var e=this,t=e.constructor;return Re(new t(e),dt(e)+1,t.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(hr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ir+"Infinity");return l}if(l.eq(hr))return l;if(n=c.precision,e.eq(hr))return Re(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=fO){for(s=new c(hr),t=Math.ceil(n/qe+4),Qe=!1;r%2&&(s=s.times(l),V1(s.d,t)),r=Do(r/2),r!==0;)l=l.times(l),V1(l.d,t);return Qe=!0,e.s<0?new c(hr).div(s):Re(s,n)}}else if(i<0)throw Error(Ir+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Qe=!1,s=e.times(fc(l,n+u)),Qe=!0,s=hO(s),s.s=i,s};pe.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=dt(s),n=Ps(s,r<=i.toExpNeg||r>=i.toExpPos)):(yn(e,1,Mo),t===void 0?t=i.rounding:yn(t,0,8),s=Re(new i(s),e,t),r=dt(s),n=Ps(s,e<=r||r<=i.toExpNeg,e)),n};pe.toSignificantDigits=pe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(yn(e,1,Mo),t===void 0?t=n.rounding:yn(t,0,8)),Re(new n(r),e,t)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dt(e),r=e.constructor;return Ps(e,t<=r.toExpNeg||t>=r.toExpPos)};function pO(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Qe?Re(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/qe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/wt|0,c[i]%=wt;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Qe?Re(t,f):t}function yn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(gs+e)}function ln(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=qe-n.length,r&&(i+=oa(r)),i+=n;o=e[t],n=o+"",r=qe-n.length,r&&(i+=oa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ln=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%wt|0,o=i/wt|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*wt+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,p,m,x,y,h,v,g,j,S,N,w,C,_,P=n.constructor,k=n.s==s.s?1:-1,$=n.d,O=s.d;if(!n.s)return new P(n);if(!s.s)throw Error(Ir+"Division by zero");for(c=n.e-s.e,C=O.length,N=$.length,m=new P(k),x=m.d=[],u=0;O[u]==($[u]||0);)++u;if(O[u]>($[u]||0)&&--c,i==null?g=i=P.precision:o?g=i+(dt(n)-dt(s))+1:g=i,g<0)return new P(0);if(g=g/qe+2|0,u=0,C==1)for(d=0,O=O[0],g++;(u<N||d)&&g--;u++)j=d*wt+($[u]||0),x[u]=j/O|0,d=j%O|0;else{for(d=wt/(O[0]+1)|0,d>1&&(O=e(O,d),$=e($,d),C=O.length,N=$.length),S=C,y=$.slice(0,C),h=y.length;h<C;)y[h++]=0;_=O.slice(),_.unshift(0),w=O[0],O[1]>=wt/2&&++w;do d=0,l=t(O,y,C,h),l<0?(v=y[0],C!=h&&(v=v*wt+(y[1]||0)),d=v/w|0,d>1?(d>=wt&&(d=wt-1),f=e(O,d),p=f.length,h=y.length,l=t(f,y,p,h),l==1&&(d--,r(f,C<p?_:O,p))):(d==0&&(l=d=1),f=O.slice()),p=f.length,p<h&&f.unshift(0),r(y,f,h),l==-1&&(h=y.length,l=t(O,y,C,h),l<1&&(d++,r(y,C<h?_:O,h))),h=y.length):l===0&&(d++,y=[0]),x[u++]=d,l&&y[0]?y[h++]=$[S]||0:(y=[$[S]],h=1);while((S++<N||y[0]!==void 0)&&g--)}return x[0]||x.shift(),m.e=c,Re(m,o?i+dt(m)+1:i)}}();function hO(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(dt(e)>16)throw Error(Tv+dt(e));if(!e.s)return new d(hr);for(Qe=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ts(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(hr),d.precision=l;;){if(s=Re(s.times(e),l),r=r.times(++c),o=i.plus(Ln(s,r,l)),ln(o.d).slice(0,l)===ln(i.d).slice(0,l)){for(;u--;)i=Re(i.times(i),l);return d.precision=f,t==null?(Qe=!0,Re(i,f)):i}i=o}}function dt(e){for(var t=e.e*qe,r=e.d[0];r>=10;r/=10)t++;return t}function Cm(e,t,r){if(t>e.LN10.sd())throw Qe=!0,r&&(e.precision=r),Error(Ir+"LN10 precision limit exceeded");return Re(new e(e.LN10),t)}function oa(e){for(var t="";e--;)t+="0";return t}function fc(e,t){var r,n,s,i,o,l,c,u,d,f=1,p=10,m=e,x=m.d,y=m.constructor,h=y.precision;if(m.s<1)throw Error(Ir+(m.s?"NaN":"-Infinity"));if(m.eq(hr))return new y(0);if(t==null?(Qe=!1,u=h):u=t,m.eq(10))return t==null&&(Qe=!0),Cm(y,u);if(u+=p,y.precision=u,r=ln(x),n=r.charAt(0),i=dt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ln(m.d),n=r.charAt(0),f++;i=dt(m),n>1?(m=new y("0."+r),i++):m=new y(n+"."+r.slice(1))}else return c=Cm(y,u+2,h).times(i+""),m=fc(new y(n+"."+r.slice(1)),u-p).plus(c),y.precision=h,t==null?(Qe=!0,Re(m,h)):m;for(l=o=m=Ln(m.minus(hr),m.plus(hr),u),d=Re(m.times(m),u),s=3;;){if(o=Re(o.times(d),u),c=l.plus(Ln(o,new y(s),u)),ln(c.d).slice(0,u)===ln(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Cm(y,u+2,h).times(i+""))),l=Ln(l,new y(f),u),y.precision=h,t==null?(Qe=!0,Re(l,h)):l;l=c,s+=2}}function q1(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Do(r/qe),e.d=[],n=(r+1)%qe,r<0&&(n+=qe),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=qe;n<s;)e.d.push(+t.slice(n,n+=qe));t=t.slice(n),n=qe-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Qe&&(e.e>kf||e.e<-kf))throw Error(Tv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Re(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=qe,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/qe),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=qe,s=n-qe+o}if(r!==void 0&&(i=ts(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/ts(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=dt(e),f.length=1,t=t-i-1,f[0]=ts(10,(qe-t%qe)%qe),e.e=Do(-t/qe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ts(10,qe-n),f[d]=s>0?(u/ts(10,o-s)%ts(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==wt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=wt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Qe&&(e.e>kf||e.e<-kf))throw Error(Tv+dt(e));return e}function mO(e,t){var r,n,s,i,o,l,c,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Qe?Re(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/qe),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=wt-1;--c[i],c[s]+=wt}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Qe?Re(t,m):t):new p(0)}function Ps(e,t,r){var n,s=dt(e),i=ln(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+oa(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+oa(-s-1)+i,r&&(n=r-o)>0&&(i+=oa(n))):s>=o?(i+=oa(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+oa(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=oa(n))),e.s<0?"-"+i:i}function V1(e,t){if(e.length>t)return e.length=t,!0}function xO(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(gs+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return q1(o,i.toString())}else if(typeof i!="string")throw Error(gs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,uY.test(i))q1(o,i);else throw Error(gs+i)}if(s.prototype=pe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=xO,s.config=s.set=dY,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function dY(e){if(!e||typeof e!="object")throw Error(Ir+"Object expected");var t,r,n,s=["precision",1,Mo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Do(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(gs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(gs+r+": "+n);return this}var $v=xO(cY);hr=new $v(1);const De=$v;function fY(e){return xY(e)||mY(e)||hY(e)||pY()}function pY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hY(e,t){if(e){if(typeof e=="string")return Dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dg(e,t)}}function mY(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xY(e){if(Array.isArray(e))return Dg(e)}function Dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gY=function(t){return t},gO={},yO=function(t){return t===gO},G1=function(t){return function r(){return arguments.length===0||arguments.length===1&&yO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},yY=function e(t,r){return t===1?r:G1(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==gO}).length;return o>=t?r.apply(void 0,s):e(t-o,G1(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return yO(f)?c.shift():f});return r.apply(void 0,fY(d).concat(c))}))})},fh=function(t){return yY(t.length,t)},Rg=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},vY=fh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),bY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return gY;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Ig=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},vO=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function jY(e){var t;return e===0?t=1:t=Math.floor(new De(e).abs().log(10).toNumber())+1,t}function wY(e,t,r){for(var n=new De(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var NY=fh(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),SY=fh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),_Y=fh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ph={rangeStep:wY,getDigitCount:jY,interpolateNumber:NY,uninterpolateNumber:SY,uninterpolateTruncation:_Y};function Lg(e){return OY(e)||CY(e)||bO(e)||kY()}function kY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CY(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function OY(e){if(Array.isArray(e))return Fg(e)}function pc(e,t){return EY(e)||AY(e,t)||bO(e,t)||PY()}function PY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bO(e,t){if(e){if(typeof e=="string")return Fg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fg(e,t)}}function Fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AY(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function EY(e){if(Array.isArray(e))return e}function jO(e){var t=pc(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function wO(e,t,r){if(e.lte(0))return new De(0);var n=ph.getDigitCount(e.toNumber()),s=new De(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new De(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new De(Math.ceil(c))}function TY(e,t,r){var n=1,s=new De(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new De(10).pow(ph.getDigitCount(e)-1),s=new De(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new De(Math.floor(e)))}else e===0?s=new De(Math.floor((t-1)/2)):r||(s=new De(Math.floor(e)));var o=Math.floor((t-1)/2),l=bY(vY(function(c){return s.add(new De(c-o).mul(n)).toNumber()}),Rg);return l(0,t)}function NO(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new De(0),tickMin:new De(0),tickMax:new De(0)};var i=wO(new De(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new De(0):(o=new De(e).add(t).div(2),o=o.sub(new De(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new De(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?NO(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new De(l).mul(i)),tickMax:o.add(new De(c).mul(i))})}function $Y(e){var t=pc(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=jO([r,n]),c=pc(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Lg(Rg(0,s-1).map(function(){return 1/0}))):[].concat(Lg(Rg(0,s-1).map(function(){return-1/0})),[d]);return r>n?Ig(f):f}if(u===d)return TY(u,s,i);var p=NO(u,d,o,i),m=p.step,x=p.tickMin,y=p.tickMax,h=ph.rangeStep(x,y.add(new De(.1).mul(m)),m);return r>n?Ig(h):h}function MY(e,t){var r=pc(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=jO([n,s]),l=pc(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=wO(new De(u).sub(c).div(d-1),i,0),p=[].concat(Lg(ph.rangeStep(new De(c),new De(u).sub(new De(.99).mul(f)),f)),[u]);return n>s?Ig(p):p}var DY=vO($Y),RY=vO(MY),IY="Invariant failed";function As(e,t){throw new Error(IY)}var LY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cf.apply(this,arguments)}function FY(e,t){return WY(e)||zY(e,t)||UY(e,t)||BY()}function BY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UY(e,t){if(e){if(typeof e=="string")return K1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K1(e,t)}}function K1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function WY(e){if(Array.isArray(e))return e}function HY(e,t){if(e==null)return{};var r=qY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kO(n.key),n)}}function KY(e,t,r){return t&&GY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YY(e,t,r){return t=Of(t),XY(e,SO()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function XY(e,t){if(t&&(Gi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QY(e)}function QY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SO=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function JY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bg(e,t)}function Bg(e,t){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Bg(e,t)}function _O(e,t,r){return t=kO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kO(e){var t=ZY(e,"string");return Gi(t)=="symbol"?t:t+""}function ZY(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var au=function(e){function t(){return VY(this,t),YY(this,t,arguments)}return JY(t,e),KY(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,p=HY(n,LY),m=he(p,!1);this.props.direction==="x"&&d.type!=="number"&&As();var x=c.map(function(y){var h=u(y,l),v=h.x,g=h.y,j=h.value,S=h.errorVal;if(!S)return null;var N=[],w,C;if(Array.isArray(S)){var _=FY(S,2);w=_[0],C=_[1]}else w=C=S;if(i==="vertical"){var P=d.scale,k=g+s,$=k+o,O=k-o,F=P(j-w),B=P(j+C);N.push({x1:B,y1:$,x2:B,y2:O}),N.push({x1:F,y1:k,x2:B,y2:k}),N.push({x1:F,y1:$,x2:F,y2:O})}else if(i==="horizontal"){var R=f.scale,z=v+s,G=z-o,I=z+o,T=R(j-w),E=R(j+C);N.push({x1:G,y1:E,x2:I,y2:E}),N.push({x1:z,y1:T,x2:z,y2:E}),N.push({x1:G,y1:T,x2:I,y2:T})}return W.createElement(_e,Cf({className:"recharts-errorBar",key:"bar-".concat(N.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},m),N.map(function(U){return W.createElement("line",Cf({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return W.createElement(_e,{className:"recharts-errorBars"},x)}}])}(W.Component);_O(au,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_O(au,"displayName","ErrorBar");function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){eX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eX(e,t,r){return t=tX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tX(e){var t=rX(e,"string");return hc(t)=="symbol"?t:t+""}function rX(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CO=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=fr(r,_i);if(!o)return null;var l=_i.defaultProps,c=l!==void 0?Ka(Ka({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var p=f.item,m=f.props,x=m.sectors||m.data||[];return d.concat(x.map(function(y){return{type:o.props.iconType||p.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,p=f.type.defaultProps,m=p!==void 0?Ka(Ka({},p),f.props):{},x=m.dataKey,y=m.name,h=m.legendType,v=m.hide;return{inactive:v,dataKey:x,type:c.iconType||h||"square",color:Mv(f),value:y||x,payload:m}}),Ka(Ka(Ka({},c),_i.getWithHeight(o,s)),{},{payload:u,item:o})};function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function X1(e){return iX(e)||sX(e)||aX(e)||nX()}function nX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aX(e,t){if(e){if(typeof e=="string")return Ug(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ug(e,t)}}function sX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iX(e){if(Array.isArray(e))return Ug(e)}function Ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){Ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ci(e,t,r){return t=oX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oX(e){var t=lX(e,"string");return mc(t)=="symbol"?t:t+""}function lX(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xt(e,t,r){return je(e)||je(t)?r:yt(t)?yr(e,t,r):ve(t)?t(e):r}function Cl(e,t,r,n){var s=sY(e,function(l){return xt(l,t)});if(r==="number"){var i=s.filter(function(l){return oe(l)||parseFloat(l)});return i.length?[dh(i),uh(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!je(l)}):s;return o.map(function(l){return yt(l)||l instanceof Date?l:""})}var cX=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,p=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(Wt(f-d)!==Wt(p-f)){var x=[];if(Wt(p-f)===Wt(c[1]-c[0])){m=p;var y=f+c[1]-c[0];x[0]=Math.min(y,(y+d)/2),x[1]=Math.max(y,(y+d)/2)}else{m=d;var h=p+c[1]-c[0];x[0]=Math.min(f,(h+f)/2),x[1]=Math.max(f,(h+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>v[0]&&t<=v[1]||t>=x[0]&&t<=x[1]){o=s[u].index;break}}else{var g=Math.min(d,p),j=Math.max(d,p);if(t>(g+f)/2&&t<=(j+f)/2){o=s[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},Mv=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?nt(nt({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},uX=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),p=0,m=f.length;p<m;p++){var x=d[f[p]],y=x.items,h=x.cateAxisId,v=y.filter(function(C){return In(C.type).indexOf("Bar")>=0});if(v&&v.length){var g=v[0].type.defaultProps,j=g!==void 0?nt(nt({},g),v[0].props):v[0].props,S=j.barSize,N=j[h];o[N]||(o[N]=[]);var w=je(S)?r:S;o[N].push({item:v[0],stackList:v.slice(1),barSize:je(w)?void 0:Ht(w,n,0)})}}return o},dX=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ht(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,m=s/c,x=o.reduce(function(S,N){return S+N.barSize||0},0);x+=(c-1)*u,x>=s&&(x-=(c-1)*u,u=0),x>=s&&m>0&&(p=!0,m*=.9,x=c*m);var y=(s-x)/2>>0,h={offset:y-u,size:0};d=o.reduce(function(S,N){var w={item:N.item,position:{offset:h.offset+h.size+u,size:p?m:N.barSize}},C=[].concat(X1(S),[w]);return h=C[C.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(_){C.push({item:_,position:h})}),C},f)}else{var v=Ht(n,s,0,!0);s-2*v-(c-1)*u<=0&&(u=0);var g=(s-2*v-(c-1)*u)/c;g>1&&(g>>=0);var j=l===+l?Math.min(g,l):g;d=o.reduce(function(S,N,w){var C=[].concat(X1(S),[{item:N.item,position:{offset:v+(g+u)*w+(g-j)/2,size:j}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(_){C.push({item:_,position:C[C.length-1].position})}),C},f)}return d},fX=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=CO({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,p=d.height,m=u.align,x=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&x==="middle")&&m!=="center"&&oe(t[m]))return nt(nt({},t),{},Ci({},m,t[m]+(f||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&x!=="middle"&&oe(t[x]))return nt(nt({},t),{},Ci({},x,t[x]+(p||0)))}return t},pX=function(t,r,n){return je(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},OO=function(t,r,n,s,i){var o=r.props.children,l=vr(o,au).filter(function(u){return pX(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=xt(d,n);if(je(f))return u;var p=Array.isArray(f)?[dh(f),uh(f)]:[f,f],m=c.reduce(function(x,y){var h=xt(d,y,0),v=p[0]-Math.abs(Array.isArray(h)?h[0]:h),g=p[1]+Math.abs(Array.isArray(h)?h[1]:h);return[Math.min(v,x[0]),Math.max(g,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},hX=function(t,r,n,s,i){var o=r.map(function(l){return OO(t,l,n,i,s)}).filter(function(l){return!je(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},PO=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&OO(t,c,u,s)||Cl(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},AO=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},EO=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Dn=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Wt(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:s(p)+u,value:f,offset:u}});return d.filter(function(f){return!Qc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:s(f)+u,value:f,index:p,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,p){return{coordinate:s(f)+u,value:i?i[f]:f,index:p,offset:u}})},Om=new WeakMap,zu=function(t,r){if(typeof r!="function")return t;Om.has(t)||Om.set(t,new WeakMap);var n=Om.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},TO=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:oc(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:wf(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:kl(),realScaleType:"point"}:i==="category"?{scale:oc(),realScaleType:"band"}:{scale:wf(),realScaleType:"linear"};if(ks(s)){var c="scale".concat(Xp(s));return{scale:(H1[c]||kl)(),realScaleType:H1[c]?c:"point"}}return ve(s)?{scale:s}:{scale:kl(),realScaleType:"point"}},J1=1e-4,$O=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-J1,o=Math.max(s[0],s[1])+J1,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},mX=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},xX=function(t,r){if(!r||r.length!==2||!oe(r[0])||!oe(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!oe(t[0])||t[0]<n)&&(i[0]=n),(!oe(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},gX=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Qc(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},yX=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Qc(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},vX={sign:gX,expand:L8,none:Fi,silhouette:F8,wiggle:B8,positive:yX},bX=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=vX[n],o=I8().keys(s).value(function(l,c){return+xt(l,c,0)}).order(fg).offset(i);return o(t)},jX=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,p){var m,x=(m=p.type)!==null&&m!==void 0&&m.defaultProps?nt(nt({},p.type.defaultProps),p.props):p.props,y=x.stackId,h=x.hide;if(h)return f;var v=x[n],g=f[v]||{hasStack:!1,stackGroups:{}};if(yt(y)){var j=g.stackGroups[y]||{numericAxisId:n,cateAxisId:s,items:[]};j.items.push(p),g.hasStack=!0,g.stackGroups[y]=j}else g.stackGroups[Po("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[p]};return nt(nt({},f),{},Ci({},v,g))},c),d={};return Object.keys(u).reduce(function(f,p){var m=u[p];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,h){var v=m.stackGroups[h];return nt(nt({},y),{},Ci({},h,{numericAxisId:n,cateAxisId:s,items:v.items,stackedData:bX(t,v.items,i)}))},x)}return nt(nt({},f),{},Ci({},p,m))},d)},MO=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=DY(u,i,l);return t.domain([dh(d),uh(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),p=RY(f,i,l);return{niceTicks:p}}return null};function Z1(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!je(s[t.dataKey])){var l=Zd(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=xt(s,je(o)?t.dataKey:o);return je(c)?null:t.scale(c)}var eN=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=xt(o,r.dataKey,r.domain[l]);return je(c)?null:r.scale(c)-i/2+s},wX=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},NX=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?nt(nt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(yt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},SX=function(t){return t.reduce(function(r,n){return[dh(n.concat([r[0]]).filter(oe)),uh(n.concat([r[1]]).filter(oe))]},[1/0,-1/0])},DO=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=SX(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},tN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zg=function(t,r,n){if(ve(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(oe(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(tN.test(t[0])){var i=+tN.exec(t[0])[1];s[0]=r[0]-i}else ve(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(oe(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(rN.test(t[1])){var o=+rN.exec(t[1])[1];s[1]=r[1]+o}else ve(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Pf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=lv(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},nN=function(t,r,n){return!t||!t.length||nu(t,yr(n,"type.defaultProps.domain"))?r:t},RO=function(t,r){var n=t.type.defaultProps?nt(nt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return nt(nt({},he(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:Mv(t),value:xt(r,s),type:c,payload:r,chartType:u,hide:d})};function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){IO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IO(e,t,r){return t=_X(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=kX(e,"string");return xc(t)=="symbol"?t:t+""}function kX(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CX(e,t){return EX(e)||AX(e,t)||PX(e,t)||OX()}function OX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PX(e,t){if(e){if(typeof e=="string")return sN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sN(e,t)}}function sN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function EX(e){if(Array.isArray(e))return e}var Af=Math.PI/180,TX=function(t){return t*180/Math.PI},Be=function(t,r,n,s){return{x:t+Math.cos(-Af*s)*n,y:r+Math.sin(-Af*s)*n}},LO=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$X=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ht(t.cx,o,o/2),f=Ht(t.cy,l,l/2),p=LO(o,l,n),m=Ht(t.innerRadius,p,0),x=Ht(t.outerRadius,p,p*.8),y=Object.keys(r);return y.reduce(function(h,v){var g=r[v],j=g.domain,S=g.reversed,N;if(je(g.range))s==="angleAxis"?N=[c,u]:s==="radiusAxis"&&(N=[m,x]),S&&(N=[N[1],N[0]]);else{N=g.range;var w=N,C=CX(w,2);c=C[0],u=C[1]}var _=TO(g,i),P=_.realScaleType,k=_.scale;k.domain(j).range(N),$O(k);var $=MO(k,Pn(Pn({},g),{},{realScaleType:P})),O=Pn(Pn(Pn({},g),$),{},{range:N,radius:x,realScaleType:P,scale:k,cx:d,cy:f,innerRadius:m,outerRadius:x,startAngle:c,endAngle:u});return Pn(Pn({},h),{},IO({},v,O))},{})},MX=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},DX=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=MX({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:TX(u),angleInRadian:u}},RX=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},IX=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},iN=function(t,r){var n=t.x,s=t.y,i=DX({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=RX(r),f=d.startAngle,p=d.endAngle,m=l,x;if(f<=p){for(;m>p;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=p}else{for(;m>f;)m-=360;for(;m<p;)m+=360;x=m>=p&&m<=f}return x?Pn(Pn({},r),{},{radius:o,angle:IX(m,r)}):null},FO=function(t){return!b.isValidElement(t)&&!ve(t)&&typeof t!="boolean"?t.className:""};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}var LX=["offset"];function FX(e){return WX(e)||zX(e)||UX(e)||BX()}function BX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UX(e,t){if(e){if(typeof e=="string")return Wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wg(e,t)}}function zX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WX(e){if(Array.isArray(e))return Wg(e)}function Wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HX(e,t){if(e==null)return{};var r=qX(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){VX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VX(e,t,r){return t=GX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=KX(e,"string");return gc(t)=="symbol"?t:t+""}function KX(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(this,arguments)}var YX=function(t){var r=t.value,n=t.formatter,s=je(t.children)?r:t.children;return ve(n)?n(s):s},XX=function(t,r){var n=Wt(r-t),s=Math.min(Math.abs(r-t),360);return n*s},QX=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,m=c.startAngle,x=c.endAngle,y=c.clockWise,h=(f+p)/2,v=XX(m,x),g=v>=0?1:-1,j,S;s==="insideStart"?(j=m+g*o,S=y):s==="insideEnd"?(j=x-g*o,S=!y):s==="end"&&(j=x+g*o,S=y),S=v<=0?S:!S;var N=Be(u,d,h,j),w=Be(u,d,h,j+(S?1:-1)*359),C="M".concat(N.x,",").concat(N.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(S?0:1,`,
    `).concat(w.x,",").concat(w.y),_=je(t.id)?Po("recharts-radial-line-"):t.id;return W.createElement("text",yc({},n,{dominantBaseline:"central",className:be("recharts-radial-bar-label",l)}),W.createElement("defs",null,W.createElement("path",{id:_,d:C})),W.createElement("textPath",{xlinkHref:"#".concat(_)},r))},JX=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,p=(d+f)/2;if(s==="outside"){var m=Be(o,l,u+n,p),x=m.x,y=m.y;return{x,y,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var h=(c+u)/2,v=Be(o,l,h,p),g=v.x,j=v.y;return{x:g,y:j,textAnchor:"middle",verticalAnchor:"middle"}},ZX=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,p=f*s,m=f>0?"end":"start",x=f>0?"start":"end",y=u>=0?1:-1,h=y*s,v=y>0?"end":"start",g=y>0?"start":"end";if(i==="top"){var j={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return pt(pt({},j),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:l+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:x};return pt(pt({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var N={x:l-h,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return pt(pt({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(i==="right"){var w={x:l+u+h,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return pt(pt({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return i==="insideLeft"?pt({x:l+h,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},C):i==="insideRight"?pt({x:l+u-h,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},C):i==="insideTop"?pt({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:x},C):i==="insideBottom"?pt({x:l+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:m},C):i==="insideTopLeft"?pt({x:l+h,y:c+p,textAnchor:g,verticalAnchor:x},C):i==="insideTopRight"?pt({x:l+u-h,y:c+p,textAnchor:v,verticalAnchor:x},C):i==="insideBottomLeft"?pt({x:l+h,y:c+d-p,textAnchor:g,verticalAnchor:m},C):i==="insideBottomRight"?pt({x:l+u-h,y:c+d-p,textAnchor:v,verticalAnchor:m},C):_o(i)&&(oe(i.x)||ls(i.x))&&(oe(i.y)||ls(i.y))?pt({x:l+Ht(i.x,u),y:c+Ht(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):pt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},eQ=function(t){return"cx"in t&&oe(t.cx)};function St(e){var t=e.offset,r=t===void 0?5:t,n=HX(e,LX),s=pt({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,p=s.textBreakAll;if(!i||je(l)&&je(c)&&!b.isValidElement(u)&&!ve(u))return null;if(b.isValidElement(u))return b.cloneElement(u,s);var m;if(ve(u)){if(m=b.createElement(u,s),b.isValidElement(m))return m}else m=YX(s);var x=eQ(i),y=he(s,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return QX(s,m,y);var h=x?JX(s):ZX(s);return W.createElement(Os,yc({className:be("recharts-label",f)},y,h,{breakAll:p}),m)}St.displayName="Label";var BO=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,p=t.y,m=t.top,x=t.left,y=t.width,h=t.height,v=t.clockWise,g=t.labelViewBox;if(g)return g;if(oe(y)&&oe(h)){if(oe(f)&&oe(p))return{x:f,y:p,width:y,height:h};if(oe(m)&&oe(x))return{x:m,y:x,width:y,height:h}}return oe(f)&&oe(p)?{x:f,y:p,width:0,height:0}:oe(r)&&oe(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},tQ=function(t,r){return t?t===!0?W.createElement(St,{key:"label-implicit",viewBox:r}):yt(t)?W.createElement(St,{key:"label-implicit",viewBox:r,value:t}):b.isValidElement(t)?t.type===St?b.cloneElement(t,{key:"label-implicit",viewBox:r}):W.createElement(St,{key:"label-implicit",content:t,viewBox:r}):ve(t)?W.createElement(St,{key:"label-implicit",content:t,viewBox:r}):_o(t)?W.createElement(St,yc({viewBox:r},t,{key:"label-implicit"})):null:null},rQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=BO(t),o=vr(s,St).map(function(c,u){return b.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=tQ(t.label,r||i);return[l].concat(FX(o))};St.parseViewBox=BO;St.renderCallByParent=rQ;function nQ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var aQ=nQ;const sQ=Te(aQ);function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}var iQ=["valueAccessor"],oQ=["data","dataKey","clockWise","id","textBreakAll"];function lQ(e){return fQ(e)||dQ(e)||uQ(e)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(e,t){if(e){if(typeof e=="string")return Hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hg(e,t)}}function dQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fQ(e){if(Array.isArray(e))return Hg(e)}function Hg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ef.apply(this,arguments)}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){pQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pQ(e,t,r){return t=hQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hQ(e){var t=mQ(e,"string");return vc(t)=="symbol"?t:t+""}function mQ(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uN(e,t){if(e==null)return{};var r=xQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gQ=function(t){return Array.isArray(t.value)?sQ(t.value):t.value};function Fn(e){var t=e.valueAccessor,r=t===void 0?gQ:t,n=uN(e,iQ),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=uN(n,oQ);return!s||!s.length?null:W.createElement(_e,{className:"recharts-label-list"},s.map(function(d,f){var p=je(i)?r(d,f):xt(d&&d.payload,i),m=je(l)?{}:{id:"".concat(l,"-").concat(f)};return W.createElement(St,Ef({},he(d,!0),u,m,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:St.parseViewBox(je(o)?d:cN(cN({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Fn.displayName="LabelList";function yQ(e,t){return e?e===!0?W.createElement(Fn,{key:"labelList-implicit",data:t}):W.isValidElement(e)||ve(e)?W.createElement(Fn,{key:"labelList-implicit",data:t,content:e}):_o(e)?W.createElement(Fn,Ef({data:t},e,{key:"labelList-implicit"})):null:null}function vQ(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=vr(n,Fn).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=yQ(e.label,t);return[i].concat(lQ(s))}Fn.renderCallByParent=vQ;function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){bQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bQ(e,t,r){return t=jQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jQ(e){var t=wQ(e,"string");return bc(t)=="symbol"?t:t+""}function wQ(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NQ=function(t,r){var n=Wt(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Wu=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Af,p=u?i:i+o*f,m=Be(r,n,d,p),x=Be(r,n,s,p),y=u?i-o*f:i,h=Be(r,n,d*Math.cos(f*Af),y);return{center:m,circleTangency:x,lineTangency:h,theta:f}},UO=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=NQ(o,l),u=o+c,d=Be(r,n,i,o),f=Be(r,n,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=Be(r,n,s,o),x=Be(r,n,s,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},SQ=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Wt(d-u),p=Wu({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=p.circleTangency,x=p.lineTangency,y=p.theta,h=Wu({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=h.circleTangency,g=h.lineTangency,j=h.theta,S=c?Math.abs(u-d):Math.abs(u-d)-y-j;if(S<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):UO({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(s>0){var w=Wu({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=w.circleTangency,_=w.lineTangency,P=w.theta,k=Wu({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),$=k.circleTangency,O=k.lineTangency,F=k.theta,B=c?Math.abs(u-d):Math.abs(u-d)-P-F;if(B<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},_Q={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zO=function(t){var r=fN(fN({},_Q),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,p=r.className;if(o<i||d===f)return null;var m=be("recharts-sector",p),x=o-i,y=Ht(l,x,0,!0),h;return y>0&&Math.abs(d-f)<360?h=SQ({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):h=UO({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),W.createElement("path",qg({},he(r,!0),{className:m,d:h,role:"img"}))};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){kQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kQ(e,t,r){return t=CQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CQ(e){var t=OQ(e,"string");return jc(t)=="symbol"?t:t+""}function OQ(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mN={curveBasisClosed:k8,curveBasisOpen:C8,curveBasis:_8,curveBumpX:d8,curveBumpY:f8,curveLinearClosed:O8,curveLinear:Jp,curveMonotoneX:P8,curveMonotoneY:A8,curveNatural:E8,curveStep:T8,curveStepAfter:M8,curveStepBefore:$8},Hu=function(t){return t.x===+t.x&&t.y===+t.y},nl=function(t){return t.x},al=function(t){return t.y},PQ=function(t,r){if(ve(t))return t;var n="curve".concat(Xp(t));return(n==="curveMonotone"||n==="curveBump")&&r?mN["".concat(n).concat(r==="vertical"?"Y":"X")]:mN[n]||Jp},AQ=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=PQ(n,l),f=u?i.filter(function(y){return Hu(y)}):i,p;if(Array.isArray(o)){var m=u?o.filter(function(y){return Hu(y)}):o,x=f.map(function(y,h){return hN(hN({},y),{},{base:m[h]})});return l==="vertical"?p=Mu().y(al).x1(nl).x0(function(y){return y.base.x}):p=Mu().x(nl).y1(al).y0(function(y){return y.base.y}),p.defined(Hu).curve(d),p(x)}return l==="vertical"&&oe(o)?p=Mu().y(al).x1(nl).x0(o):oe(o)?p=Mu().x(nl).y1(al).y0(o):p=I4().x(nl).y(al),p.defined(Hu).curve(d),p(f)},Tf=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?AQ(t):s;return b.createElement("path",Vg({},he(t,!1),ef(t),{className:be("recharts-curve",r),d:o,ref:i}))},WO={exports:{}},EQ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TQ=EQ,$Q=TQ;function HO(){}function qO(){}qO.resetWarningCache=HO;var MQ=function(){function e(n,s,i,o,l,c){if(c!==$Q){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:qO,resetWarningCache:HO};return r.PropTypes=r,r};WO.exports=MQ();var DQ=WO.exports;const Ce=Te(DQ),{getOwnPropertyNames:RQ,getOwnPropertySymbols:IQ}=Object,{hasOwnProperty:LQ}=Object.prototype;function Pm(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function qu(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function FQ(e){return e!=null?e[Symbol.toStringTag]:void 0}function xN(e){return RQ(e).concat(IQ(e))}const BQ=Object.hasOwn||((e,t)=>LQ.call(e,t));function Ws(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const UQ="__v",zQ="__o",WQ="_owner",{getOwnPropertyDescriptor:gN,keys:yN}=Object;function HQ(e,t){return e.byteLength===t.byteLength&&$f(new Uint8Array(e),new Uint8Array(t))}function qQ(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function VQ(e,t){return e.byteLength===t.byteLength&&$f(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function GQ(e,t){return Ws(e.getTime(),t.getTime())}function KQ(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function YQ(e,t){return e===t}function vN(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const p=o.value,m=l.value;if(r.equals(p[0],m[0],c,f,e,t,r)&&r.equals(p[1],m[1],p[0],m[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const XQ=Ws;function QQ(e,t,r){const n=yN(e);let s=n.length;if(yN(t).length!==s)return!1;for(;s-- >0;)if(!VO(e,t,r,n[s]))return!1;return!0}function sl(e,t,r){const n=xN(e);let s=n.length;if(xN(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!VO(e,t,r,i)||(o=gN(e,i),l=gN(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function JQ(e,t){return Ws(e.valueOf(),t.valueOf())}function ZQ(e,t){return e.source===t.source&&e.flags===t.flags}function bN(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function $f(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function eJ(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function VO(e,t,r,n){return(n===WQ||n===zQ||n===UQ)&&(e.$$typeof||t.$$typeof)?!0:BQ(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const tJ="[object ArrayBuffer]",rJ="[object Arguments]",nJ="[object Boolean]",aJ="[object DataView]",sJ="[object Date]",iJ="[object Error]",oJ="[object Map]",lJ="[object Number]",cJ="[object Object]",uJ="[object RegExp]",dJ="[object Set]",fJ="[object String]",pJ={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},hJ="[object URL]",mJ=Object.prototype.toString;function xJ({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:p,areUrlsEqual:m,unknownTagComparators:x}){return function(h,v,g){if(h===v)return!0;if(h==null||v==null)return!1;const j=typeof h;if(j!==typeof v)return!1;if(j!=="object")return j==="number"?l(h,v,g):j==="function"?i(h,v,g):!1;const S=h.constructor;if(S!==v.constructor)return!1;if(S===Object)return c(h,v,g);if(Array.isArray(h))return t(h,v,g);if(S===Date)return n(h,v,g);if(S===RegExp)return d(h,v,g);if(S===Map)return o(h,v,g);if(S===Set)return f(h,v,g);const N=mJ.call(h);if(N===sJ)return n(h,v,g);if(N===uJ)return d(h,v,g);if(N===oJ)return o(h,v,g);if(N===dJ)return f(h,v,g);if(N===cJ)return typeof h.then!="function"&&typeof v.then!="function"&&c(h,v,g);if(N===hJ)return m(h,v,g);if(N===iJ)return s(h,v,g);if(N===rJ)return c(h,v,g);if(pJ[N])return p(h,v,g);if(N===tJ)return e(h,v,g);if(N===aJ)return r(h,v,g);if(N===nJ||N===lJ||N===fJ)return u(h,v,g);if(x){let w=x[N];if(!w){const C=FQ(h);C&&(w=x[C])}if(w)return w(h,v,g)}return!1}}function gJ({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:HQ,areArraysEqual:r?sl:qQ,areDataViewsEqual:VQ,areDatesEqual:GQ,areErrorsEqual:KQ,areFunctionsEqual:YQ,areMapsEqual:r?Pm(vN,sl):vN,areNumbersEqual:XQ,areObjectsEqual:r?sl:QQ,arePrimitiveWrappersEqual:JQ,areRegExpsEqual:ZQ,areSetsEqual:r?Pm(bN,sl):bN,areTypedArraysEqual:r?Pm($f,sl):$f,areUrlsEqual:eJ,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=qu(n.areArraysEqual),i=qu(n.areMapsEqual),o=qu(n.areObjectsEqual),l=qu(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function yJ(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function vJ({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const bJ=za();za({strict:!0});za({circular:!0});za({circular:!0,strict:!0});za({createInternalComparator:()=>Ws});za({strict:!0,createInternalComparator:()=>Ws});za({circular:!0,createInternalComparator:()=>Ws});za({circular:!0,createInternalComparator:()=>Ws,strict:!0});function za(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=gJ(e),o=xJ(i),l=r?r(o):yJ(o);return vJ({circular:t,comparator:o,createState:n,equals:l,strict:s})}function jJ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function jN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):jJ(s)};requestAnimationFrame(n)}function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function wJ(e){return kJ(e)||_J(e)||SJ(e)||NJ()}function NJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SJ(e,t){if(e){if(typeof e=="string")return wN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wN(e,t)}}function wN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _J(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kJ(e){if(Array.isArray(e))return e}function CJ(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=wJ(o),c=l[0],u=l.slice(1);if(typeof c=="number"){jN(s.bind(null,u),c);return}s(c),jN(s.bind(null,u));return}Gg(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function SN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){GO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GO(e,t,r){return t=OJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OJ(e){var t=PJ(e,"string");return wc(t)==="symbol"?t:String(t)}function PJ(e,t){if(wc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AJ=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},EJ=function(t){return t},TJ=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ol=function(t,r){return Object.keys(r).reduce(function(n,s){return SN(SN({},n),{},GO({},s,t(s,r[s])))},{})},_N=function(t,r,n){return t.map(function(s){return"".concat(TJ(s)," ").concat(r,"ms ").concat(n)}).join(",")};function $J(e,t){return RJ(e)||DJ(e,t)||KO(e,t)||MJ()}function MJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function RJ(e){if(Array.isArray(e))return e}function IJ(e){return BJ(e)||FJ(e)||KO(e)||LJ()}function LJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KO(e,t){if(e){if(typeof e=="string")return Kg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kg(e,t)}}function FJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BJ(e){if(Array.isArray(e))return Kg(e)}function Kg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mf=1e-4,YO=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},XO=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},kN=function(t,r){return function(n){var s=YO(t,r);return XO(s,n)}},UJ=function(t,r){return function(n){var s=YO(t,r),i=[].concat(IJ(s.map(function(o,l){return o*l}).slice(1)),[0]);return XO(i,n)}},CN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(h){return parseFloat(h)}),d=$J(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=kN(s,o),p=kN(i,l),m=UJ(s,o),x=function(v){return v>1?1:v<0?0:v},y=function(v){for(var g=v>1?1:v,j=g,S=0;S<8;++S){var N=f(j)-g,w=m(j);if(Math.abs(N-g)<Mf||w<Mf)return p(j);j=x(j-N/w)}return p(j)};return y.isStepper=!1,y},zJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,p){var m=-(d-f)*n,x=p*i,y=p+(m-x)*l/1e3,h=p*l/1e3+d;return Math.abs(h-f)<Mf&&Math.abs(y)<Mf?[f,0]:[h,y]};return c.isStepper=!0,c.dt=l,c},WJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CN(s);case"spring":return zJ();default:if(s.split("(")[0]==="cubic-bezier")return CN(s)}return typeof s=="function"?s:null};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function ON(e){return VJ(e)||qJ(e)||QO(e)||HJ()}function HJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VJ(e){if(Array.isArray(e))return Xg(e)}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){Yg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yg(e,t,r){return t=GJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GJ(e){var t=KJ(e,"string");return Nc(t)==="symbol"?t:String(t)}function KJ(e,t){if(Nc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YJ(e,t){return JJ(e)||QJ(e,t)||QO(e,t)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QO(e,t){if(e){if(typeof e=="string")return Xg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xg(e,t)}}function Xg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function JJ(e){if(Array.isArray(e))return e}var Df=function(t,r,n){return t+(r-t)*n},Qg=function(t){var r=t.from,n=t.to;return r!==n},ZJ=function e(t,r,n){var s=Ol(function(i,o){if(Qg(o)){var l=t(o.from,o.to,o.velocity),c=YJ(l,2),u=c[0],d=c[1];return Ct(Ct({},o),{},{from:u,velocity:d})}return o},r);return n<1?Ol(function(i,o){return Qg(o)?Ct(Ct({},o),{},{velocity:Df(o.velocity,s[i].velocity,n),from:Df(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const eZ=function(e,t,r,n,s){var i=AJ(e,t),o=i.reduce(function(h,v){return Ct(Ct({},h),{},Yg({},v,[e[v],t[v]]))},{}),l=i.reduce(function(h,v){return Ct(Ct({},h),{},Yg({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return Ol(function(v,g){return g.from},l)},m=function(){return!Object.values(l).filter(Qg).length},x=function(v){u||(u=v);var g=v-u,j=g/r.dt;l=ZJ(r,l,j),s(Ct(Ct(Ct({},e),t),p())),u=v,m()||(c=requestAnimationFrame(f))},y=function(v){d||(d=v);var g=(v-d)/n,j=Ol(function(N,w){return Df.apply(void 0,ON(w).concat([r(g)]))},o);if(s(Ct(Ct(Ct({},e),t),j)),g<1)c=requestAnimationFrame(f);else{var S=Ol(function(N,w){return Df.apply(void 0,ON(w).concat([r(1)]))},o);s(Ct(Ct(Ct({},e),t),S))}};return f=r.isStepper?x:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}var tZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rZ(e,t){if(e==null)return{};var r=nZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Am(e){return oZ(e)||iZ(e)||sZ(e)||aZ()}function aZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sZ(e,t){if(e){if(typeof e=="string")return Jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jg(e,t)}}function iZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oZ(e){if(Array.isArray(e))return Jg(e)}function Jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){hl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hl(e,t,r){return t=JO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JO(n.key),n)}}function uZ(e,t,r){return t&&cZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JO(e){var t=dZ(e,"string");return Ki(t)==="symbol"?t:String(t)}function dZ(e,t){if(Ki(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Zg(e,t)}function pZ(e){var t=hZ();return function(){var n=Rf(e),s;if(t){var i=Rf(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return e0(this,s)}}function e0(e,t){if(t&&(Ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t0(e)}function t0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rf(e)}var vn=function(e){fZ(r,e);var t=pZ(r);function r(n,s){var i;lZ(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,p=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(t0(i)),i.changeStyle=i.changeStyle.bind(t0(i)),!l||m<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),e0(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},e0(i);i.state={style:c?hl({},c,u):u}}else i.state={style:{}};return i}return uZ(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,p=this.state.style;if(l){if(!o){var m={style:c?hl({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(m);return}if(!(bJ(s.to,d)&&s.canBegin&&s.isActive)){var x=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=x||u?f:s.to;if(this.state&&p){var h={style:c?hl({},c,y):y};(c&&p[c]!==y||!c&&p!==y)&&this.setState(h)}this.runAnimation(zr(zr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,p=s.onAnimationStart,m=eZ(o,l,WJ(u),c,this.changeStyle),x=function(){i.stopJSAnimation=m()};this.manager.start([p,d,x,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,p=f===void 0?0:f,m=function(y,h,v){if(v===0)return y;var g=h.duration,j=h.easing,S=j===void 0?"ease":j,N=h.style,w=h.properties,C=h.onAnimationEnd,_=v>0?o[v-1]:h,P=w||Object.keys(N);if(typeof S=="function"||S==="spring")return[].concat(Am(y),[i.runJSAnimation.bind(i,{from:_.style,to:N,duration:g,easing:S}),g]);var k=_N(P,g,S),$=zr(zr(zr({},_.style),N),{},{transition:k});return[].concat(Am(y),[$,g,C]).filter(EJ)};return this.manager.start([c].concat(Am(o.reduce(m,[d,Math.max(p,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=CJ());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,p=s.steps,m=s.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var y=l?hl({},l,c):c,h=_N(Object.keys(y),o,u);x.start([d,i,zr(zr({},y),{},{transition:h}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=rZ(s,tZ),u=b.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var x=m.props,y=x.style,h=y===void 0?{}:y,v=x.className,g=b.cloneElement(m,zr(zr({},c),{},{style:zr(zr({},h),d),className:v}));return g};return u===1?f(b.Children.only(i)):W.createElement("div",null,b.Children.map(i,function(p){return f(p)}))}}]),r}(b.PureComponent);vn.displayName="Animate";vn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vn.propTypes={from:Ce.oneOfType([Ce.object,Ce.string]),to:Ce.oneOfType([Ce.object,Ce.string]),attributeName:Ce.string,duration:Ce.number,begin:Ce.number,easing:Ce.oneOfType([Ce.string,Ce.func]),steps:Ce.arrayOf(Ce.shape({duration:Ce.number.isRequired,style:Ce.object.isRequired,easing:Ce.oneOfType([Ce.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ce.func]),properties:Ce.arrayOf("string"),onAnimationEnd:Ce.func})),children:Ce.oneOfType([Ce.node,Ce.func]),isActive:Ce.bool,canBegin:Ce.bool,onAnimationEnd:Ce.func,shouldReAnimate:Ce.bool,onAnimationStart:Ce.func,onAnimationReStart:Ce.func};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},If.apply(this,arguments)}function mZ(e,t){return vZ(e)||yZ(e,t)||gZ(e,t)||xZ()}function xZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gZ(e,t){if(e){if(typeof e=="string")return EN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EN(e,t)}}function EN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function vZ(e){if(Array.isArray(e))return e}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){bZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bZ(e,t,r){return t=jZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jZ(e){var t=wZ(e,"string");return Sc(t)=="symbol"?t:t+""}function wZ(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MN=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,m=4;p<m;p++)f[p]=i[p]>o?o:i[p];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+s-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-c*x,",").concat(r+s,`
            L `).concat(t+c*x,",").concat(r+s,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*x," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},NZ=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),p=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=p}return!1},SZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dv=function(t){var r=$N($N({},SZ),t),n=b.useRef(),s=b.useState(-1),i=mZ(s,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,p=r.radius,m=r.className,x=r.animationEasing,y=r.animationDuration,h=r.animationBegin,v=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=be("recharts-rectangle",m);return g?W.createElement(vn,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:x,isActive:g},function(S){var N=S.width,w=S.height,C=S.x,_=S.y;return W.createElement(vn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:y,isActive:v,easing:x},W.createElement("path",If({},he(r,!0),{className:j,d:MN(C,_,N,w,p),ref:n})))}):W.createElement("path",If({},he(r,!0),{className:j,d:MN(c,u,d,f,p)}))},_Z=["points","className","baseLinePoints","connectNulls"];function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fi.apply(this,arguments)}function kZ(e,t){if(e==null)return{};var r=CZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DN(e){return EZ(e)||AZ(e)||PZ(e)||OZ()}function OZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PZ(e,t){if(e){if(typeof e=="string")return r0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r0(e,t)}}function AZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EZ(e){if(Array.isArray(e))return r0(e)}function r0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var RN=function(t){return t&&t.x===+t.x&&t.y===+t.y},TZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){RN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),RN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Pl=function(t,r){var n=TZ(t);r&&(n=[n.reduce(function(i,o){return[].concat(DN(i),DN(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},$Z=function(t,r,n){var s=Pl(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Pl(r.reverse(),n).slice(1))},MZ=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=kZ(t,_Z);if(!r||!r.length)return null;var l=be("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=$Z(r,s,i);return W.createElement("g",{className:l},W.createElement("path",fi({},he(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?W.createElement("path",fi({},he(o,!0),{fill:"none",d:Pl(r,i)})):null,c?W.createElement("path",fi({},he(o,!0),{fill:"none",d:Pl(s,i)})):null)}var d=Pl(r,i);return W.createElement("path",fi({},he(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n0.apply(this,arguments)}var hh=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=be("recharts-dot",i);return r===+r&&n===+n&&s===+s?b.createElement("circle",n0({},he(t,!1),ef(t),{className:o,cx:r,cy:n,r:s})):null};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}var DZ=["x","y","top","left","width","height","className"];function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(this,arguments)}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){IZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t,r){return t=LZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LZ(e){var t=FZ(e,"string");return _c(t)=="symbol"?t:t+""}function FZ(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BZ(e,t){if(e==null)return{};var r=UZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zZ=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},WZ=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,p=t.height,m=p===void 0?0:p,x=t.className,y=BZ(t,DZ),h=RZ({x:n,y:i,top:l,left:u,width:f,height:m},y);return!oe(n)||!oe(i)||!oe(f)||!oe(m)||!oe(l)||!oe(u)?null:W.createElement("path",a0({},he(h,!0),{className:be("recharts-cross",x),d:zZ(n,i,f,m,l,u)}))},HZ=ch,qZ=uO,VZ=Nn;function GZ(e,t){return e&&e.length?HZ(e,VZ(t),qZ):void 0}var KZ=GZ;const YZ=Te(KZ);var XZ=ch,QZ=Nn,JZ=dO;function ZZ(e,t){return e&&e.length?XZ(e,QZ(t),JZ):void 0}var eee=ZZ;const tee=Te(eee);var ree=["cx","cy","angle","ticks","axisLine"],nee=["ticks","tick","angle","tickFormatter","stroke"];function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(this,arguments)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FN(e,t){if(e==null)return{};var r=aee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function see(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eP(n.key),n)}}function iee(e,t,r){return t&&BN(e.prototype,t),r&&BN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oee(e,t,r){return t=Lf(t),lee(e,ZO()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function lee(e,t){if(t&&(Yi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cee(e)}function cee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZO=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function uee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s0(e,t)}function s0(e,t){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},s0(e,t)}function mh(e,t,r){return t=eP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eP(e){var t=dee(e,"string");return Yi(t)=="symbol"?t:t+""}function dee(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xh=function(e){function t(){return see(this,t),oee(this,t,arguments)}return uee(t,e),iee(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Be(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=YZ(l,function(d){return d.coordinate||0}),u=tee(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=FN(n,ree),d=l.reduce(function(x,y){return[Math.min(x[0],y.coordinate),Math.max(x[1],y.coordinate)]},[1/0,-1/0]),f=Be(s,i,d[0],o),p=Be(s,i,d[1],o),m=Ya(Ya(Ya({},he(u,!1)),{},{fill:"none"},he(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return W.createElement("line",Al({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=FN(s,nee),f=this.getTickTextAnchor(),p=he(d,!1),m=he(o,!1),x=i.map(function(y,h){var v=n.getTickValueCoord(y),g=Ya(Ya(Ya(Ya({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},p),{},{stroke:"none",fill:u},m),{},{index:h},v),{},{payload:y});return W.createElement(_e,Al({className:be("recharts-polar-radius-axis-tick",FO(o)),key:"tick-".concat(y.coordinate)},Cs(n.props,y,h)),t.renderTickItem(o,g,c?c(y.value,h):y.value))});return W.createElement(_e,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:W.createElement(_e,{className:be("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),St.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return W.isValidElement(n)?o=W.cloneElement(n,s):ve(n)?o=n(s):o=W.createElement(Os,Al({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(b.PureComponent);mh(xh,"displayName","PolarRadiusAxis");mh(xh,"axisType","radiusAxis");mh(xh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(this,arguments)}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rP(n.key),n)}}function pee(e,t,r){return t&&zN(e.prototype,t),r&&zN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hee(e,t,r){return t=Ff(t),mee(e,tP()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function mee(e,t){if(t&&(Xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xee(e)}function xee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tP=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function gee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i0(e,t)}function i0(e,t){return i0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},i0(e,t)}function gh(e,t,r){return t=rP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rP(e){var t=yee(e,"string");return Xi(t)=="symbol"?t:t+""}function yee(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vee=Math.PI/180,WN=1e-5,yh=function(e){function t(){return fee(this,t),hee(this,t,arguments)}return gee(t,e),pee(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=Be(i,o,l,n.coordinate),p=Be(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*vee),o;return i>WN?o=s==="outer"?"start":"end":i<-WN?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=Xa(Xa({},he(this.props,!1)),{},{fill:"none"},he(l,!1));if(c==="circle")return W.createElement(hh,ns({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(p){return Be(s,i,o,p.coordinate)});return W.createElement(MZ,ns({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=he(this.props,!1),f=he(o,!1),p=Xa(Xa({},d),{},{fill:"none"},he(l,!1)),m=i.map(function(x,y){var h=n.getTickLineCoord(x),v=n.getTickTextAnchor(x),g=Xa(Xa(Xa({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:x,x:h.x2,y:h.y2});return W.createElement(_e,ns({className:be("recharts-polar-angle-axis-tick",FO(o)),key:"tick-".concat(x.coordinate)},Cs(n.props,x,y)),l&&W.createElement("line",ns({className:"recharts-polar-angle-axis-tick-line"},p,h)),o&&t.renderTickItem(o,g,c?c(x.value,y):x.value))});return W.createElement(_e,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:W.createElement(_e,{className:be("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return W.isValidElement(n)?o=W.cloneElement(n,s):ve(n)?o=n(s):o=W.createElement(Os,ns({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(b.PureComponent);gh(yh,"displayName","PolarAngleAxis");gh(yh,"axisType","angleAxis");gh(yh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var bee=oC,jee=bee(Object.getPrototypeOf,Object),wee=jee,Nee=Qn,See=wee,_ee=Jn,kee="[object Object]",Cee=Function.prototype,Oee=Object.prototype,nP=Cee.toString,Pee=Oee.hasOwnProperty,Aee=nP.call(Object);function Eee(e){if(!_ee(e)||Nee(e)!=kee)return!1;var t=See(e);if(t===null)return!0;var r=Pee.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&nP.call(r)==Aee}var Tee=Eee;const $ee=Te(Tee);var Mee=Qn,Dee=Jn,Ree="[object Boolean]";function Iee(e){return e===!0||e===!1||Dee(e)&&Mee(e)==Ree}var Lee=Iee;const Fee=Te(Lee);function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bf.apply(this,arguments)}function Bee(e,t){return Hee(e)||Wee(e,t)||zee(e,t)||Uee()}function Uee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zee(e,t){if(e){if(typeof e=="string")return HN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(e,t)}}function HN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Hee(e){if(Array.isArray(e))return e}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){qee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qee(e,t,r){return t=Vee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vee(e){var t=Gee(e,"string");return kc(t)=="symbol"?t:t+""}function Gee(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GN=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},Kee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yee=function(t){var r=VN(VN({},Kee),t),n=b.useRef(),s=b.useState(-1),i=Bee(s,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,p=r.height,m=r.className,x=r.animationEasing,y=r.animationDuration,h=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var g=be("recharts-trapezoid",m);return v?W.createElement(vn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:y,animationEasing:x,isActive:v},function(j){var S=j.upperWidth,N=j.lowerWidth,w=j.height,C=j.x,_=j.y;return W.createElement(vn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:y,easing:x},W.createElement("path",Bf({},he(r,!0),{className:g,d:GN(C,_,S,N,w),ref:n})))}):W.createElement("g",null,W.createElement("path",Bf({},he(r,!0),{className:g,d:GN(c,u,d,f,p)})))},Xee=["option","shapeType","propTransformer","activeClassName","isActive"];function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function Qee(e,t){if(e==null)return{};var r=Jee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){Zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zee(e,t,r){return t=ete(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ete(e){var t=tte(e,"string");return Cc(t)=="symbol"?t:t+""}function tte(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rte(e,t){return Uf(Uf({},t),e)}function nte(e,t){return e==="symbols"}function YN(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return W.createElement(Dv,r);case"trapezoid":return W.createElement(Yee,r);case"sector":return W.createElement(zO,r);case"symbols":if(nte(t))return W.createElement(ev,r);break;default:return null}}function ate(e){return b.isValidElement(e)?e.props:e}function aP(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?rte:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Qee(e,Xee),u;if(b.isValidElement(t))u=b.cloneElement(t,Uf(Uf({},c),ate(t)));else if(ve(t))u=t(c);else if($ee(t)&&!Fee(t)){var d=s(t,c);u=W.createElement(YN,{shapeType:r,elementProps:d})}else{var f=c;u=W.createElement(YN,{shapeType:r,elementProps:f})}return l?W.createElement(_e,{className:o},u):u}function vh(e,t){return t!=null&&"trapezoids"in e.props}function bh(e,t){return t!=null&&"sectors"in e.props}function Oc(e,t){return t!=null&&"points"in e.props}function ste(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function ite(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ote(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function lte(e,t){var r;return vh(e,t)?r=ste:bh(e,t)?r=ite:Oc(e,t)&&(r=ote),r}function cte(e,t){var r;return vh(e,t)?r="trapezoids":bh(e,t)?r="sectors":Oc(e,t)&&(r="points"),r}function ute(e,t){if(vh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(bh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Oc(e,t)?t.payload:{}}function dte(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=cte(r,t),i=ute(r,t),o=n.filter(function(c,u){var d=nu(i,c),f=r.props[s].filter(function(x){var y=lte(r,t);return y(x,t)}),p=r.props[s].indexOf(f[f.length-1]),m=u===p;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var bd;function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(this,arguments)}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){Ar(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iP(n.key),n)}}function pte(e,t,r){return t&&QN(e.prototype,t),r&&QN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hte(e,t,r){return t=zf(t),mte(e,sP()?Reflect.construct(t,r||[],zf(e).constructor):t.apply(e,r))}function mte(e,t){if(t&&(Qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xte(e)}function xte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sP=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(e)}function gte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o0(e,t)}function o0(e,t){return o0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},o0(e,t)}function Ar(e,t,r){return t=iP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iP(e){var t=yte(e,"string");return Qi(t)=="symbol"?t:t+""}function yte(e,t){if(Qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bn=function(e){function t(r){var n;return fte(this,t),n=hte(this,t,[r]),Ar(n,"pieRef",null),Ar(n,"sectorRefs",[]),Ar(n,"id",Po("recharts-pie-")),Ar(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ve(s)&&s()}),Ar(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ve(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return gte(t,e),pte(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=he(this.props,!1),f=he(o,!1),p=he(l,!1),m=o&&o.offsetRadius||20,x=n.map(function(y,h){var v=(y.startAngle+y.endAngle)/2,g=Be(y.cx,y.cy,y.outerRadius+m,v),j=Ie(Ie(Ie(Ie({},d),y),{},{stroke:"none"},f),{},{index:h,textAnchor:t.getTextAnchor(g.x,y.cx)},g),S=Ie(Ie(Ie(Ie({},d),y),{},{fill:"none",stroke:y.fill},p),{},{index:h,points:[Be(y.cx,y.cy,y.outerRadius,v),g]}),N=c;return je(c)&&je(u)?N="value":je(c)&&(N=u),W.createElement(_e,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(h)},l&&t.renderLabelLineItem(l,S,"line"),t.renderLabelItem(o,j,xt(y,N)))});return W.createElement(_e,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),p=c&&s.hasActiveIndex()?c:null,m=f?o:p,x=Ie(Ie({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return W.createElement(_e,pi({ref:function(h){h&&!s.sectorRefs.includes(h)&&s.sectorRefs.push(h)},tabIndex:-1,className:"recharts-pie-sector"},Cs(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),W.createElement(aP,pi({option:m,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,p=f.prevSectors,m=f.prevIsAnimationActive;return W.createElement(vn,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var y=x.t,h=[],v=i&&i[0],g=v.startAngle;return i.forEach(function(j,S){var N=p&&p[S],w=S>0?yr(j,"paddingAngle",0):0;if(N){var C=pr(N.endAngle-N.startAngle,j.endAngle-j.startAngle),_=Ie(Ie({},j),{},{startAngle:g+w,endAngle:g+C(y)+w});h.push(_),g=_.endAngle}else{var P=j.endAngle,k=j.startAngle,$=pr(0,P-k),O=$(y),F=Ie(Ie({},j),{},{startAngle:g+w,endAngle:g+O+w});h.push(F),g=F.endAngle}}),W.createElement(_e,null,n.renderSectorsStatically(h))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!nu(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,p=s.outerRadius,m=s.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!oe(u)||!oe(d)||!oe(f)||!oe(p))return null;var y=be("recharts-pie",l);return W.createElement(_e,{tabIndex:this.props.rootTabIndex,className:y,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),St.renderCallByParent(this.props,null,!1),(!m||x)&&Fn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(W.isValidElement(n))return W.cloneElement(n,s);if(ve(n))return n(s);var o=be("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return W.createElement(Tf,pi({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(W.isValidElement(n))return W.cloneElement(n,s);var o=i;if(ve(n)&&(o=n(s),W.isValidElement(o)))return o;var l=be("recharts-pie-label-text",typeof n!="boolean"&&!ve(n)?n.className:"");return W.createElement(Os,pi({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);bd=bn;Ar(bn,"displayName","Pie");Ar(bn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Bs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ar(bn,"parseDeltaAngle",function(e,t){var r=Wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ar(bn,"getRealPieData",function(e){var t=e.data,r=e.children,n=he(e,!1),s=vr(r,ac);return t&&t.length?t.map(function(i,o){return Ie(Ie(Ie({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Ie(Ie({},n),i.props)}):[]});Ar(bn,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=LO(s,i),l=n+Ht(e.cx,s,s/2),c=r+Ht(e.cy,i,i/2),u=Ht(e.innerRadius,o,0),d=Ht(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ar(bn,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ie(Ie({},t.type.defaultProps),t.props):t.props,s=bd.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,p=n.tooltipType,m=Math.abs(n.minAngle),x=bd.parseCoordinateOfPie(n,r),y=bd.parseDeltaAngle(o,l),h=Math.abs(y),v=u;je(u)&&je(f)?(Jr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):je(u)&&(Jr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var g=s.filter(function(_){return xt(_,v,0)!==0}).length,j=(h>=360?g:g-1)*c,S=h-g*m-j,N=s.reduce(function(_,P){var k=xt(P,v,0);return _+(oe(k)?k:0)},0),w;if(N>0){var C;w=s.map(function(_,P){var k=xt(_,v,0),$=xt(_,d,P),O=(oe(k)?k:0)/N,F;P?F=C.endAngle+Wt(y)*c*(k!==0?1:0):F=o;var B=F+Wt(y)*((k!==0?m:0)+O*S),R=(F+B)/2,z=(x.innerRadius+x.outerRadius)/2,G=[{name:$,value:k,payload:_,dataKey:v,type:p}],I=Be(x.cx,x.cy,z,R);return C=Ie(Ie(Ie({percent:O,cornerRadius:i,name:$,tooltipPayload:G,midAngle:R,middleRadius:z,tooltipPosition:I},_),x),{},{value:xt(_,v),startAngle:F,endAngle:B,payload:_,paddingAngle:Wt(y)*c}),C})}return Ie(Ie({},x),{},{sectors:w,data:s})});var vte=Math.ceil,bte=Math.max;function jte(e,t,r,n){for(var s=-1,i=bte(vte((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var wte=jte,Nte=kC,JN=1/0,Ste=17976931348623157e292;function _te(e){if(!e)return e===0?e:0;if(e=Nte(e),e===JN||e===-JN){var t=e<0?-1:1;return t*Ste}return e===e?e:0}var oP=_te,kte=wte,Cte=rh,Em=oP;function Ote(e){return function(t,r,n){return n&&typeof n!="number"&&Cte(t,r,n)&&(r=n=void 0),t=Em(t),r===void 0?(r=t,t=0):r=Em(r),n=n===void 0?t<r?1:-1:Em(n),kte(t,r,n,e)}}var Pte=Ote,Ate=Pte,Ete=Ate(),Tte=Ete;const Wf=Te(Tte);function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function e2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){lP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lP(e,t,r){return t=$te(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $te(e){var t=Mte(e,"string");return Pc(t)=="symbol"?t:t+""}function Mte(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dte=["Webkit","Moz","O","ms"],Rte=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Dte.reduce(function(i,o){return e2(e2({},i),{},lP({},o+n,r))},{});return s[t]=r,s};function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hf.apply(this,arguments)}function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){cr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ite(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uP(n.key),n)}}function Lte(e,t,r){return t&&r2(e.prototype,t),r&&r2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fte(e,t,r){return t=qf(t),Bte(e,cP()?Reflect.construct(t,r||[],qf(e).constructor):t.apply(e,r))}function Bte(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ute(e)}function Ute(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cP=function(){return!!e})()}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(e)}function zte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l0(e,t)}function l0(e,t){return l0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},l0(e,t)}function cr(e,t,r){return t=uP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uP(e){var t=Wte(e,"string");return Ji(t)=="symbol"?t:t+""}function Wte(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hte=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=kl().domain(Wf(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},n2=function(t){return t.changedTouches&&!!t.changedTouches.length},Zi=function(e){function t(r){var n;return Ite(this,t),n=Fte(this,t,[r]),cr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),cr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),cr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),cr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),cr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),cr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),cr(n,"handleSlideDragStart",function(s){var i=n2(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return zte(t,e),Lte(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),p=Math.max(s,i),m=t.getIndexInRange(o,f),x=t.getIndexInRange(o,p);return{startIndex:m-m%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=xt(i[n],l,n);return ve(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,m=c.endIndex,x=c.onChange,y=n.pageX-i;y>0?y=Math.min(y,u+d-f-l,u+d-f-o):y<0&&(y=Math.max(y,u-o,u-l));var h=this.getIndex({startX:o+y,endX:l+y});(h.startIndex!==p||h.endIndex!==m)&&x&&x(h),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=n2(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,p=d.width,m=d.travellerWidth,x=d.onChange,y=d.gap,h=d.data,v={startX:this.state.startX,endX:this.state.endX},g=n.pageX-i;g>0?g=Math.min(g,f+p-m-u):g<0&&(g=Math.max(g,f-u)),v[o]=u+g;var j=this.getIndex(v),S=j.startIndex,N=j.endIndex,w=function(){var _=h.length-1;return o==="startX"&&(l>c?S%y===0:N%y===0)||l<c&&N===_||o==="endX"&&(l>c?N%y===0:S%y===0)||l>c&&N===_};this.setState(cr(cr({},o,u+g),"brushMoveStartX",n.pageX),function(){x&&w()&&x(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var p=f+n;if(!(p===-1||p>=l.length)){var m=l[p];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(cr({},s,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return W.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=b.Children.only(u);return f?W.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,m=c.ariaLabel,x=c.data,y=c.startIndex,h=c.endIndex,v=Math.max(n,this.props.x),g=Tm(Tm({},he(this.props,!1)),{},{x:v,y:u,width:d,height:f}),j=m||"Min value: ".concat((i=x[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[h])===null||o===void 0?void 0:o.name);return W.createElement(_e,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,g))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,p=d.endX,m=5,x={pointerEvents:"none",fill:u};return W.createElement(_e,{className:"recharts-brush-texts"},W.createElement(Os,Hf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-m,y:o+l/2},x),this.getTextOfTick(s)),W.createElement(Os,Hf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+m,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,p=this.state,m=p.startX,x=p.endX,y=p.isTextActive,h=p.isSlideMoving,v=p.isTravellerMoving,g=p.isTravellerFocused;if(!s||!s.length||!oe(l)||!oe(c)||!oe(u)||!oe(d)||u<=0||d<=0)return null;var j=be("recharts-brush",i),S=W.Children.count(o)===1,N=Rte("userSelect","none");return W.createElement(_e,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(y||h||v||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),W.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return W.isValidElement(n)?i=W.cloneElement(n,s):ve(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Tm({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Hte({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var p=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(b.PureComponent);cr(Zi,"displayName","Brush");cr(Zi,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qte=ov;function Vte(e,t){var r;return qte(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var Gte=Vte,Kte=Z4,Yte=Nn,Xte=Gte,Qte=ir,Jte=rh;function Zte(e,t,r){var n=Qte(e)?Kte:Xte;return r&&Jte(e,t,r)&&(t=void 0),n(e,Yte(t))}var ere=Zte;const tre=Te(ere);var fn=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},a2=jC;function rre(e,t,r){t=="__proto__"&&a2?a2(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var nre=rre,are=nre,sre=vC,ire=Nn;function ore(e,t){var r={};return t=ire(t),sre(e,function(n,s,i){are(r,s,t(n,s,i))}),r}var lre=ore;const cre=Te(lre);function ure(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var dre=ure,fre=ov;function pre(e,t){var r=!0;return fre(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var hre=pre,mre=dre,xre=hre,gre=Nn,yre=ir,vre=rh;function bre(e,t,r){var n=yre(e)?mre:xre;return r&&vre(e,t,r)&&(t=void 0),n(e,gre(t))}var jre=bre;const dP=Te(jre);var wre=["x","y"];function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c0.apply(this,arguments)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){Nre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nre(e,t,r){return t=Sre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sre(e){var t=_re(e,"string");return Ac(t)=="symbol"?t:t+""}function _re(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kre(e,t){if(e==null)return{};var r=Cre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ore(e,t){var r=e.x,n=e.y,s=kre(e,wre),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),p=parseInt(f,10);return il(il(il(il(il({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function i2(e){return W.createElement(aP,c0({shapeType:"rectangle",propTransformer:Ore,activeClassName:"recharts-active-bar"},e))}var Pre=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=oe(n)||XI(n);return i?t(n,s):(i||As(),r)}},Are=["value","background"],fP;function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function Ere(e,t){if(e==null)return{};var r=Tre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(this,arguments)}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){xa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hP(n.key),n)}}function Mre(e,t,r){return t&&l2(e.prototype,t),r&&l2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dre(e,t,r){return t=Gf(t),Rre(e,pP()?Reflect.construct(t,r||[],Gf(e).constructor):t.apply(e,r))}function Rre(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ire(e)}function Ire(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pP=function(){return!!e})()}function Gf(e){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(e)}function Lre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u0(e,t)}function u0(e,t){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},u0(e,t)}function xa(e,t,r){return t=hP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hP(e){var t=Fre(e,"string");return eo(t)=="symbol"?t:t+""}function Fre(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wa=function(e){function t(){var r;$re(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Dre(this,t,[].concat(s)),xa(r,"state",{isAnimationFinished:!1}),xa(r,"id",Po("recharts-bar-")),xa(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),xa(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Lre(t,e),Mre(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=he(this.props,!1);return n&&n.map(function(f,p){var m=p===c,x=m?u:o,y=ct(ct(ct({},d),f),{},{isActive:m,option:x,index:p,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return W.createElement(_e,Vf({className:"recharts-bar-rectangle"},Cs(s.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),W.createElement(i2,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,p=this.state.prevData;return W.createElement(vn,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,y=i.map(function(h,v){var g=p&&p[v];if(g){var j=pr(g.x,h.x),S=pr(g.y,h.y),N=pr(g.width,h.width),w=pr(g.height,h.height);return ct(ct({},h),{},{x:j(x),y:S(x),width:N(x),height:w(x)})}if(o==="horizontal"){var C=pr(0,h.height),_=C(x);return ct(ct({},h),{},{y:h.y+h.height-_,height:_})}var P=pr(0,h.width),k=P(x);return ct(ct({},h),{},{width:k})});return W.createElement(_e,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!nu(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=he(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,p=Ere(u,Are);if(!f)return null;var m=ct(ct(ct(ct(ct({},p),{},{fill:"#eee"},f),c),Cs(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return W.createElement(i2,Vf({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=vr(d,au);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,m=function(h,v){var g=Array.isArray(h.value)?h.value[1]:h.value;return{x:h.x,y:h.y,value:g,errorVal:xt(h,v)}},x={clipPath:n?"url(#clipPath-".concat(s,")"):null};return W.createElement(_e,x,f.map(function(y){return W.cloneElement(y,{key:"error-bar-".concat(s,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,p=n.height,m=n.isAnimationActive,x=n.background,y=n.id;if(s||!i||!i.length)return null;var h=this.state.isAnimationFinished,v=be("recharts-bar",o),g=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,S=g||j,N=je(y)?this.id:y;return W.createElement(_e,{className:v},g||j?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(N)},W.createElement("rect",{x:g?u:u-f/2,y:j?d:d-p/2,width:g?f:f*2,height:j?p:p*2}))):null,W.createElement(_e,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,N),(!m||h)&&Fn.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(b.PureComponent);fP=Wa;xa(Wa,"displayName","Bar");xa(Wa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Bs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xa(Wa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,m=mX(n,r);if(!m)return null;var x=t.layout,y=r.type.defaultProps,h=y!==void 0?ct(ct({},y),r.props):r.props,v=h.dataKey,g=h.children,j=h.minPointSize,S=x==="horizontal"?o:i,N=u?S.scale.domain():null,w=wX({numericAxis:S}),C=vr(g,ac),_=f.map(function(P,k){var $,O,F,B,R,z;u?$=xX(u[d+k],N):($=xt(P,v),Array.isArray($)||($=[w,$]));var G=Pre(j,fP.defaultProps.minPointSize)($[1],k);if(x==="horizontal"){var I,T=[o.scale($[0]),o.scale($[1])],E=T[0],U=T[1];O=eN({axis:i,ticks:l,bandSize:s,offset:m.offset,entry:P,index:k}),F=(I=U??E)!==null&&I!==void 0?I:void 0,B=m.size;var L=E-U;if(R=Number.isNaN(L)?0:L,z={x:O,y:o.y,width:B,height:o.height},Math.abs(G)>0&&Math.abs(R)<Math.abs(G)){var A=Wt(R||G)*(Math.abs(G)-Math.abs(R));F-=A,R+=A}}else{var H=[i.scale($[0]),i.scale($[1])],te=H[0],K=H[1];if(O=te,F=eN({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:P,index:k}),B=K-te,R=m.size,z={x:i.x,y:F,width:i.width,height:R},Math.abs(G)>0&&Math.abs(B)<Math.abs(G)){var ue=Wt(B||G)*(Math.abs(G)-Math.abs(B));B+=ue}}return ct(ct(ct({},P),{},{x:O,y:F,width:B,height:R,value:u?$:$[1],payload:P,background:z},C&&C[k]&&C[k].props),{},{tooltipPayload:[RO(r,P)],tooltipPosition:{x:O+B/2,y:F+R/2}})});return ct({data:_,layout:x},p)});function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function Bre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mP(n.key),n)}}function Ure(e,t,r){return t&&c2(e.prototype,t),r&&c2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){jh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jh(e,t,r){return t=mP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mP(e){var t=zre(e,"string");return Ec(t)=="symbol"?t:t+""}function zre(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xP=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!fr(u,Wa);return d.reduce(function(m,x){var y=r[x],h=y.orientation,v=y.domain,g=y.padding,j=g===void 0?{}:g,S=y.mirror,N=y.reversed,w="".concat(h).concat(S?"Mirror":""),C,_,P,k,$;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var O=v[1]-v[0],F=1/0,B=y.categoricalDomain.sort(ZI);if(B.forEach(function(H,te){te>0&&(F=Math.min((H||0)-(B[te-1]||0),F))}),Number.isFinite(F)){var R=F/O,z=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(C=R*z/2),y.padding==="no-gap"){var G=Ht(t.barCategoryGap,R*z),I=R*z/2;C=I-G-(I-G)/z*G}}}s==="xAxis"?_=[n.left+(j.left||0)+(C||0),n.left+n.width-(j.right||0)-(C||0)]:s==="yAxis"?_=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(C||0),n.top+n.height-(j.bottom||0)-(C||0)]:_=y.range,N&&(_=[_[1],_[0]]);var T=TO(y,i,p),E=T.scale,U=T.realScaleType;E.domain(v).range(_),$O(E);var L=MO(E,Vr(Vr({},y),{},{realScaleType:U}));s==="xAxis"?($=h==="top"&&!S||h==="bottom"&&S,P=n.left,k=f[w]-$*y.height):s==="yAxis"&&($=h==="left"&&!S||h==="right"&&S,P=f[w]-$*y.width,k=n.top);var A=Vr(Vr(Vr({},y),L),{},{realScaleType:U,x:P,y:k,scale:E,width:s==="xAxis"?n.width:y.width,height:s==="yAxis"?n.height:y.height});return A.bandSize=Pf(A,L),!y.hide&&s==="xAxis"?f[w]+=($?-1:1)*A.height:y.hide||(f[w]+=($?-1:1)*A.width),Vr(Vr({},m),{},jh({},x,A))},{})},gP=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},Wre=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return gP({x:r,y:n},{x:s,y:i})},yP=function(){function e(t){Bre(this,e),this.scale=t}return Ure(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();jh(yP,"EPS",1e-4);var Rv=function(t){var r=Object.keys(t).reduce(function(n,s){return Vr(Vr({},n),{},jh({},s,yP.create(t[s])))},{});return Vr(Vr({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return cre(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return dP(s,function(i,o){return r[o].isInRange(i)})}})};function Hre(e){return(e%180+180)%180}var qre=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Hre(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Vre=Nn,Gre=Jc,Kre=eh;function Yre(e){return function(t,r,n){var s=Object(t);if(!Gre(t)){var i=Vre(r);t=Kre(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var Xre=Yre,Qre=oP;function Jre(e){var t=Qre(e),r=t%1;return t===t?r?t-r:t:0}var Zre=Jre,ene=pC,tne=Nn,rne=Zre,nne=Math.max;function ane(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:rne(r);return s<0&&(s=nne(n+s,0)),ene(e,tne(t),s)}var sne=ane,ine=Xre,one=sne,lne=ine(one),cne=lne;const une=Te(cne);var dne=rI(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Iv=b.createContext(void 0),Lv=b.createContext(void 0),vP=b.createContext(void 0),bP=b.createContext({}),jP=b.createContext(void 0),wP=b.createContext(0),NP=b.createContext(0),d2=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=dne(i);return W.createElement(Iv.Provider,{value:n},W.createElement(Lv.Provider,{value:s},W.createElement(bP.Provider,{value:i},W.createElement(vP.Provider,{value:d},W.createElement(jP.Provider,{value:o},W.createElement(wP.Provider,{value:u},W.createElement(NP.Provider,{value:c},l)))))))},fne=function(){return b.useContext(jP)},SP=function(t){var r=b.useContext(Iv);r==null&&As();var n=r[t];return n==null&&As(),n},pne=function(){var t=b.useContext(Iv);return fa(t)},hne=function(){var t=b.useContext(Lv),r=une(t,function(n){return dP(n.domain,Number.isFinite)});return r||fa(t)},_P=function(t){var r=b.useContext(Lv);r==null&&As();var n=r[t];return n==null&&As(),n},mne=function(){var t=b.useContext(vP);return t},xne=function(){return b.useContext(bP)},Fv=function(){return b.useContext(NP)},Bv=function(){return b.useContext(wP)};function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function gne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CP(n.key),n)}}function vne(e,t,r){return t&&yne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bne(e,t,r){return t=Kf(t),jne(e,kP()?Reflect.construct(t,r||[],Kf(e).constructor):t.apply(e,r))}function jne(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(e)}function wne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kP=function(){return!!e})()}function Kf(e){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kf(e)}function Nne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d0(e,t)}function d0(e,t){return d0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},d0(e,t)}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function p2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){Uv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uv(e,t,r){return t=CP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CP(e){var t=Sne(e,"string");return to(t)=="symbol"?t:t+""}function Sne(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _ne(e,t){return Pne(e)||One(e,t)||Cne(e,t)||kne()}function kne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cne(e,t){if(e){if(typeof e=="string")return h2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h2(e,t)}}function h2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function One(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Pne(e){if(Array.isArray(e))return e}function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f0.apply(this,arguments)}var Ane=function(t,r){var n;return W.isValidElement(t)?n=W.cloneElement(t,r):ve(t)?n=t(r):n=W.createElement("line",f0({},r,{className:"recharts-reference-line-line"})),n},Ene=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,p=i.width,m=i.height;if(n){var x=u.y,y=t.y.apply(x,{position:o});if(fn(u,"discard")&&!t.y.isInRange(y))return null;var h=[{x:d+p,y},{x:d,y}];return c==="left"?h.reverse():h}if(r){var v=u.x,g=t.x.apply(v,{position:o});if(fn(u,"discard")&&!t.x.isInRange(g))return null;var j=[{x:g,y:f+m},{x:g,y:f}];return l==="top"?j.reverse():j}if(s){var S=u.segment,N=S.map(function(w){return t.apply(w,{position:o})});return fn(u,"discard")&&tre(N,function(w){return!t.isInRange(w)})?null:N}return null};function Tne(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=fne(),d=SP(s),f=_P(i),p=mne();if(!u||!p)return null;Jr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Rv({x:d.scale,y:f.scale}),x=yt(t),y=yt(r),h=n&&n.length===2,v=Ene(m,x,y,h,p,e.position,d.orientation,f.orientation,e);if(!v)return null;var g=_ne(v,2),j=g[0],S=j.x,N=j.y,w=g[1],C=w.x,_=w.y,P=fn(e,"hidden")?"url(#".concat(u,")"):void 0,k=p2(p2({clipPath:P},he(e,!0)),{},{x1:S,y1:N,x2:C,y2:_});return W.createElement(_e,{className:be("recharts-reference-line",l)},Ane(o,k),St.renderCallByParent(e,Wre({x1:S,y1:N,x2:C,y2:_})))}var zv=function(e){function t(){return gne(this,t),bne(this,t,arguments)}return Nne(t,e),vne(t,[{key:"render",value:function(){return W.createElement(Tne,this.props)}}])}(W.Component);Uv(zv,"displayName","ReferenceLine");Uv(zv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0.apply(this,arguments)}function ro(e){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ro(e)}function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function x2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PP(n.key),n)}}function Dne(e,t,r){return t&&Mne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rne(e,t,r){return t=Yf(t),Ine(e,OP()?Reflect.construct(t,r||[],Yf(e).constructor):t.apply(e,r))}function Ine(e,t){if(t&&(ro(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lne(e)}function Lne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OP=function(){return!!e})()}function Yf(e){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yf(e)}function Fne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h0(e,t)}function h0(e,t){return h0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},h0(e,t)}function wh(e,t,r){return t=PP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PP(e){var t=Bne(e,"string");return ro(t)=="symbol"?t:t+""}function Bne(e,t){if(ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Une=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=Rv({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return fn(t,"discard")&&!o.isInRange(l)?null:l},Nh=function(e){function t(){return $ne(this,t),Rne(this,t,arguments)}return Fne(t,e),Dne(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=yt(s),d=yt(i);if(Jr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Une(this.props);if(!f)return null;var p=f.x,m=f.y,x=this.props,y=x.shape,h=x.className,v=fn(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=x2(x2({clipPath:v},he(this.props,!0)),{},{cx:p,cy:m});return W.createElement(_e,{className:be("recharts-reference-dot",h)},t.renderDot(y,g),St.renderCallByParent(this.props,{x:p-o,y:m-o,width:2*o,height:2*o}))}}])}(W.Component);wh(Nh,"displayName","ReferenceDot");wh(Nh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wh(Nh,"renderDot",function(e,t){var r;return W.isValidElement(e)?r=W.cloneElement(e,t):ve(e)?r=e(t):r=W.createElement(hh,p0({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m0.apply(this,arguments)}function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function y2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){Sh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EP(n.key),n)}}function Hne(e,t,r){return t&&Wne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qne(e,t,r){return t=Xf(t),Vne(e,AP()?Reflect.construct(t,r||[],Xf(e).constructor):t.apply(e,r))}function Vne(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gne(e)}function Gne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AP=function(){return!!e})()}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xf(e)}function Kne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x0(e,t)}function x0(e,t){return x0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},x0(e,t)}function Sh(e,t,r){return t=EP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EP(e){var t=Yne(e,"string");return no(t)=="symbol"?t:t+""}function Yne(e,t){if(no(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(no(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xne=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var p=Rv({x:d.scale,y:f.scale}),m={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},x={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(u,{position:"end"}):p.y.rangeMax};return fn(i,"discard")&&(!p.isInRange(m)||!p.isInRange(x))?null:gP(m,x)},_h=function(e){function t(){return zne(this,t),qne(this,t,arguments)}return Kne(t,e),Hne(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Jr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=yt(s),p=yt(i),m=yt(o),x=yt(l),y=this.props.shape;if(!f&&!p&&!m&&!x&&!y)return null;var h=Xne(f,p,m,x,this.props);if(!h&&!y)return null;var v=fn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return W.createElement(_e,{className:be("recharts-reference-area",c)},t.renderRect(y,y2(y2({clipPath:v},he(this.props,!0)),h)),St.renderCallByParent(this.props,h))}}])}(W.Component);Sh(_h,"displayName","ReferenceArea");Sh(_h,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Sh(_h,"renderRect",function(e,t){var r;return W.isValidElement(e)?r=W.cloneElement(e,t):ve(e)?r=e(t):r=W.createElement(Dv,m0({},t,{className:"recharts-reference-area-rect"})),r});function TP(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Qne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return qre(n,r)}function Jne(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Qf(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function Zne(e,t){return TP(e,t+1)}function eae(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:TP(n,u)};var y=c,h,v=function(){return h===void 0&&(h=r(x,y)),h},g=x.coordinate,j=c===0||Qf(e,g,v,d,l);j||(c=0,d=o,u+=1),j&&(d=g+e*(v()/2+s),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){tae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tae(e,t,r){return t=rae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rae(e){var t=nae(e,"string");return Tc(t)=="symbol"?t:t+""}function nae(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aae(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(p){var m=i[p],x,y=function(){return x===void 0&&(x=r(m,p)),x};if(p===o-1){var h=e*(m.coordinate+e*y()/2-c);i[p]=m=Dt(Dt({},m),{},{tickCoord:h>0?m.coordinate-h*e:m.coordinate})}else i[p]=m=Dt(Dt({},m),{},{tickCoord:m.coordinate});var v=Qf(e,m.tickCoord,y,l,c);v&&(c=m.tickCoord-e*(y()/2+s),i[p]=Dt(Dt({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function sae(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),p=e*(d.coordinate+e*f/2-u);o[l-1]=d=Dt(Dt({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate});var m=Qf(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=Dt(Dt({},d),{},{isShow:!0}))}for(var x=i?l-1:l,y=function(g){var j=o[g],S,N=function(){return S===void 0&&(S=r(j,g)),S};if(g===0){var w=e*(j.coordinate-e*N()/2-c);o[g]=j=Dt(Dt({},j),{},{tickCoord:w<0?j.coordinate-w*e:j.coordinate})}else o[g]=j=Dt(Dt({},j),{},{tickCoord:j.coordinate});var C=Qf(e,j.tickCoord,N,c,u);C&&(c=j.tickCoord+e*(N()/2+s),o[g]=Dt(Dt({},j),{},{isShow:!0}))},h=0;h<x;h++)y(h);return o}function Wv(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(oe(c)||Bs.isSsr)return Zne(s,typeof c=="number"&&oe(c)?c:0);var p=[],m=l==="top"||l==="bottom"?"width":"height",x=d&&m==="width"?_l(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(j,S){var N=ve(u)?u(j.value,S):j.value;return m==="width"?Qne(_l(N,{fontSize:t,letterSpacing:r}),x,f):_l(N,{fontSize:t,letterSpacing:r})[m]},h=s.length>=2?Wt(s[1].coordinate-s[0].coordinate):1,v=Jne(i,h,m);return c==="equidistantPreserveStart"?eae(h,v,y,s,o):(c==="preserveStart"||c==="preserveStartEnd"?p=sae(h,v,y,s,o,c==="preserveStartEnd"):p=aae(h,v,y,s,o),p.filter(function(g){return g.isShow}))}var iae=["viewBox"],oae=["viewBox"],lae=["ticks"];function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hi.apply(this,arguments)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){Hv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $m(e,t){if(e==null)return{};var r=cae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MP(n.key),n)}}function dae(e,t,r){return t&&j2(e.prototype,t),r&&j2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fae(e,t,r){return t=Jf(t),pae(e,$P()?Reflect.construct(t,r||[],Jf(e).constructor):t.apply(e,r))}function pae(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hae(e)}function hae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($P=function(){return!!e})()}function Jf(e){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jf(e)}function mae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g0(e,t)}function g0(e,t){return g0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},g0(e,t)}function Hv(e,t,r){return t=MP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MP(e){var t=xae(e,"string");return ao(t)=="symbol"?t:t+""}function xae(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ro=function(e){function t(r){var n;return uae(this,t),n=fae(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return mae(t,e),dae(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=$m(n,iae),l=this.props,c=l.viewBox,u=$m(l,oae);return!Si(i,c)||!Si(o,u)||!Si(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,p=s.tickMargin,m,x,y,h,v,g,j=f?-1:1,S=n.tickSize||d,N=oe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=x=n.coordinate,h=o+ +!f*c,y=h-j*S,g=y-j*p,v=N;break;case"left":y=h=n.coordinate,x=i+ +!f*l,m=x-j*S,v=m-j*p,g=N;break;case"right":y=h=n.coordinate,x=i+ +f*l,m=x+j*S,v=m+j*p,g=N;break;default:m=x=n.coordinate,h=o+ +f*c,y=h+j*S,g=y+j*p,v=N;break}return{line:{x1:m,y1:y,x2:x,y2:h},tick:{x:v,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ft(ft(ft({},he(this.props,!1)),he(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=ft(ft({},f),{},{x1:s,y1:i+p*l,x2:s+o,y2:i+p*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=ft(ft({},f),{},{x1:s+m*o,y1:i,x2:s+m*o,y2:i+l})}return W.createElement("line",hi({},f,{className:be("recharts-cartesian-axis-line",yr(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,p=l.unit,m=Wv(ft(ft({},this.props),{},{ticks:n}),s,i),x=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),h=he(this.props,!1),v=he(d,!1),g=ft(ft({},h),{},{fill:"none"},he(c,!1)),j=m.map(function(S,N){var w=o.getTickLineCoord(S),C=w.line,_=w.tick,P=ft(ft(ft(ft({textAnchor:x,verticalAnchor:y},h),{},{stroke:"none",fill:u},v),_),{},{index:N,payload:S,visibleTicksCount:m.length,tickFormatter:f});return W.createElement(_e,hi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Cs(o.props,S,N)),c&&W.createElement("line",hi({},g,C,{className:be("recharts-cartesian-axis-tick-line",yr(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(ve(f)?f(S.value,N):S.value).concat(p||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,p=f.ticks,m=$m(f,lae),x=p;return ve(c)&&(x=p&&p.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:W.createElement(_e,{className:be("recharts-cartesian-axis",u),ref:function(h){n.layerReference=h}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),St.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=be(s.className,"recharts-cartesian-axis-tick-value");return W.isValidElement(n)?o=W.cloneElement(n,ft(ft({},s),{},{className:l})):ve(n)?o=n(ft(ft({},s),{},{className:l})):o=W.createElement(Os,hi({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(b.Component);Hv(Ro,"displayName","CartesianAxis");Hv(Ro,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gae=["x1","y1","x2","y2","key"],yae=["offset"];function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vae(e,t,r){return t=bae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bae(e){var t=jae(e,"string");return Es(t)=="symbol"?t:t+""}function jae(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(this,arguments)}function N2(e,t){if(e==null)return{};var r=wae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nae=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return W.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function DP(e,t){var r;if(W.isValidElement(e))r=W.cloneElement(e,t);else if(ve(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=N2(t,gae),u=he(c,!1);u.offset;var d=N2(u,yae);r=W.createElement("line",ds({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Sae(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=It(It({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return DP(s,u)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _ae(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=It(It({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return DP(s,u)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function kae(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(p){return Math.round(p+s-s)}).sort(function(p,m){return p-m});s!==d[0]&&d.unshift(0);var f=d.map(function(p,m){var x=!d[m+1],y=x?s+o-p:d[m+1]-p;if(y<=0)return null;var h=m%t.length;return W.createElement("rect",{key:"react-".concat(m),y:p,x:n,height:y,width:i,stroke:"none",fill:t[h],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Cae(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==d[0]&&d.unshift(0);var f=d.map(function(p,m){var x=!d[m+1],y=x?i+l-p:d[m+1]-p;if(y<=0)return null;var h=m%n.length;return W.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:y,height:c,stroke:"none",fill:n[h],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Oae=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return EO(Wv(It(It(It({},Ro.defaultProps),n),{},{ticks:Dn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Pae=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return EO(Wv(It(It(It({},Ro.defaultProps),n),{},{ticks:Dn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Ys={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $c(e){var t,r,n,s,i,o,l=Fv(),c=Bv(),u=xne(),d=It(It({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ys.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ys.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ys.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ys.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ys.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ys.verticalFill,x:oe(e.x)?e.x:u.left,y:oe(e.y)?e.y:u.top,width:oe(e.width)?e.width:u.width,height:oe(e.height)?e.height:u.height}),f=d.x,p=d.y,m=d.width,x=d.height,y=d.syncWithTicks,h=d.horizontalValues,v=d.verticalValues,g=pne(),j=hne();if(!oe(m)||m<=0||!oe(x)||x<=0||!oe(f)||f!==+f||!oe(p)||p!==+p)return null;var S=d.verticalCoordinatesGenerator||Oae,N=d.horizontalCoordinatesGenerator||Pae,w=d.horizontalPoints,C=d.verticalPoints;if((!w||!w.length)&&ve(N)){var _=h&&h.length,P=N({yAxis:j?It(It({},j),{},{ticks:_?h:j.ticks}):void 0,width:l,height:c,offset:u},_?!0:y);Jr(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Es(P),"]")),Array.isArray(P)&&(w=P)}if((!C||!C.length)&&ve(S)){var k=v&&v.length,$=S({xAxis:g?It(It({},g),{},{ticks:k?v:g.ticks}):void 0,width:l,height:c,offset:u},k?!0:y);Jr(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Es($),"]")),Array.isArray($)&&(C=$)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(Nae,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),W.createElement(Sae,ds({},d,{offset:u,horizontalPoints:w,xAxis:g,yAxis:j})),W.createElement(_ae,ds({},d,{offset:u,verticalPoints:C,xAxis:g,yAxis:j})),W.createElement(kae,ds({},d,{horizontalPoints:w})),W.createElement(Cae,ds({},d,{verticalPoints:C})))}$c.displayName="CartesianGrid";var Aae=["type","layout","connectNulls","ref"],Eae=["key"];function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function S2(e,t){if(e==null)return{};var r=Tae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},El.apply(this,arguments)}function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){Gr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xs(e){return Rae(e)||Dae(e)||Mae(e)||$ae()}function $ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mae(e,t){if(e){if(typeof e=="string")return y0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y0(e,t)}}function Dae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rae(e){if(Array.isArray(e))return y0(e)}function y0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IP(n.key),n)}}function Lae(e,t,r){return t&&k2(e.prototype,t),r&&k2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fae(e,t,r){return t=Zf(t),Bae(e,RP()?Reflect.construct(t,r||[],Zf(e).constructor):t.apply(e,r))}function Bae(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uae(e)}function Uae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RP=function(){return!!e})()}function Zf(e){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zf(e)}function zae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v0(e,t)}function v0(e,t){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},v0(e,t)}function Gr(e,t,r){return t=IP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IP(e){var t=Wae(e,"string");return so(t)=="symbol"?t:t+""}function Wae(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Io=function(e){function t(){var r;Iae(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Fae(this,t,[].concat(s)),Gr(r,"state",{isAnimationFinished:!0,totalLength:0}),Gr(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Gr(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,g){return v+g});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,p=l-o,m=[],x=0,y=0;x<c.length;y+=c[x],++x)if(y+c[x]>f){m=[].concat(Xs(c.slice(0,x)),[f-y]);break}var h=m.length%2===0?[0,p]:[p];return[].concat(Xs(t.repeat(c,d)),Xs(m),h).map(function(v){return"".concat(v,"px")}).join(", ")}),Gr(r,"id",Po("recharts-line-")),Gr(r,"pathRef",function(o){r.mainCurve=o}),Gr(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Gr(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return zae(t,e),Lae(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=vr(d,au);if(!f)return null;var p=function(y,h){return{x:y.x,y:y.y,value:y.value,errorVal:xt(y.payload,h)}},m={clipPath:n?"url(#clipPath-".concat(s,")"):null};return W.createElement(_e,m,f.map(function(x){return W.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=he(this.props,!1),p=he(c,!0),m=u.map(function(y,h){var v=lr(lr(lr({key:"dot-".concat(h),r:3},f),p),{},{index:h,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return t.renderDotItem(c,v)}),x={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return W.createElement(_e,El({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=S2(l,Aae),p=lr(lr(lr({},he(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return W.createElement(Tf,El({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,p=o.animationEasing,m=o.animationId,x=o.animateNewValues,y=o.width,h=o.height,v=this.state,g=v.prevPoints,j=v.totalLength;return W.createElement(vn,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var N=S.t;if(g){var w=g.length/l.length,C=l.map(function(O,F){var B=Math.floor(F*w);if(g[B]){var R=g[B],z=pr(R.x,O.x),G=pr(R.y,O.y);return lr(lr({},O),{},{x:z(N),y:G(N)})}if(x){var I=pr(y*2,O.x),T=pr(h/2,O.y);return lr(lr({},O),{},{x:I(N),y:T(N)})}return lr(lr({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(C,n,s)}var _=pr(0,j),P=_(N),k;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});k=i.getStrokeDasharray(P,j,$)}else k=i.generateSimpleStrokeDasharray(j,P);return i.renderCurveStatically(l,n,s,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!nu(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,p=s.left,m=s.width,x=s.height,y=s.isAnimationActive,h=s.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,g=l.length===1,j=be("recharts-line",c),S=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,w=S||N,C=je(h)?this.id:h,_=(n=he(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=_.r,k=P===void 0?3:P,$=_.strokeWidth,O=$===void 0?2:$,F=lL(o)?o:{},B=F.clipDot,R=B===void 0?!0:B,z=k*2+O;return W.createElement(_e,{className:j},S||N?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(C)},W.createElement("rect",{x:S?p:p-m/2,y:N?f:f-x/2,width:S?m:m*2,height:N?x:x*2})),!R&&W.createElement("clipPath",{id:"clipPath-dots-".concat(C)},W.createElement("rect",{x:p-z/2,y:f-z/2,width:m+z,height:x+z}))):null,!g&&this.renderCurve(w,C),this.renderErrorBar(w,C),(g||o)&&this.renderDots(w,R,C),(!y||v)&&Fn.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(Xs(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(Xs(o),Xs(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(W.isValidElement(n))i=W.cloneElement(n,s);else if(ve(n))i=n(s);else{var o=s.key,l=S2(s,Eae),c=be("recharts-line-dot",typeof n!="boolean"?n.className:"");i=W.createElement(hh,El({key:o},l,{className:c}))}return i}}])}(b.PureComponent);Gr(Io,"displayName","Line");Gr(Io,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Bs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Gr(Io,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(p,m){var x=xt(p,o);return d==="horizontal"?{x:Z1({axis:r,ticks:s,bandSize:l,entry:p,index:m}),y:je(x)?null:n.scale(x),value:x,payload:p}:{x:je(x)?null:r.scale(x),y:Z1({axis:n,ticks:i,bandSize:l,entry:p,index:m}),value:x,payload:p}});return lr({points:f,layout:d},u)});function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function Hae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BP(n.key),n)}}function Vae(e,t,r){return t&&qae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gae(e,t,r){return t=ep(t),Kae(e,LP()?Reflect.construct(t,r||[],ep(e).constructor):t.apply(e,r))}function Kae(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yae(e)}function Yae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(e)}function Xae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b0(e,t)}function b0(e,t){return b0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},b0(e,t)}function FP(e,t,r){return t=BP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BP(e){var t=Qae(e,"string");return io(t)=="symbol"?t:t+""}function Qae(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j0.apply(this,arguments)}function Jae(e){var t=e.xAxisId,r=Fv(),n=Bv(),s=SP(t);return s==null?null:b.createElement(Ro,j0({},s,{className:be("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Dn(o,!0)}}))}var Ta=function(e){function t(){return Hae(this,t),Gae(this,t,arguments)}return Xae(t,e),Vae(t,[{key:"render",value:function(){return b.createElement(Jae,this.props)}}])}(b.Component);FP(Ta,"displayName","XAxis");FP(Ta,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function Zae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ese(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WP(n.key),n)}}function tse(e,t,r){return t&&ese(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rse(e,t,r){return t=tp(t),nse(e,UP()?Reflect.construct(t,r||[],tp(e).constructor):t.apply(e,r))}function nse(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ase(e)}function ase(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UP=function(){return!!e})()}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(e)}function sse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w0(e,t)}function w0(e,t){return w0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},w0(e,t)}function zP(e,t,r){return t=WP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WP(e){var t=ise(e,"string");return oo(t)=="symbol"?t:t+""}function ise(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(this,arguments)}var ose=function(t){var r=t.yAxisId,n=Fv(),s=Bv(),i=_P(r);return i==null?null:b.createElement(Ro,N0({},i,{className:be("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Dn(l,!0)}}))},$a=function(e){function t(){return Zae(this,t),rse(this,t,arguments)}return sse(t,e),tse(t,[{key:"render",value:function(){return b.createElement(ose,this.props)}}])}(b.Component);zP($a,"displayName","YAxis");zP($a,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function C2(e){return dse(e)||use(e)||cse(e)||lse()}function lse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cse(e,t){if(e){if(typeof e=="string")return S0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S0(e,t)}}function use(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dse(e){if(Array.isArray(e))return S0(e)}function S0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _0=function(t,r,n,s,i){var o=vr(t,zv),l=vr(t,Nh),c=[].concat(C2(o),C2(l)),u=vr(t,_h),d="".concat(s,"Id"),f=s[0],p=r;if(c.length&&(p=c.reduce(function(y,h){if(h.props[d]===n&&fn(h.props,"extendDomain")&&oe(h.props[f])){var v=h.props[f];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},p)),u.length){var m="".concat(f,"1"),x="".concat(f,"2");p=u.reduce(function(y,h){if(h.props[d]===n&&fn(h.props,"extendDomain")&&oe(h.props[m])&&oe(h.props[x])){var v=h.props[m],g=h.props[x];return[Math.min(y[0],v,g),Math.max(y[1],v,g)]}return y},p)}return i&&i.length&&(p=i.reduce(function(y,h){return oe(h)?[Math.min(y[0],h),Math.max(y[1],h)]:y},p)),p},HP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,p),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,x=new Array(m);p<m;p++)x[p]=f[p].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,p,m,x){var y=r?r+u:u;if(!this._events[y])return!1;var h=this._events[y],v=arguments.length,g,j;if(h.fn){switch(h.once&&this.removeListener(u,h.fn,void 0,!0),v){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,d),!0;case 3:return h.fn.call(h.context,d,f),!0;case 4:return h.fn.call(h.context,d,f,p),!0;case 5:return h.fn.call(h.context,d,f,p,m),!0;case 6:return h.fn.call(h.context,d,f,p,m,x),!0}for(j=1,g=new Array(v-1);j<v;j++)g[j-1]=arguments[j];h.fn.apply(h.context,g)}else{var S=h.length,N;for(j=0;j<S;j++)switch(h[j].once&&this.removeListener(u,h[j].fn,void 0,!0),v){case 1:h[j].fn.call(h[j].context);break;case 2:h[j].fn.call(h[j].context,d);break;case 3:h[j].fn.call(h[j].context,d,f);break;case 4:h[j].fn.call(h[j].context,d,f,p);break;default:if(!g)for(N=1,g=new Array(v-1);N<v;N++)g[N-1]=arguments[N];h[j].fn.apply(h[j].context,g)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,p){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===d&&(!p||x.once)&&(!f||x.context===f)&&o(this,m);else{for(var y=0,h=[],v=x.length;y<v;y++)(x[y].fn!==d||p&&!x[y].once||f&&x[y].context!==f)&&h.push(x[y]);h.length?this._events[m]=h.length===1?h[0]:h:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(HP);var fse=HP.exports;const pse=Te(fse);var Mm=new pse,Dm="recharts.syncMouseEvents";function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function hse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qP(n.key),n)}}function xse(e,t,r){return t&&mse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rm(e,t,r){return t=qP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qP(e){var t=gse(e,"string");return Mc(t)=="symbol"?t:t+""}function gse(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yse=function(){function e(){hse(this,e),Rm(this,"activeIndex",0),Rm(this,"coordinateList",[]),Rm(this,"layout","horizontal")}return xse(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,p=r.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,p=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function vse(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&oe(n)&&oe(s))return!0}return!1}function bse(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function VP(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Be(t,r,n,s),l=Be(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function jse(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,p=Be(l,c,u,f),m=Be(l,c,d,f);n=p.x,s=p.y,i=m.x,o=m.y}else return VP(t);return[{x:n,y:s},{x:i,y:o}]}function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function O2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(r),!0).forEach(function(n){wse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wse(e,t,r){return t=Nse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nse(e){var t=Sse(e,"string");return Dc(t)=="symbol"?t:t+""}function Sse(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _se(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||p!=="ScatterChart"&&s!=="axis")return null;var x,y=Tf;if(p==="ScatterChart")x=o,y=WZ;else if(p==="BarChart")x=bse(f,o,c,d),y=Dv;else if(f==="radial"){var h=VP(o),v=h.cx,g=h.cy,j=h.radius,S=h.startAngle,N=h.endAngle;x={cx:v,cy:g,startAngle:S,endAngle:N,innerRadius:j,outerRadius:j},y=zO}else x={points:jse(f,o,c)},y=Tf;var w=Vu(Vu(Vu(Vu({stroke:"#ccc",pointerEvents:"none"},c),x),he(m,!1)),{},{payload:l,payloadIndex:u,className:be("recharts-tooltip-cursor",m.className)});return b.isValidElement(m)?b.cloneElement(m,w):b.createElement(y,w)}var kse=["item"],Cse=["children","className","width","height","style","compact","title","desc"];function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mi.apply(this,arguments)}function P2(e,t){return Ase(e)||Pse(e,t)||KP(e,t)||Ose()}function Ose(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ase(e){if(Array.isArray(e))return e}function A2(e,t){if(e==null)return{};var r=Ese(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ese(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YP(n.key),n)}}function Mse(e,t,r){return t&&$se(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dse(e,t,r){return t=rp(t),Rse(e,GP()?Reflect.construct(t,r||[],rp(e).constructor):t.apply(e,r))}function Rse(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ise(e)}function Ise(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GP=function(){return!!e})()}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rp(e)}function Lse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k0(e,t)}function k0(e,t){return k0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},k0(e,t)}function co(e){return Use(e)||Bse(e)||KP(e)||Fse()}function Fse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KP(e,t){if(e){if(typeof e=="string")return C0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C0(e,t)}}function Bse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Use(e){if(Array.isArray(e))return C0(e)}function C0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(n){ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ge(e,t,r){return t=YP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YP(e){var t=zse(e,"string");return lo(t)=="symbol"?t:t+""}function zse(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wse={xAxis:["bottom","top"],yAxis:["left","right"]},Hse={width:"100%",height:"100%"},XP={x:0,y:0};function Gu(e){return e}var qse=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Vse=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return ee(ee(ee({},s),Be(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return ee(ee(ee({},s),Be(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return XP},kh=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(co(l),co(u)):l},[]);return o.length>0?o:t&&t.length&&oe(s)&&oe(i)?t.slice(s,i+1):[]};function QP(e){return e==="number"?[0,"auto"]:void 0}var O0=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=kh(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;p=Zd(m,o.dataKey,s)}else p=f&&f[n]||l[n];return p?[].concat(co(c),[RO(u,p)]):c},[])},T2=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=qse(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=cX(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=O0(t,r,d,f),m=Vse(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:m}}return null},Gse=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=t.stackOffset,m=AO(d,i);return n.reduce(function(x,y){var h,v=y.type.defaultProps!==void 0?ee(ee({},y.type.defaultProps),y.props):y.props,g=v.type,j=v.dataKey,S=v.allowDataOverflow,N=v.allowDuplicatedCategory,w=v.scale,C=v.ticks,_=v.includeHidden,P=v[o];if(x[P])return x;var k=kh(t.data,{graphicalItems:s.filter(function(L){var A,H=o in L.props?L.props[o]:(A=L.type.defaultProps)===null||A===void 0?void 0:A[o];return H===P}),dataStartIndex:c,dataEndIndex:u}),$=k.length,O,F,B;vse(v.domain,S,g)&&(O=zg(v.domain,null,S),m&&(g==="number"||w!=="auto")&&(B=Cl(k,j,"category")));var R=QP(g);if(!O||O.length===0){var z,G=(z=v.domain)!==null&&z!==void 0?z:R;if(j){if(O=Cl(k,j,g),g==="category"&&m){var I=JI(O);N&&I?(F=O,O=Wf(0,$)):N||(O=nN(G,O,y).reduce(function(L,A){return L.indexOf(A)>=0?L:[].concat(co(L),[A])},[]))}else if(g==="category")N?O=O.filter(function(L){return L!==""&&!je(L)}):O=nN(G,O,y).reduce(function(L,A){return L.indexOf(A)>=0||A===""||je(A)?L:[].concat(co(L),[A])},[]);else if(g==="number"){var T=hX(k,s.filter(function(L){var A,H,te=o in L.props?L.props[o]:(A=L.type.defaultProps)===null||A===void 0?void 0:A[o],K="hide"in L.props?L.props.hide:(H=L.type.defaultProps)===null||H===void 0?void 0:H.hide;return te===P&&(_||!K)}),j,i,d);T&&(O=T)}m&&(g==="number"||w!=="auto")&&(B=Cl(k,j,"category"))}else m?O=Wf(0,$):l&&l[P]&&l[P].hasStack&&g==="number"?O=p==="expand"?[0,1]:DO(l[P].stackGroups,c,u):O=PO(k,s.filter(function(L){var A=o in L.props?L.props[o]:L.type.defaultProps[o],H="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return A===P&&(_||!H)}),g,d,!0);if(g==="number")O=_0(f,O,P,i,C),G&&(O=zg(G,O,S));else if(g==="category"&&G){var E=G,U=O.every(function(L){return E.indexOf(L)>=0});U&&(O=E)}}return ee(ee({},x),{},ge({},P,ee(ee({},v),{},{axisType:i,domain:O,categoricalDomain:B,duplicateDomain:F,originalDomain:(h=v.domain)!==null&&h!==void 0?h:R,isCategorical:m,layout:d})))},{})},Kse=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,p=kh(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=p.length,x=AO(d,i),y=-1;return n.reduce(function(h,v){var g=v.type.defaultProps!==void 0?ee(ee({},v.type.defaultProps),v.props):v.props,j=g[o],S=QP("number");if(!h[j]){y++;var N;return x?N=Wf(0,m):l&&l[j]&&l[j].hasStack?(N=DO(l[j].stackGroups,c,u),N=_0(f,N,j,i)):(N=zg(S,PO(p,n.filter(function(w){var C,_,P=o in w.props?w.props[o]:(C=w.type.defaultProps)===null||C===void 0?void 0:C[o],k="hide"in w.props?w.props.hide:(_=w.type.defaultProps)===null||_===void 0?void 0:_.hide;return P===j&&!k}),"number",d),s.defaultProps.allowDataOverflow),N=_0(f,N,j,i)),ee(ee({},h),{},ge({},j,ee(ee({axisType:i},s.defaultProps),{},{hide:!0,orientation:yr(Wse,"".concat(i,".").concat(y%2),null),domain:N,originalDomain:S,isCategorical:x,layout:d})))}return h},{})},Yse=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),p=vr(d,i),m={};return p&&p.length?m=Gse(t,{axes:p,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=Kse(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},Xse=function(t){var r=fa(t),n=Dn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:lv(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Pf(r,n)}},$2=function(t){var r=t.children,n=t.defaultShowTooltip,s=fr(r,Zi),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Qse=function(t){return!t||!t.length?!1:t.some(function(r){var n=In(r&&r.type);return n&&n.indexOf("Bar")>=0})},M2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Jse=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,p=n.margin||{},m=fr(f,Zi),x=fr(f,_i),y=Object.keys(c).reduce(function(N,w){var C=c[w],_=C.orientation;return!C.mirror&&!C.hide?ee(ee({},N),{},ge({},_,N[_]+C.width)):N},{left:p.left||0,right:p.right||0}),h=Object.keys(o).reduce(function(N,w){var C=o[w],_=C.orientation;return!C.mirror&&!C.hide?ee(ee({},N),{},ge({},_,yr(N,"".concat(_))+C.height)):N},{top:p.top||0,bottom:p.bottom||0}),v=ee(ee({},h),y),g=v.bottom;m&&(v.bottom+=m.props.height||Zi.defaultProps.height),x&&r&&(v=fX(v,s,n,r));var j=u-v.left-v.right,S=d-v.top-v.bottom;return ee(ee({brushBottom:g},v),{},{width:Math.max(j,0),height:Math.max(S,0)})},Zse=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},qv=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,p=function(v,g){var j=g.graphicalItems,S=g.stackGroups,N=g.offset,w=g.updateId,C=g.dataStartIndex,_=g.dataEndIndex,P=v.barSize,k=v.layout,$=v.barGap,O=v.barCategoryGap,F=v.maxBarSize,B=M2(k),R=B.numericAxisName,z=B.cateAxisName,G=Qse(j),I=[];return j.forEach(function(T,E){var U=kh(v.data,{graphicalItems:[T],dataStartIndex:C,dataEndIndex:_}),L=T.type.defaultProps!==void 0?ee(ee({},T.type.defaultProps),T.props):T.props,A=L.dataKey,H=L.maxBarSize,te=L["".concat(R,"Id")],K=L["".concat(z,"Id")],ue={},de=c.reduce(function(Pe,ze){var Br=g["".concat(ze.axisType,"Map")],Ha=L["".concat(ze.axisType,"Id")];Br&&Br[Ha]||ze.axisType==="zAxis"||As();var ea=Br[Ha];return ee(ee({},Pe),{},ge(ge({},ze.axisType,ea),"".concat(ze.axisType,"Ticks"),Dn(ea)))},ue),re=de[z],J=de["".concat(z,"Ticks")],V=S&&S[te]&&S[te].hasStack&&NX(T,S[te].stackGroups),D=In(T.type).indexOf("Bar")>=0,le=Pf(re,J),M=[],Y=G&&uX({barSize:P,stackGroups:S,totalSize:Zse(de,z)});if(D){var ae,xe,ot=je(H)?F:H,bt=(ae=(xe=Pf(re,J,!0))!==null&&xe!==void 0?xe:ot)!==null&&ae!==void 0?ae:0;M=dX({barGap:$,barCategoryGap:O,bandSize:bt!==le?bt:le,sizeList:Y[K],maxBarSize:ot}),bt!==le&&(M=M.map(function(Pe){return ee(ee({},Pe),{},{position:ee(ee({},Pe.position),{},{offset:Pe.position.offset-bt/2})})}))}var se=T&&T.type&&T.type.getComposedData;se&&I.push({props:ee(ee({},se(ee(ee({},de),{},{displayedData:U,props:v,dataKey:A,item:T,bandSize:le,barPosition:M,offset:N,stackedData:V,layout:k,dataStartIndex:C,dataEndIndex:_}))),{},ge(ge(ge({key:T.key||"item-".concat(E)},R,de[R]),z,de[z]),"animationId",w)),childIndex:dL(T,v.children),item:T})}),I},m=function(v,g){var j=v.props,S=v.dataStartIndex,N=v.dataEndIndex,w=v.updateId;if(!Xj({props:j}))return null;var C=j.children,_=j.layout,P=j.stackOffset,k=j.data,$=j.reverseStackOrder,O=M2(_),F=O.numericAxisName,B=O.cateAxisName,R=vr(C,n),z=jX(k,R,"".concat(F,"Id"),"".concat(B,"Id"),P,$),G=c.reduce(function(L,A){var H="".concat(A.axisType,"Map");return ee(ee({},L),{},ge({},H,Yse(j,ee(ee({},A),{},{graphicalItems:R,stackGroups:A.axisType===F&&z,dataStartIndex:S,dataEndIndex:N}))))},{}),I=Jse(ee(ee({},G),{},{props:j,graphicalItems:R}),g==null?void 0:g.legendBBox);Object.keys(G).forEach(function(L){G[L]=d(j,G[L],I,L.replace("Map",""),r)});var T=G["".concat(B,"Map")],E=Xse(T),U=p(j,ee(ee({},G),{},{dataStartIndex:S,dataEndIndex:N,updateId:w,graphicalItems:R,stackGroups:z,offset:I}));return ee(ee({formattedGraphicalItems:U,graphicalItems:R,offset:I,stackGroups:z},E),G)},x=function(h){function v(g){var j,S,N;return Tse(this,v),N=Dse(this,v,[g]),ge(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ge(N,"accessibilityManager",new yse),ge(N,"handleLegendBBoxUpdate",function(w){if(w){var C=N.state,_=C.dataStartIndex,P=C.dataEndIndex,k=C.updateId;N.setState(ee({legendBBox:w},m({props:N.props,dataStartIndex:_,dataEndIndex:P,updateId:k},ee(ee({},N.state),{},{legendBBox:w}))))}}),ge(N,"handleReceiveSyncEvent",function(w,C,_){if(N.props.syncId===w){if(_===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(C)}}),ge(N,"handleBrushChange",function(w){var C=w.startIndex,_=w.endIndex;if(C!==N.state.dataStartIndex||_!==N.state.dataEndIndex){var P=N.state.updateId;N.setState(function(){return ee({dataStartIndex:C,dataEndIndex:_},m({props:N.props,dataStartIndex:C,dataEndIndex:_,updateId:P},N.state))}),N.triggerSyncEvent({dataStartIndex:C,dataEndIndex:_})}}),ge(N,"handleMouseEnter",function(w){var C=N.getMouseInfo(w);if(C){var _=ee(ee({},C),{},{isTooltipActive:!0});N.setState(_),N.triggerSyncEvent(_);var P=N.props.onMouseEnter;ve(P)&&P(_,w)}}),ge(N,"triggeredAfterMouseMove",function(w){var C=N.getMouseInfo(w),_=C?ee(ee({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(_),N.triggerSyncEvent(_);var P=N.props.onMouseMove;ve(P)&&P(_,w)}),ge(N,"handleItemMouseEnter",function(w){N.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),ge(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),ge(N,"handleMouseMove",function(w){w.persist(),N.throttleTriggeredAfterMouseMove(w)}),ge(N,"handleMouseLeave",function(w){N.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var _=N.props.onMouseLeave;ve(_)&&_(C,w)}),ge(N,"handleOuterEvent",function(w){var C=uL(w),_=yr(N.props,"".concat(C));if(C&&ve(_)){var P,k;/.*touch.*/i.test(C)?k=N.getMouseInfo(w.changedTouches[0]):k=N.getMouseInfo(w),_((P=k)!==null&&P!==void 0?P:{},w)}}),ge(N,"handleClick",function(w){var C=N.getMouseInfo(w);if(C){var _=ee(ee({},C),{},{isTooltipActive:!0});N.setState(_),N.triggerSyncEvent(_);var P=N.props.onClick;ve(P)&&P(_,w)}}),ge(N,"handleMouseDown",function(w){var C=N.props.onMouseDown;if(ve(C)){var _=N.getMouseInfo(w);C(_,w)}}),ge(N,"handleMouseUp",function(w){var C=N.props.onMouseUp;if(ve(C)){var _=N.getMouseInfo(w);C(_,w)}}),ge(N,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),ge(N,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&N.handleMouseDown(w.changedTouches[0])}),ge(N,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&N.handleMouseUp(w.changedTouches[0])}),ge(N,"handleDoubleClick",function(w){var C=N.props.onDoubleClick;if(ve(C)){var _=N.getMouseInfo(w);C(_,w)}}),ge(N,"handleContextMenu",function(w){var C=N.props.onContextMenu;if(ve(C)){var _=N.getMouseInfo(w);C(_,w)}}),ge(N,"triggerSyncEvent",function(w){N.props.syncId!==void 0&&Mm.emit(Dm,N.props.syncId,w,N.eventEmitterSymbol)}),ge(N,"applySyncEvent",function(w){var C=N.props,_=C.layout,P=C.syncMethod,k=N.state.updateId,$=w.dataStartIndex,O=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)N.setState(ee({dataStartIndex:$,dataEndIndex:O},m({props:N.props,dataStartIndex:$,dataEndIndex:O,updateId:k},N.state)));else if(w.activeTooltipIndex!==void 0){var F=w.chartX,B=w.chartY,R=w.activeTooltipIndex,z=N.state,G=z.offset,I=z.tooltipTicks;if(!G)return;if(typeof P=="function")R=P(I,w);else if(P==="value"){R=-1;for(var T=0;T<I.length;T++)if(I[T].value===w.activeLabel){R=T;break}}var E=ee(ee({},G),{},{x:G.left,y:G.top}),U=Math.min(F,E.x+E.width),L=Math.min(B,E.y+E.height),A=I[R]&&I[R].value,H=O0(N.state,N.props.data,R),te=I[R]?{x:_==="horizontal"?I[R].coordinate:U,y:_==="horizontal"?L:I[R].coordinate}:XP;N.setState(ee(ee({},w),{},{activeLabel:A,activeCoordinate:te,activePayload:H,activeTooltipIndex:R}))}else N.setState(w)}),ge(N,"renderCursor",function(w){var C,_=N.state,P=_.isTooltipActive,k=_.activeCoordinate,$=_.activePayload,O=_.offset,F=_.activeTooltipIndex,B=_.tooltipAxisBandSize,R=N.getTooltipEventType(),z=(C=w.props.active)!==null&&C!==void 0?C:P,G=N.props.layout,I=w.key||"_recharts-cursor";return W.createElement(_se,{key:I,activeCoordinate:k,activePayload:$,activeTooltipIndex:F,chartName:r,element:w,isActive:z,layout:G,offset:O,tooltipAxisBandSize:B,tooltipEventType:R})}),ge(N,"renderPolarAxis",function(w,C,_){var P=yr(w,"type.axisType"),k=yr(N.state,"".concat(P,"Map")),$=w.type.defaultProps,O=$!==void 0?ee(ee({},$),w.props):w.props,F=k&&k[O["".concat(P,"Id")]];return b.cloneElement(w,ee(ee({},F),{},{className:be(P,F.className),key:w.key||"".concat(C,"-").concat(_),ticks:Dn(F,!0)}))}),ge(N,"renderPolarGrid",function(w){var C=w.props,_=C.radialLines,P=C.polarAngles,k=C.polarRadius,$=N.state,O=$.radiusAxisMap,F=$.angleAxisMap,B=fa(O),R=fa(F),z=R.cx,G=R.cy,I=R.innerRadius,T=R.outerRadius;return b.cloneElement(w,{polarAngles:Array.isArray(P)?P:Dn(R,!0).map(function(E){return E.coordinate}),polarRadius:Array.isArray(k)?k:Dn(B,!0).map(function(E){return E.coordinate}),cx:z,cy:G,innerRadius:I,outerRadius:T,key:w.key||"polar-grid",radialLines:_})}),ge(N,"renderLegend",function(){var w=N.state.formattedGraphicalItems,C=N.props,_=C.children,P=C.width,k=C.height,$=N.props.margin||{},O=P-($.left||0)-($.right||0),F=CO({children:_,formattedGraphicalItems:w,legendWidth:O,legendContent:u});if(!F)return null;var B=F.item,R=A2(F,kse);return b.cloneElement(B,ee(ee({},R),{},{chartWidth:P,chartHeight:k,margin:$,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),ge(N,"renderTooltip",function(){var w,C=N.props,_=C.children,P=C.accessibilityLayer,k=fr(_,zt);if(!k)return null;var $=N.state,O=$.isTooltipActive,F=$.activeCoordinate,B=$.activePayload,R=$.activeLabel,z=$.offset,G=(w=k.props.active)!==null&&w!==void 0?w:O;return b.cloneElement(k,{viewBox:ee(ee({},z),{},{x:z.left,y:z.top}),active:G,label:R,payload:G?B:[],coordinate:F,accessibilityLayer:P})}),ge(N,"renderBrush",function(w){var C=N.props,_=C.margin,P=C.data,k=N.state,$=k.offset,O=k.dataStartIndex,F=k.dataEndIndex,B=k.updateId;return b.cloneElement(w,{key:w.key||"_recharts-brush",onChange:zu(N.handleBrushChange,w.props.onChange),data:P,x:oe(w.props.x)?w.props.x:$.left,y:oe(w.props.y)?w.props.y:$.top+$.height+$.brushBottom-(_.bottom||0),width:oe(w.props.width)?w.props.width:$.width,startIndex:O,endIndex:F,updateId:"brush-".concat(B)})}),ge(N,"renderReferenceElement",function(w,C,_){if(!w)return null;var P=N,k=P.clipPathId,$=N.state,O=$.xAxisMap,F=$.yAxisMap,B=$.offset,R=w.type.defaultProps||{},z=w.props,G=z.xAxisId,I=G===void 0?R.xAxisId:G,T=z.yAxisId,E=T===void 0?R.yAxisId:T;return b.cloneElement(w,{key:w.key||"".concat(C,"-").concat(_),xAxis:O[I],yAxis:F[E],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:k})}),ge(N,"renderActivePoints",function(w){var C=w.item,_=w.activePoint,P=w.basePoint,k=w.childIndex,$=w.isRange,O=[],F=C.props.key,B=C.item.type.defaultProps!==void 0?ee(ee({},C.item.type.defaultProps),C.item.props):C.item.props,R=B.activeDot,z=B.dataKey,G=ee(ee({index:k,dataKey:z,cx:_.x,cy:_.y,r:4,fill:Mv(C.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},he(R,!1)),ef(R));return O.push(v.renderActiveDot(R,G,"".concat(F,"-activePoint-").concat(k))),P?O.push(v.renderActiveDot(R,ee(ee({},G),{},{cx:P.x,cy:P.y}),"".concat(F,"-basePoint-").concat(k))):$&&O.push(null),O}),ge(N,"renderGraphicChild",function(w,C,_){var P=N.filterFormatItem(w,C,_);if(!P)return null;var k=N.getTooltipEventType(),$=N.state,O=$.isTooltipActive,F=$.tooltipAxis,B=$.activeTooltipIndex,R=$.activeLabel,z=N.props.children,G=fr(z,zt),I=P.props,T=I.points,E=I.isRange,U=I.baseLine,L=P.item.type.defaultProps!==void 0?ee(ee({},P.item.type.defaultProps),P.item.props):P.item.props,A=L.activeDot,H=L.hide,te=L.activeBar,K=L.activeShape,ue=!!(!H&&O&&G&&(A||te||K)),de={};k!=="axis"&&G&&G.props.trigger==="click"?de={onClick:zu(N.handleItemMouseEnter,w.props.onClick)}:k!=="axis"&&(de={onMouseLeave:zu(N.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:zu(N.handleItemMouseEnter,w.props.onMouseEnter)});var re=b.cloneElement(w,ee(ee({},P.props),de));function J(ze){return typeof F.dataKey=="function"?F.dataKey(ze.payload):null}if(ue)if(B>=0){var V,D;if(F.dataKey&&!F.allowDuplicatedCategory){var le=typeof F.dataKey=="function"?J:"payload.".concat(F.dataKey.toString());V=Zd(T,le,R),D=E&&U&&Zd(U,le,R)}else V=T==null?void 0:T[B],D=E&&U&&U[B];if(K||te){var M=w.props.activeIndex!==void 0?w.props.activeIndex:B;return[b.cloneElement(w,ee(ee(ee({},P.props),de),{},{activeIndex:M})),null,null]}if(!je(V))return[re].concat(co(N.renderActivePoints({item:P,activePoint:V,basePoint:D,childIndex:B,isRange:E})))}else{var Y,ae=(Y=N.getItemByXY(N.state.activeCoordinate))!==null&&Y!==void 0?Y:{graphicalItem:re},xe=ae.graphicalItem,ot=xe.item,bt=ot===void 0?w:ot,se=xe.childIndex,Pe=ee(ee(ee({},P.props),de),{},{activeIndex:se});return[b.cloneElement(bt,Pe),null,null]}return E?[re,null,null]:[re,null]}),ge(N,"renderCustomized",function(w,C,_){return b.cloneElement(w,ee(ee({key:"recharts-customized-".concat(_)},N.props),N.state))}),ge(N,"renderMap",{CartesianGrid:{handler:Gu,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Gu},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Gu},YAxis:{handler:Gu},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((j=g.id)!==null&&j!==void 0?j:Po("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=CC(N.triggeredAfterMouseMove,(S=g.throttleDelay)!==null&&S!==void 0?S:1e3/60),N.state={},N}return Lse(v,h),Mse(v,[{key:"componentDidMount",value:function(){var j,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,S=j.children,N=j.data,w=j.height,C=j.layout,_=fr(S,zt);if(_){var P=_.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,$=O0(this.state,N,P,k),O=this.state.tooltipTicks[P].coordinate,F=(this.state.offset.top+w)/2,B=C==="horizontal",R=B?{x:O,y:F}:{y:O,x:F},z=this.state.formattedGraphicalItems.find(function(I){var T=I.item;return T.type.name==="Scatter"});z&&(R=ee(ee({},R),z.props.points[P].tooltipPosition),$=z.props.points[P].tooltipPayload);var G={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:$,activeCoordinate:R};this.setState(G),this.renderCursor(_),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var N,w;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(j){ng([fr(j.children,zt)],[fr(this.props.children,zt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=fr(this.props.children,zt);if(j&&typeof j.props.shared=="boolean"){var S=j.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var S=this.container,N=S.getBoundingClientRect(),w=Iq(N),C={chartX:Math.round(j.pageX-w.left),chartY:Math.round(j.pageY-w.top)},_=N.width/S.offsetWidth||1,P=this.inRange(C.chartX,C.chartY,_);if(!P)return null;var k=this.state,$=k.xAxisMap,O=k.yAxisMap,F=this.getTooltipEventType(),B=T2(this.state,this.props.data,this.props.layout,P);if(F!=="axis"&&$&&O){var R=fa($).scale,z=fa(O).scale,G=R&&R.invert?R.invert(C.chartX):null,I=z&&z.invert?z.invert(C.chartY):null;return ee(ee({},C),{},{xValue:G,yValue:I},B)}return B?ee(ee({},C),B):null}},{key:"inRange",value:function(j,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,C=j/N,_=S/N;if(w==="horizontal"||w==="vertical"){var P=this.state.offset,k=C>=P.left&&C<=P.left+P.width&&_>=P.top&&_<=P.top+P.height;return k?{x:C,y:_}:null}var $=this.state,O=$.angleAxisMap,F=$.radiusAxisMap;if(O&&F){var B=fa(O);return iN({x:C,y:_},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,S=this.getTooltipEventType(),N=fr(j,zt),w={};N&&S==="axis"&&(N.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=ef(this.props,this.handleOuterEvent);return ee(ee({},C),w)}},{key:"addListener",value:function(){Mm.on(Dm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Mm.removeListener(Dm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,S,N){for(var w=this.state.formattedGraphicalItems,C=0,_=w.length;C<_;C++){var P=w[C];if(P.item===j||P.props.key===j.key||S===In(P.item.type)&&N===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,S=this.state.offset,N=S.left,w=S.top,C=S.height,_=S.width;return W.createElement("defs",null,W.createElement("clipPath",{id:j},W.createElement("rect",{x:N,y:w,height:C,width:_})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(S,N){var w=P2(N,2),C=w[0],_=w[1];return ee(ee({},S),{},ge({},C,_.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(S,N){var w=P2(N,2),C=w[0],_=w[1];return ee(ee({},S),{},ge({},C,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(j){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(j){var S=this.state,N=S.formattedGraphicalItems,w=S.activeItem;if(N&&N.length)for(var C=0,_=N.length;C<_;C++){var P=N[C],k=P.props,$=P.item,O=$.type.defaultProps!==void 0?ee(ee({},$.type.defaultProps),$.props):$.props,F=In($.type);if(F==="Bar"){var B=(k.data||[]).find(function(I){return NZ(j,I)});if(B)return{graphicalItem:P,payload:B}}else if(F==="RadialBar"){var R=(k.data||[]).find(function(I){return iN(j,I)});if(R)return{graphicalItem:P,payload:R}}else if(vh(P,w)||bh(P,w)||Oc(P,w)){var z=dte({graphicalItem:P,activeTooltipItem:w,itemData:O.data}),G=O.activeIndex===void 0?z:O.activeIndex;return{graphicalItem:ee(ee({},P),{},{childIndex:G}),payload:Oc(P,w)?O.data[z]:P.props.data[z]}}}return null}},{key:"render",value:function(){var j=this;if(!Xj(this))return null;var S=this.props,N=S.children,w=S.className,C=S.width,_=S.height,P=S.style,k=S.compact,$=S.title,O=S.desc,F=A2(S,Cse),B=he(F,!1);if(k)return W.createElement(d2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(sg,mi({},B,{width:C,height:_,title:$,desc:O}),this.renderClipPath(),Jj(N,this.renderMap)));if(this.props.accessibilityLayer){var R,z;B.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,B.role=(z=this.props.role)!==null&&z!==void 0?z:"application",B.onKeyDown=function(I){j.accessibilityManager.keyboardEvent(I)},B.onFocus=function(){j.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return W.createElement(d2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",mi({className:be("recharts-wrapper",w),style:ee({position:"relative",cursor:"default",width:C,height:_},P)},G,{ref:function(T){j.container=T}}),W.createElement(sg,mi({},B,{width:C,height:_,title:$,desc:O,style:Hse}),this.renderClipPath(),Jj(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);ge(x,"displayName",r),ge(x,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ge(x,"getDerivedStateFromProps",function(h,v){var g=h.dataKey,j=h.data,S=h.children,N=h.width,w=h.height,C=h.layout,_=h.stackOffset,P=h.margin,k=v.dataStartIndex,$=v.dataEndIndex;if(v.updateId===void 0){var O=$2(h);return ee(ee(ee({},O),{},{updateId:0},m(ee(ee({props:h},O),{},{updateId:0}),v)),{},{prevDataKey:g,prevData:j,prevWidth:N,prevHeight:w,prevLayout:C,prevStackOffset:_,prevMargin:P,prevChildren:S})}if(g!==v.prevDataKey||j!==v.prevData||N!==v.prevWidth||w!==v.prevHeight||C!==v.prevLayout||_!==v.prevStackOffset||!Si(P,v.prevMargin)){var F=$2(h),B={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},R=ee(ee({},T2(v,j,C)),{},{updateId:v.updateId+1}),z=ee(ee(ee({},F),B),R);return ee(ee(ee({},z),m(ee({props:h},z),v)),{},{prevDataKey:g,prevData:j,prevWidth:N,prevHeight:w,prevLayout:C,prevStackOffset:_,prevMargin:P,prevChildren:S})}if(!ng(S,v.prevChildren)){var G,I,T,E,U=fr(S,Zi),L=U&&(G=(I=U.props)===null||I===void 0?void 0:I.startIndex)!==null&&G!==void 0?G:k,A=U&&(T=(E=U.props)===null||E===void 0?void 0:E.endIndex)!==null&&T!==void 0?T:$,H=L!==k||A!==$,te=!je(j),K=te&&!H?v.updateId:v.updateId+1;return ee(ee({updateId:K},m(ee(ee({props:h},v),{},{updateId:K,dataStartIndex:L,dataEndIndex:A}),v)),{},{prevChildren:S,dataStartIndex:L,dataEndIndex:A})}return null}),ge(x,"renderActiveDot",function(h,v,g){var j;return b.isValidElement(h)?j=b.cloneElement(h,v):ve(h)?j=h(v):j=W.createElement(hh,v),W.createElement(_e,{className:"recharts-active-dot",key:g},j)});var y=b.forwardRef(function(v,g){return W.createElement(x,mi({},v,{ref:g}))});return y.displayName=x.displayName,y},JP=qv({chartName:"LineChart",GraphicalChild:Io,axisComponents:[{axisType:"xAxis",AxisComp:Ta},{axisType:"yAxis",AxisComp:$a}],formatAxisMap:xP}),ZP=qv({chartName:"BarChart",GraphicalChild:Wa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ta},{axisType:"yAxis",AxisComp:$a}],formatAxisMap:xP}),D2=qv({chartName:"PieChart",GraphicalChild:bn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:yh},{axisType:"radiusAxis",AxisComp:xh}],formatAxisMap:$X,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function Ts(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ke(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ue(e){Ke(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||np(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function eie(e,t){Ke(2,arguments);var r=Ue(e).getTime(),n=Ts(t);return new Date(r+n)}var tie={};function su(){return tie}function P0(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function jd(e,t){Ke(2,arguments);var r=Ue(e),n=Ue(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function rie(e){return Ke(1,arguments),e instanceof Date||np(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nie(e){if(Ke(1,arguments),!rie(e)&&typeof e!="number")return!1;var t=Ue(e);return!isNaN(Number(t))}function aie(e,t){Ke(2,arguments);var r=Ue(e),n=Ue(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function sie(e,t){return Ke(2,arguments),Ue(e).getTime()-Ue(t).getTime()}var iie={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},oie="trunc";function lie(e){return iie[oie]}function cie(e){Ke(1,arguments);var t=Ue(e);return t.setHours(23,59,59,999),t}function uie(e){Ke(1,arguments);var t=Ue(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function die(e){Ke(1,arguments);var t=Ue(e);return cie(t).getTime()===uie(t).getTime()}function fie(e,t){Ke(2,arguments);var r=Ue(e),n=Ue(t),s=jd(r,n),i=Math.abs(aie(r,n)),o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);var l=jd(r,n)===-s;die(Ue(e))&&i===1&&jd(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function pie(e,t,r){Ke(2,arguments);var n=sie(e,t)/1e3;return lie()(n)}function hie(e,t){Ke(2,arguments);var r=Ts(t);return eie(e,-r)}var mie=864e5;function xie(e){Ke(1,arguments);var t=Ue(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),s=r-n;return Math.floor(s/mie)+1}function ap(e){Ke(1,arguments);var t=1,r=Ue(e),n=r.getUTCDay(),s=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function eA(e){Ke(1,arguments);var t=Ue(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=ap(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=ap(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function gie(e){Ke(1,arguments);var t=eA(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=ap(r);return n}var yie=6048e5;function vie(e){Ke(1,arguments);var t=Ue(e),r=ap(t).getTime()-gie(t).getTime();return Math.round(r/yie)+1}function sp(e,t){var r,n,s,i,o,l,c,u;Ke(1,arguments);var d=su(),f=Ts((r=(n=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ue(e),m=p.getUTCDay(),x=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-x),p.setUTCHours(0,0,0,0),p}function tA(e,t){var r,n,s,i,o,l,c,u;Ke(1,arguments);var d=Ue(e),f=d.getUTCFullYear(),p=su(),m=Ts((r=(n=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:p.firstWeekContainsDate)!==null&&n!==void 0?n:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(f+1,0,m),x.setUTCHours(0,0,0,0);var y=sp(x,t),h=new Date(0);h.setUTCFullYear(f,0,m),h.setUTCHours(0,0,0,0);var v=sp(h,t);return d.getTime()>=y.getTime()?f+1:d.getTime()>=v.getTime()?f:f-1}function bie(e,t){var r,n,s,i,o,l,c,u;Ke(1,arguments);var d=su(),f=Ts((r=(n=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),p=tA(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var x=sp(m,t);return x}var jie=6048e5;function wie(e,t){Ke(1,arguments);var r=Ue(e),n=sp(r,t).getTime()-bie(r,t).getTime();return Math.round(n/jie)+1}function Ae(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var na={y:function(t,r){var n=t.getUTCFullYear(),s=n>0?n:1-n;return Ae(r==="yy"?s%100:s,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Ae(n+1,2)},d:function(t,r){return Ae(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Ae(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Ae(t.getUTCHours(),r.length)},m:function(t,r){return Ae(t.getUTCMinutes(),r.length)},s:function(t,r){return Ae(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,n-3));return Ae(i,r.length)}},Qs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nie={G:function(t,r,n){var s=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return na.y(t,r)},Y:function(t,r,n,s){var i=tA(t,s),o=i>0?i:1-i;if(r==="YY"){var l=o%100;return Ae(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ae(o,r.length)},R:function(t,r){var n=eA(t);return Ae(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Ae(n,r.length)},Q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return Ae(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return Ae(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){var s=t.getUTCMonth();switch(r){case"M":case"MM":return na.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){var s=t.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return Ae(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){var i=wie(t,s);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Ae(i,r.length)},I:function(t,r,n){var s=vie(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):Ae(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):na.d(t,r)},D:function(t,r,n){var s=xie(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ae(s,r.length)},E:function(t,r,n){var s=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Ae(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){var i=t.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Ae(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var s=t.getUTCDay(),i=s===0?7:s;switch(r){case"i":return String(i);case"ii":return Ae(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var s=t.getUTCHours(),i;switch(s===12?i=Qs.noon:s===0?i=Qs.midnight:i=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var s=t.getUTCHours(),i;switch(s>=17?i=Qs.evening:s>=12?i=Qs.afternoon:s>=4?i=Qs.morning:i=Qs.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return na.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):na.H(t,r)},K:function(t,r,n){var s=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ae(s,r.length)},k:function(t,r,n){var s=t.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ae(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):na.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):na.s(t,r)},S:function(t,r){return na.S(t,r)},X:function(t,r,n,s){var i=s._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return I2(o);case"XXXX":case"XX":return rs(o);case"XXXXX":case"XXX":default:return rs(o,":")}},x:function(t,r,n,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return I2(o);case"xxxx":case"xx":return rs(o);case"xxxxx":case"xxx":default:return rs(o,":")}},O:function(t,r,n,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+R2(o,":");case"OOOO":default:return"GMT"+rs(o,":")}},z:function(t,r,n,s){var i=s._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+R2(o,":");case"zzzz":default:return"GMT"+rs(o,":")}},t:function(t,r,n,s){var i=s._originalDate||t,o=Math.floor(i.getTime()/1e3);return Ae(o,r.length)},T:function(t,r,n,s){var i=s._originalDate||t,o=i.getTime();return Ae(o,r.length)}};function R2(e,t){var r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),i=n%60;if(i===0)return r+String(s);var o=t;return r+String(s)+o+Ae(i,2)}function I2(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Ae(Math.abs(e)/60,2)}return rs(e,t)}function rs(e,t){var r=t||"",n=e>0?"-":"+",s=Math.abs(e),i=Ae(Math.floor(s/60),2),o=Ae(s%60,2);return n+i+r+o}var L2=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},rA=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Sie=function(t,r){var n=t.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return L2(t,r);var o;switch(s){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",L2(s,r)).replace("{{time}}",rA(i,r))},_ie={p:rA,P:Sie},kie=["D","DD"],Cie=["YY","YYYY"];function Oie(e){return kie.indexOf(e)!==-1}function Pie(e){return Cie.indexOf(e)!==-1}function F2(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Aie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Eie=function(t,r,n){var s,i=Aie[t];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Im(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Tie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$ie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Mie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Die={date:Im({formats:Tie,defaultWidth:"full"}),time:Im({formats:$ie,defaultWidth:"full"}),dateTime:Im({formats:Mie,defaultWidth:"full"})},Rie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Iie=function(t,r,n,s){return Rie[t]};function ol(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var Lie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Fie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Uie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hie=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},qie={ordinalNumber:Hie,era:ol({values:Lie,defaultWidth:"wide"}),quarter:ol({values:Fie,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ol({values:Bie,defaultWidth:"wide"}),day:ol({values:Uie,defaultWidth:"wide"}),dayPeriod:ol({values:zie,defaultWidth:"wide",formattingValues:Wie,defaultFormattingWidth:"wide"})};function ll(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Gie(l,function(f){return f.test(o)}):Vie(l,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function Vie(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Gie(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Kie(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(s.length);return{value:o,rest:l}}}var Yie=/^(\d+)(th|st|nd|rd)?/i,Xie=/\d+/i,Qie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jie={any:[/^b/i,/^(a|c)/i]},Zie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eoe={any:[/1/i,/2/i,/3/i,/4/i]},toe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},roe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},noe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aoe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},soe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ioe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ooe={ordinalNumber:Kie({matchPattern:Yie,parsePattern:Xie,valueCallback:function(t){return parseInt(t,10)}}),era:ll({matchPatterns:Qie,defaultMatchWidth:"wide",parsePatterns:Jie,defaultParseWidth:"any"}),quarter:ll({matchPatterns:Zie,defaultMatchWidth:"wide",parsePatterns:eoe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ll({matchPatterns:toe,defaultMatchWidth:"wide",parsePatterns:roe,defaultParseWidth:"any"}),day:ll({matchPatterns:noe,defaultMatchWidth:"wide",parsePatterns:aoe,defaultParseWidth:"any"}),dayPeriod:ll({matchPatterns:soe,defaultMatchWidth:"any",parsePatterns:ioe,defaultParseWidth:"any"})},nA={code:"en-US",formatDistance:Eie,formatLong:Die,formatRelative:Iie,localize:qie,match:ooe,options:{weekStartsOn:0,firstWeekContainsDate:1}},loe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,coe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uoe=/^'([^]*?)'?$/,doe=/''/g,foe=/[a-zA-Z]/;function Oe(e,t,r){var n,s,i,o,l,c,u,d,f,p,m,x,y,h;Ke(2,arguments);var v=String(t),g=su(),j=(n=(s=void 0)!==null&&s!==void 0?s:g.locale)!==null&&n!==void 0?n:nA,S=Ts((i=(o=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:g.firstWeekContainsDate)!==null&&o!==void 0?o:(u=g.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=Ts((f=(p=(m=(x=void 0)!==null&&x!==void 0?x:void 0)!==null&&m!==void 0?m:g.weekStartsOn)!==null&&p!==void 0?p:(y=g.locale)===null||y===void 0||(h=y.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&f!==void 0?f:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!j.localize)throw new RangeError("locale must contain localize property");if(!j.formatLong)throw new RangeError("locale must contain formatLong property");var w=Ue(e);if(!nie(w))throw new RangeError("Invalid time value");var C=P0(w),_=hie(w,C),P={firstWeekContainsDate:S,weekStartsOn:N,locale:j,_originalDate:w},k=v.match(coe).map(function($){var O=$[0];if(O==="p"||O==="P"){var F=_ie[O];return F($,j.formatLong)}return $}).join("").match(loe).map(function($){if($==="''")return"'";var O=$[0];if(O==="'")return poe($);var F=Nie[O];if(F)return Pie($)&&F2($,t,String(e)),Oie($)&&F2($,t,String(e)),F(_,$,j.localize,P);if(O.match(foe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return $}).join("");return k}function poe(e){var t=e.match(uoe);return t?t[1].replace(doe,"'"):e}function aA(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function hoe(e){return aA({},e)}var B2=1440,moe=2520,Lm=43200,xoe=86400;function goe(e,t,r){var n,s;Ke(2,arguments);var i=su(),o=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:i.locale)!==null&&n!==void 0?n:nA;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=jd(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=aA(hoe(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,d;l>0?(u=Ue(t),d=Ue(e)):(u=Ue(e),d=Ue(t));var f=pie(d,u),p=(P0(d)-P0(u))/1e3,m=Math.round((f-p)/60),x;if(m<2)return r!=null&&r.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,c):f<10?o.formatDistance("lessThanXSeconds",10,c):f<20?o.formatDistance("lessThanXSeconds",20,c):f<40?o.formatDistance("halfAMinute",0,c):f<60?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",1,c):m===0?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",m,c);if(m<45)return o.formatDistance("xMinutes",m,c);if(m<90)return o.formatDistance("aboutXHours",1,c);if(m<B2){var y=Math.round(m/60);return o.formatDistance("aboutXHours",y,c)}else{if(m<moe)return o.formatDistance("xDays",1,c);if(m<Lm){var h=Math.round(m/B2);return o.formatDistance("xDays",h,c)}else if(m<xoe)return x=Math.round(m/Lm),o.formatDistance("aboutXMonths",x,c)}if(x=fie(d,u),x<12){var v=Math.round(m/Lm);return o.formatDistance("xMonths",v,c)}else{var g=x%12,j=Math.floor(x/12);return g<3?o.formatDistance("aboutXYears",j,c):g<9?o.formatDistance("overXYears",j,c):o.formatDistance("almostXYears",j+1,c)}}function yoe(e,t){return Ke(1,arguments),goe(e,Date.now(),t)}const voe={totalRevenue:45230.5,totalOrders:1234,totalUsers:892,totalProducts:156,revenueChange:12.5,ordersChange:8.2,usersChange:15.3,productsChange:-2.4},boe=[{name:"Jan",sales:4e3,orders:240},{name:"Feb",sales:3e3,orders:198},{name:"Mar",sales:5e3,orders:300},{name:"Apr",sales:4500,orders:280},{name:"May",sales:6e3,orders:350},{name:"Jun",sales:5500,orders:320},{name:"Jul",sales:7e3,orders:400}],joe=[{id:1,orderNumber:"ORD-001",customer:"John Doe",amount:125.5,status:"completed",date:new Date},{id:2,orderNumber:"ORD-002",customer:"Jane Smith",amount:89.99,status:"pending",date:new Date},{id:3,orderNumber:"ORD-003",customer:"Bob Johnson",amount:234,status:"processing",date:new Date},{id:4,orderNumber:"ORD-004",customer:"Alice Brown",amount:67.5,status:"completed",date:new Date},{id:5,orderNumber:"ORD-005",customer:"Charlie Wilson",amount:156.75,status:"shipped",date:new Date}],woe=[{id:1,name:"Premium Headphones",sales:234,revenue:23400},{id:2,name:"Wireless Earbuds",sales:189,revenue:9450},{id:3,name:"Smart Watch",sales:156,revenue:31200},{id:4,name:"Laptop Stand",sales:134,revenue:5360},{id:5,name:"USB-C Hub",sales:121,revenue:6050}];function Ku({title:e,value:t,change:r,icon:n,color:s}){const i=r>=0;return a.jsx("div",{className:"bg-white rounded-2xl p-4 sm:p-5 md:p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-300",children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mb-1 font-medium",children:e}),a.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-800 truncate",children:t}),a.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[i?a.jsx(Mp,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500 flex-shrink-0"}):a.jsx($p,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-500 flex-shrink-0"}),a.jsxs("span",{className:`text-xs sm:text-sm font-medium ${i?"text-green-500":"text-red-500"}`,children:[i?"+":"",r,"%"]}),a.jsx("span",{className:"text-xs sm:text-sm text-gray-400 truncate",children:"vs last month"})]})]}),a.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-2xl flex items-center justify-center flex-shrink-0 ${s}`,children:a.jsx(n,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})})]})})}function Noe({status:e}){const t={completed:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",processing:"bg-blue-100 text-blue-700",shipped:"bg-purple-100 text-purple-700",cancelled:"bg-red-100 text-red-700"};return a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${t[e]||"bg-gray-100 text-gray-700"}`,children:e.charAt(0).toUpperCase()+e.slice(1)})}function Soe(){const[e,t]=b.useState(voe),[r,n]=b.useState(boe),[s,i]=b.useState(joe),[o,l]=b.useState(woe),[c,u]=b.useState(!0);b.useEffect(()=>{d()},[]);const d=async()=>{try{u(!0);try{const f=await Ou.getStats();if(f.data.success){const p=f.data.stats;t({totalRevenue:p.totalRevenue||0,totalOrders:p.totalOrders||0,totalUsers:p.totalUsers||0,totalProducts:p.totalProducts||0,revenueChange:p.revenueChange||0,ordersChange:p.ordersChange||0,usersChange:p.usersChange||0,productsChange:p.productsChange||0})}}catch{console.log("Stats fetch failed, using mock data")}try{const f=await Ou.getSalesChart();f.data.success&&f.data.data&&n(f.data.data)}catch{console.log("Sales chart fetch failed, using mock data")}try{const f=await Ou.getRecentOrders();f.data.success&&f.data.orders&&i(f.data.orders.map(p=>({id:p.id,orderNumber:p.order_number,customer:p.customer_name||"Guest",amount:p.total_amount,status:p.status,date:new Date(p.created_at)})))}catch{console.log("Recent orders fetch failed, using mock data")}try{const f=await Ou.getTopProducts();f.data.success&&f.data.products&&l(f.data.products.map(p=>({id:p.id,name:p.name,sales:p.total_sales||0,revenue:p.revenue||0})))}catch{console.log("Top products fetch failed, using mock data")}}catch(f){console.error("Error fetching dashboard data:",f)}finally{u(!1)}};return c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(At,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsxs("div",{className:"space-y-6 md:space-y-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:"Dashboard"}),a.jsx("p",{className:"text-gray-500 mt-1 text-sm md:text-base",children:"Welcome back! Here's what's happening with your store."})]}),a.jsx("div",{className:"text-xs md:text-sm text-gray-500 whitespace-nowrap",children:Oe(new Date,"EEEE, MMMM d, yyyy")})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[a.jsx(Ku,{title:"Total Revenue",value:`$${e.totalRevenue.toLocaleString()}`,change:e.revenueChange,icon:No,color:"bg-primary"}),a.jsx(Ku,{title:"Total Orders",value:e.totalOrders.toLocaleString(),change:e.ordersChange,icon:e4,color:"bg-blue-500"}),a.jsx(Ku,{title:"Total Users",value:e.totalUsers.toLocaleString(),change:e.usersChange,icon:Ii,color:"bg-green-500"}),a.jsx(Ku,{title:"Total Products",value:e.totalProducts.toLocaleString(),change:e.productsChange,icon:xr,color:"bg-purple-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-5 md:p-6 shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 md:mb-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:"Sales Overview"}),a.jsxs("select",{className:"px-3 py-1.5 text-xs sm:text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",children:[a.jsx("option",{children:"Last 7 months"}),a.jsx("option",{children:"Last 12 months"}),a.jsx("option",{children:"This year"})]})]}),a.jsx("div",{className:"h-64 sm:h-80",children:a.jsx(ui,{width:"100%",height:"100%",children:a.jsxs(JP,{data:r,children:[a.jsx($c,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),a.jsx(Ta,{dataKey:"name",stroke:"#9ca3af",fontSize:12}),a.jsx($a,{stroke:"#9ca3af",fontSize:12}),a.jsx(zt,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a.jsx(Io,{type:"monotone",dataKey:"sales",stroke:"#E07856",strokeWidth:3,dot:{fill:"#E07856",strokeWidth:2}})]})})})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-5 md:p-6 shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 md:mb-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:"Orders Overview"}),a.jsxs("select",{className:"px-3 py-1.5 text-xs sm:text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white",children:[a.jsx("option",{children:"Last 7 months"}),a.jsx("option",{children:"Last 12 months"}),a.jsx("option",{children:"This year"})]})]}),a.jsx("div",{className:"h-64 sm:h-80",children:a.jsx(ui,{width:"100%",height:"100%",children:a.jsxs(ZP,{data:r,children:[a.jsx($c,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),a.jsx(Ta,{dataKey:"name",stroke:"#9ca3af",fontSize:12}),a.jsx($a,{stroke:"#9ca3af",fontSize:12}),a.jsx(zt,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),a.jsx(Wa,{dataKey:"orders",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-4 sm:p-5 md:p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-800",children:"Recent Orders"}),a.jsxs("button",{className:"flex items-center gap-1 text-sm text-primary font-medium hover:underline transition-colors",children:["View all ",a.jsx(Pj,{className:"w-4 h-4"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-100 bg-gray-50",children:[a.jsx("th",{className:"text-left py-3 px-4 sm:px-6 text-xs font-medium text-gray-600 uppercase",children:"Order"}),a.jsx("th",{className:"text-left py-3 px-4 sm:px-6 text-xs font-medium text-gray-600 uppercase",children:"Customer"}),a.jsx("th",{className:"text-left py-3 px-4 sm:px-6 text-xs font-medium text-gray-600 uppercase",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4 sm:px-6 text-xs font-medium text-gray-600 uppercase",children:"Status"})]})}),a.jsx("tbody",{children:s.map(f=>a.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4 sm:px-6",children:a.jsx("span",{className:"font-medium text-gray-800 text-xs sm:text-sm",children:f.orderNumber})}),a.jsx("td",{className:"py-4 px-6 text-gray-600",children:f.customer}),a.jsxs("td",{className:"py-4 px-6 font-medium text-gray-800",children:["$",f.amount.toFixed(2)]}),a.jsx("td",{className:"py-4 px-6",children:a.jsx(Noe,{status:f.status})})]},f.id))})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Top Products"}),a.jsxs("button",{className:"flex items-center gap-1 text-sm text-primary font-medium hover:underline",children:["View all ",a.jsx(Pj,{className:"w-4 h-4"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-100",children:[a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Product"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Sales"}),a.jsx("th",{className:"text-left py-3 px-6 text-xs font-medium text-gray-500 uppercase",children:"Revenue"})]})}),a.jsx("tbody",{children:o.map((f,p)=>a.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${p===0?"bg-yellow-100 text-yellow-700":p===1?"bg-gray-100 text-gray-700":p===2?"bg-orange-100 text-orange-700":"bg-gray-50 text-gray-500"}`,children:p+1}),a.jsx("span",{className:"font-medium text-gray-800",children:f.name})]})}),a.jsxs("td",{className:"py-4 px-6 text-gray-600",children:[f.sales," units"]}),a.jsxs("td",{className:"py-4 px-6 font-medium text-gray-800",children:["$",f.revenue.toLocaleString()]})]},f.id))})]})})]})]})]})}function _oe(){const[e,t]=b.useState("products"),[r,n]=b.useState([]),[s,i]=b.useState(null),[o,l]=b.useState([]),[c,u]=b.useState(!0),[d,f]=b.useState(""),[p,m]=b.useState(""),[x,y]=b.useState("all"),[h,v]=b.useState("all"),[g,j]=b.useState("created_at"),[S,N]=b.useState("DESC"),[w,C]=b.useState(1),[_,P]=b.useState(1),[k,$]=b.useState(0),[O,F]=b.useState(!1),[B,R]=b.useState(!1),[z,G]=b.useState(null),[I,T]=b.useState(null),[E,U]=b.useState([]),[L,A]=b.useState([]),[H,te]=b.useState(!1),[K,ue]=b.useState([]),[de,re]=b.useState(!1),J=b.useRef(null),[V,D]=b.useState({name:"",description:"",price:0,discount_percent:0,category_id:null,category:"",image_url:"",store_id:null,stock_quantity:0,sku:"",is_active:1,is_visible:1,low_stock_threshold:10,reorder_quantity:50});b.useEffect(()=>{le(),M(),Y()},[w,d,p,x,h,g,S]);const le=async()=>{try{u(!0);const Q=await kn.getAll({page:w,limit:15,search:d,category:p,status:x,stockStatus:h,sortBy:g,sortOrder:S});n(Q.data.products),P(Q.data.pagination.totalPages),$(Q.data.pagination.total)}catch(Q){console.error("Error loading products:",Q),ne.error("Failed to load products")}finally{u(!1)}},M=async()=>{try{const Q=await kn.getStats();i(Q.data.stats)}catch(Q){console.error("Error loading stats:",Q)}},Y=async()=>{try{const Q=await ia.getAll({status:"active",limit:100});l(Q.data.categories)}catch(Q){console.error("Error loading categories:",Q)}},ae=async Q=>{try{const Me=await kn.getById(Q.id);T(Me.data.product),U(Me.data.versions||[]),A(Me.data.inventoryLogs||[]),R(!0)}catch(Me){console.error("Error loading product detail:",Me),ne.error("Failed to load product details")}},xe=Q=>{Q?(G(Q),D({name:Q.name,description:Q.description||"",price:Q.price,discount_percent:Q.discount_percent,category_id:Q.category_id,category:Q.category||"",image_url:Q.image_url||"",store_id:Q.store_id,stock_quantity:Q.stock_quantity,sku:Q.sku||"",is_active:Q.is_active,is_visible:Q.is_visible,low_stock_threshold:Q.low_stock_threshold,reorder_quantity:Q.reorder_quantity})):(G(null),D({name:"",description:"",price:0,discount_percent:0,category_id:null,category:"",image_url:"",store_id:null,stock_quantity:0,sku:"",is_active:1,is_visible:1,low_stock_threshold:10,reorder_quantity:50})),F(!0)},ot=()=>{F(!1),G(null)},bt=async Q=>{var Me,tt;if(Q.preventDefault(),!V.name.trim()||!V.price){ne.error("Name and price are required");return}te(!0);try{z?(await kn.update(z.id,V),ne.success("Product updated successfully")):(await kn.create(V),ne.success("Product created successfully")),ot(),le(),M()}catch(Z){ne.error(((tt=(Me=Z.response)==null?void 0:Me.data)==null?void 0:tt.message)||"Failed to save product")}finally{te(!1)}},se=async Q=>{var Me,tt;try{await kn.toggleVisibility(Q.id),ne.success(`Product ${Q.is_visible?"hidden":"shown"} successfully`),le(),M()}catch(Z){ne.error(((tt=(Me=Z.response)==null?void 0:Me.data)==null?void 0:tt.message)||"Failed to toggle visibility")}},Pe=async Q=>{var Me,tt;if(K.length===0){ne.error("No products selected");return}try{const Z=await kn.bulkVisibility(K,Q);ne.success(`Bulk ${Q} completed: ${Z.data.results.success} updated`),ue([]),re(!1),le(),M()}catch(Z){ne.error(((tt=(Me=Z.response)==null?void 0:Me.data)==null?void 0:tt.message)||"Failed to process bulk action")}},ze=async(Q,Me)=>{var Z,lt,ta;const tt=(Z=Q.target.files)==null?void 0:Z[0];if(tt){try{const Hs=await kn.bulkVisibilityCSV(tt,Me);ne.success(`CSV processed: ${Hs.data.results.success} updated, ${Hs.data.results.skipped} skipped`),le(),M()}catch(Hs){ne.error(((ta=(lt=Hs.response)==null?void 0:lt.data)==null?void 0:ta.message)||"Failed to process CSV")}J.current&&(J.current.value="")}},Br=Q=>{ue(Me=>Me.includes(Q)?Me.filter(tt=>tt!==Q):[...Me,Q])},Ha=()=>{K.length===r.length?ue([]):ue(r.map(Q=>Q.id))},ea=Q=>Q.stock_quantity===0?a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full",children:"Out of Stock"}):Q.stock_quantity<=Q.low_stock_threshold?a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"Low Stock"}):a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"In Stock"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Products & Inventory"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage products, visibility, and stock levels"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>re(!0),className:"flex items-center gap-2 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(yd,{className:"w-5 h-5"}),"Bulk Actions"]}),a.jsxs("button",{onClick:()=>xe(),className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[a.jsx(Jl,{className:"w-5 h-5"}),"Add Product"]})]})]}),s&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(xr,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Total Products"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:s.totalProducts})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(ar,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Visible"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:s.activeVisible})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:a.jsx(wi,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Hidden"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:s.activeHidden})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(ka,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Out of Stock"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:s.outOfStock})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx($p,{className:"w-5 h-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Low Stock"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:s.lowStock})]})]})})]}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by name or SKU...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",value:d,onChange:Q=>{f(Q.target.value),C(1)}})]})}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("select",{value:p,onChange:Q=>{m(Q.target.value),C(1)},className:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"All Categories"}),o.map(Q=>a.jsx("option",{value:Q.id,children:Q.name},Q.id))]}),a.jsxs("select",{value:x,onChange:Q=>{y(Q.target.value),C(1)},className:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"visible",children:"Visible"}),a.jsx("option",{value:"hidden",children:"Hidden"}),a.jsx("option",{value:"inactive",children:"Inactive"})]}),a.jsxs("select",{value:h,onChange:Q=>{v(Q.target.value),C(1)},className:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"all",children:"All Stock"}),a.jsx("option",{value:"in_stock",children:"In Stock"}),a.jsx("option",{value:"low_stock",children:"Low Stock"}),a.jsx("option",{value:"out_of_stock",children:"Out of Stock"})]})]})]})}),K.length>0&&a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 flex items-center justify-between",children:[a.jsxs("span",{className:"text-orange-800 font-medium",children:[K.length," products selected"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>Pe("show"),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:[a.jsx(ar,{className:"w-4 h-4"}),"Show All"]}),a.jsxs("button",{onClick:()=>Pe("hide"),className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[a.jsx(wi,{className:"w-4 h-4"}),"Hide All"]}),a.jsx("button",{onClick:()=>ue([]),className:"px-4 py-2 border border-orange-300 text-orange-700 rounded-lg hover:bg-orange-100",children:"Clear Selection"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(At,{className:"w-8 h-8 animate-spin text-orange-500"})}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(xr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No products found"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-4 px-4 text-left",children:a.jsx("input",{type:"checkbox",checked:K.length===r.length,onChange:Ha,className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"})}),a.jsx("th",{className:"text-left py-4 px-4 text-sm font-medium text-gray-600",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-4 text-sm font-medium text-gray-600",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-4 text-sm font-medium text-gray-600",children:"Category"}),a.jsx("th",{className:"text-left py-4 px-4 text-sm font-medium text-gray-600",children:"Price"}),a.jsx("th",{className:"text-left py-4 px-4 text-sm font-medium text-gray-600",children:"Stock"}),a.jsx("th",{className:"text-left py-4 px-4 text-sm font-medium text-gray-600",children:"Visibility"}),a.jsx("th",{className:"text-right py-4 px-4 text-sm font-medium text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(Q=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-4 px-4",children:a.jsx("input",{type:"checkbox",checked:K.includes(Q.id),onChange:()=>Br(Q.id),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"})}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[Q.image_url?a.jsx("img",{src:Q.image_url,alt:Q.name,className:"w-12 h-12 rounded-lg object-cover"}):a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx(xr,{className:"w-6 h-6 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900 max-w-[200px] truncate",children:Q.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",Q.id]})]})]})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:Q.sku||"-"})}),a.jsx("td",{className:"py-4 px-4 text-gray-600 text-sm",children:Q.category_name||Q.category||"-"}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium text-gray-900",children:["$",Q.price.toFixed(2)]}),Q.discount_percent>0&&a.jsxs("span",{className:"ml-2 text-xs text-green-600 bg-green-50 px-1.5 py-0.5 rounded",children:["-",Q.discount_percent,"%"]})]})}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:Q.stock_quantity}),ea(Q)]})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("button",{onClick:()=>se(Q),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm transition-colors ${Q.is_visible?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:Q.is_visible?a.jsxs(a.Fragment,{children:[a.jsx(ar,{className:"w-4 h-4"}),"Visible"]}):a.jsxs(a.Fragment,{children:[a.jsx(wi,{className:"w-4 h-4"}),"Hidden"]})})}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>ae(Q),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:a.jsx(Yk,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>xe(Q),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:a.jsx(Ly,{className:"w-5 h-5"})})]})})]},Q.id))})]})}),_>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",(w-1)*15+1," to ",Math.min(w*15,k)," of ",k," products"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>C(w-1),disabled:w===1,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(hn,{className:"w-5 h-5"})}),a.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",w," of ",_]}),a.jsx("button",{onClick:()=>C(w+1),disabled:w===_,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(mn,{className:"w-5 h-5"})})]})]})]}),O&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:z?"Edit Product":"Add Product"}),a.jsx("button",{onClick:ot,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:bt,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),a.jsx("input",{type:"text",value:V.name,onChange:Q=>D({...V,name:Q.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter product name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:V.price,onChange:Q=>D({...V,price:parseFloat(Q.target.value)||0}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount %"}),a.jsx("input",{type:"number",min:"0",max:"100",value:V.discount_percent,onChange:Q=>D({...V,discount_percent:parseInt(Q.target.value)||0}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{value:V.category_id||"",onChange:Q=>{const Me=Q.target.value?parseInt(Q.target.value):null,tt=o.find(Z=>Z.id===Me);D({...V,category_id:Me,category:(tt==null?void 0:tt.slug)||""})},className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"Select category"}),o.map(Q=>a.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),a.jsx("input",{type:"text",value:V.sku,onChange:Q=>D({...V,sku:Q.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Auto-generated if empty"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity"}),a.jsx("input",{type:"number",min:"0",value:V.stock_quantity,onChange:Q=>D({...V,stock_quantity:parseInt(Q.target.value)||0}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Low Stock Threshold"}),a.jsx("input",{type:"number",min:"0",value:V.low_stock_threshold,onChange:Q=>D({...V,low_stock_threshold:parseInt(Q.target.value)||10}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),a.jsx("input",{type:"url",value:V.image_url,onChange:Q=>D({...V,image_url:Q.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"https://example.com/image.jpg"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:V.description,onChange:Q=>D({...V,description:Q.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",rows:3,placeholder:"Enter product description"})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:V.is_visible===1,onChange:Q=>D({...V,is_visible:Q.target.checked?1:0}),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Visible in store"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:V.is_active===1,onChange:Q=>D({...V,is_active:Q.target.checked?1:0}),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:ot,className:"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:H,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[H&&a.jsx(At,{className:"w-4 h-4 animate-spin"}),z?"Update Product":"Create Product"]})]})]})]})}),B&&I&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Product Details"}),a.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex gap-6 mb-6",children:[I.image_url&&a.jsx("img",{src:I.image_url,alt:I.name,className:"w-32 h-32 rounded-lg object-cover"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:I.name}),a.jsxs("p",{className:"text-gray-500 mt-1",children:["SKU: ",I.sku]}),a.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[a.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:["$",I.price.toFixed(2)]}),ea(I),a.jsx("span",{className:`px-2 py-1 rounded text-xs ${I.is_visible?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:I.is_visible?"Visible":"Hidden"})]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Version: ",I.version]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(Vx,{className:"w-5 h-5"}),"Version History"]}),E.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No version history"}):a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:E.map(Q=>a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"font-medium",children:["Version ",Q.version]}),a.jsx("span",{className:"text-gray-500",children:Oe(new Date(Q.created_at),"MMM d, yyyy HH:mm")})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["By: ",Q.changed_by_name||"System"]})]},Q.id))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[a.jsx(gd,{className:"w-5 h-5"}),"Stock History"]}),L.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No stock changes recorded"}):a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:L.map(Q=>a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:`font-medium ${Q.change_quantity>=0?"text-green-600":"text-red-600"}`,children:[Q.change_quantity>=0?"+":"",Q.change_quantity," units"]}),a.jsx("span",{className:"text-gray-500",children:Oe(new Date(Q.created_at),"MMM d, yyyy HH:mm")})]}),a.jsxs("p",{className:"text-gray-600",children:[Q.previous_quantity,"  ",Q.new_quantity]}),a.jsx("p",{className:"text-gray-500 text-xs mt-1",children:Q.reason||Q.change_type})]},Q.id))})]})]})]})}),de&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Bulk Actions"}),a.jsx("button",{onClick:()=>re(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Upload CSV"}),a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Upload a CSV file with product IDs or SKUs to bulk show/hide products."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("label",{className:"flex-1",children:[a.jsx("input",{type:"file",accept:".csv",ref:J,onChange:Q=>ze(Q,"show"),className:"hidden"}),a.jsxs("button",{type:"button",onClick:()=>{J.current&&(J.current.onchange=Q=>ze(Q,"show"),J.current.click())},className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:[a.jsx(yd,{className:"w-4 h-4"}),"CSV  Show"]})]}),a.jsx("label",{className:"flex-1",children:a.jsxs("button",{type:"button",onClick:()=>{J.current&&(J.current.onchange=Q=>ze(Q,"hide"),J.current.click())},className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[a.jsx(yd,{className:"w-4 h-4"}),"CSV  Hide"]})})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"CSV Format"}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm font-mono",children:["product_id",a.jsx("br",{}),"1",a.jsx("br",{}),"2",a.jsx("br",{}),"SKU-001"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Each row should contain a product ID or SKU. Header row is optional."})]}),a.jsxs("button",{onClick:()=>{const Q=`product_id
1
2
3`,Me=new Blob([Q],{type:"text/csv"}),tt=window.URL.createObjectURL(Me),Z=document.createElement("a");Z.href=tt,Z.download="sample_products.csv",Z.click()},className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50",children:[a.jsx(qx,{className:"w-4 h-4"}),"Download Sample CSV"]})]})]})})]})}function koe(){const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(""),[c,u]=b.useState("all"),[d,f]=b.useState(1),[p,m]=b.useState(1),[x,y]=b.useState(0),[h,v]=b.useState(!1),[g,j]=b.useState(null),[S,N]=b.useState({name:"",description:"",image_url:"",parent_id:null,display_order:0}),[w,C]=b.useState(!1),[_,P]=b.useState(!1),[k,$]=b.useState(null);b.useEffect(()=>{O(),F()},[d,o,c]);const O=async()=>{try{i(!0);const U=await ia.getAll({page:d,limit:10,search:o,status:c});t(U.data.categories),m(U.data.pagination.totalPages),y(U.data.pagination.total)}catch(U){console.error("Error loading categories:",U),ne.error("Failed to load categories")}finally{i(!1)}},F=async()=>{try{const U=await ia.getStats();n(U.data.stats)}catch(U){console.error("Error loading stats:",U)}},B=U=>{U.preventDefault(),f(1),O()},R=U=>{U?(j(U),N({name:U.name,description:U.description||"",image_url:U.image_url||"",parent_id:U.parent_id,display_order:U.display_order})):(j(null),N({name:"",description:"",image_url:"",parent_id:null,display_order:0})),v(!0)},z=()=>{v(!1),j(null),N({name:"",description:"",image_url:"",parent_id:null,display_order:0})},G=async U=>{var L,A;if(U.preventDefault(),!S.name.trim()){ne.error("Category name is required");return}C(!0);try{g?(await ia.update(g.id,S),ne.success("Category updated successfully")):(await ia.create(S),ne.success("Category created successfully")),z(),O(),F()}catch(H){ne.error(((A=(L=H.response)==null?void 0:L.data)==null?void 0:A.message)||"Failed to save category")}finally{C(!1)}},I=async U=>{var L,A;try{await ia.toggle(U.id),ne.success(`Category ${U.is_active?"disabled":"enabled"} successfully`),O(),F()}catch(H){ne.error(((A=(L=H.response)==null?void 0:L.data)==null?void 0:A.message)||"Failed to toggle category status")}},T=async()=>{var U,L;if(k)try{await ia.delete(k.id),ne.success("Category deleted successfully"),P(!1),$(null),O(),F()}catch(A){ne.error(((L=(U=A.response)==null?void 0:U.data)==null?void 0:L.message)||"Failed to delete category")}},E=U=>{$(U),P(!0)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Categories"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage product categories"})]}),a.jsxs("button",{onClick:()=>R(),className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:[a.jsx(Jl,{className:"w-5 h-5"}),"Add Category"]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Aj,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Categories"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalCategories})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(Xx,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.activeCategories})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:a.jsx(Ej,{className:"w-6 h-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Inactive"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.inactiveCategories})]})]})})]}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("form",{onSubmit:B,className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search categories...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",value:o,onChange:U=>l(U.target.value)})]})}),a.jsxs("select",{value:c,onChange:U=>{u(U.target.value),f(1)},className:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(At,{className:"w-8 h-8 animate-spin text-orange-500"})}):e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Aj,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No categories found"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Category"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Slug"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Products"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Order"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Status"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Created"}),a.jsx("th",{className:"text-right py-4 px-6 text-sm font-medium text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(U=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[U.image_url?a.jsx("img",{src:U.image_url,alt:U.name,className:"w-10 h-10 rounded-lg object-cover"}):a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx(Ri,{className:"w-5 h-5 text-gray-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:U.name}),U.description&&a.jsx("p",{className:"text-sm text-gray-500 truncate max-w-[200px]",children:U.description})]})]})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:U.slug})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xr,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-900",children:U.active_products||0}),a.jsxs("span",{className:"text-gray-400",children:["/ ",U.total_products||0]})]})}),a.jsx("td",{className:"py-4 px-6 text-gray-600",children:U.display_order}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${U.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"py-4 px-6 text-gray-600 text-sm",children:Oe(new Date(U.created_at),"MMM d, yyyy")}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>I(U),className:`p-2 rounded-lg transition-colors ${U.is_active?"text-red-600 hover:bg-red-50":"text-green-600 hover:bg-green-50"}`,title:U.is_active?"Disable":"Enable",children:U.is_active?a.jsx(Xx,{className:"w-5 h-5"}):a.jsx(Ej,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>R(U),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:a.jsx(O$,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>E(U),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:a.jsx(r4,{className:"w-5 h-5"})})]})})]},U.id))})]})}),p>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",(d-1)*10+1," to ",Math.min(d*10,x)," of ",x," categories"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>f(d-1),disabled:d===1,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(hn,{className:"w-5 h-5"})}),a.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",d," of ",p]}),a.jsx("button",{onClick:()=>f(d+1),disabled:d===p,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(mn,{className:"w-5 h-5"})})]})]})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:g?"Edit Category":"Add Category"}),a.jsx("button",{onClick:z,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:G,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name *"}),a.jsx("input",{type:"text",value:S.name,onChange:U=>N({...S,name:U.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter category name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:S.description,onChange:U=>N({...S,description:U.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter category description",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),a.jsx("input",{type:"url",value:S.image_url,onChange:U=>N({...S,image_url:U.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"https://example.com/image.jpg"}),S.image_url&&a.jsx("img",{src:S.image_url,alt:"Preview",className:"mt-2 w-20 h-20 rounded-lg object-cover",onError:U=>U.currentTarget.style.display="none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Category"}),a.jsxs("select",{value:S.parent_id||"",onChange:U=>N({...S,parent_id:U.target.value?parseInt(U.target.value):null}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"None (Top Level)"}),e.filter(U=>U.id!==(g==null?void 0:g.id)).map(U=>a.jsx("option",{value:U.id,children:U.name},U.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),a.jsx("input",{type:"number",value:S.display_order,onChange:U=>N({...S,display_order:parseInt(U.target.value)||0}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",min:"0"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:z,className:"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:w,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[w&&a.jsx(At,{className:"w-4 h-4 animate-spin"}),g?"Update":"Create"]})]})]})]})}),_&&k&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md mx-4 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Category"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',k.name,'"? This action will disable the category (soft delete).']}),k.total_products>0&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:a.jsxs("p",{className:"text-yellow-800 text-sm",children:[" This category has ",k.total_products," products. You must remove or reassign them before deleting."]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{P(!1),$(null)},className:"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:T,disabled:k.total_products>0,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"})]})]})})]})}function Coe(){const[e,t]=b.useState("overview"),[r,n]=b.useState([]),[s,i]=b.useState([]),[o,l]=b.useState([]),[c,u]=b.useState(null),[d,f]=b.useState(!0),[p,m]=b.useState(""),[x,y]=b.useState("all"),[h,v]=b.useState("unresolved"),[g,j]=b.useState(1),[S,N]=b.useState(1),[w,C]=b.useState(0),[_,P]=b.useState(!1),[k,$]=b.useState(null),[O,F]=b.useState({quantity:0,type:"set",reason:""}),[B,R]=b.useState(!1);b.useEffect(()=>{z()},[e,g,p,x,h]);const z=async()=>{f(!0);try{switch(e){case"overview":await G();break;case"alerts":await I();break;case"history":await T();break}await E()}catch(K){console.error("Error loading data:",K),ne.error("Failed to load inventory data")}finally{f(!1)}},G=async()=>{var ue,de;const K=await Yo.getAll({page:g,limit:15,search:p,stockStatus:x});n(K.data.inventory||[]),N(((ue=K.data.pagination)==null?void 0:ue.totalPages)||1),C(((de=K.data.pagination)==null?void 0:de.total)||0)},I=async()=>{var ue,de;const K=await Yo.getAlerts({page:g,limit:15,status:h});i(K.data.alerts||[]),N(((ue=K.data.pagination)==null?void 0:ue.totalPages)||1),C(((de=K.data.pagination)==null?void 0:de.total)||0)},T=async()=>{var ue,de;const K=await Yo.getLogs({page:g,limit:15});l(K.data.logs||[]),N(((ue=K.data.pagination)==null?void 0:ue.totalPages)||1),C(((de=K.data.pagination)==null?void 0:de.total)||0)},E=async()=>{try{const ue=(await kn.getStats()).data.stats;u({totalProducts:ue.totalProducts,totalInventory:ue.totalInventory,lowStockCount:ue.lowStock,outOfStockCount:ue.outOfStock,averageStock:Math.round(ue.totalInventory/Math.max(ue.totalProducts,1)),unresolvedAlerts:ue.unresolvedAlerts})}catch(K){console.error("Error loading stats:",K)}},U=K=>{$(K),F({quantity:K.stock_quantity,type:"set",reason:""}),P(!0)},L=async()=>{var K,ue;if(k){R(!0);try{let de=O.quantity;O.type==="add"?de=k.stock_quantity+O.quantity:O.type==="subtract"&&(de=k.stock_quantity-O.quantity),await Yo.updateStock(k.id,{quantity:de,reason:O.reason}),ne.success("Stock updated successfully"),P(!1),z()}catch(de){ne.error(((ue=(K=de.response)==null?void 0:K.data)==null?void 0:ue.message)||"Failed to update stock")}finally{R(!1)}}},A=async K=>{var ue,de;try{await Yo.resolveAlert(K),ne.success("Alert resolved"),I(),E()}catch(re){ne.error(((de=(ue=re.response)==null?void 0:ue.data)==null?void 0:de.message)||"Failed to resolve alert")}},H=K=>K.stock_quantity===0?a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full",children:"Out of Stock"}):K.stock_quantity<=K.low_stock_threshold?a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full",children:"Low Stock"}):a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"In Stock"}),te=K=>{const ue=K.low_stock_threshold*5;return Math.min(K.stock_quantity/ue*100,100)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor stock levels, alerts, and inventory history"})]}),a.jsxs("button",{onClick:()=>z(),className:"flex items-center gap-2 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(Xe,{className:"w-5 h-5"}),"Refresh"]})]}),c&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(xr,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Products"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.totalProducts})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(gd,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Total Units"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.totalInventory.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx($p,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Avg Stock"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.averageStock})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(ka,{className:"w-5 h-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Low Stock"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.lowStockCount})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Ls,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Out of Stock"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.outOfStockCount})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(ka,{className:"w-5 h-5 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Active Alerts"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.unresolvedAlerts})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[a.jsx("div",{className:"border-b border-gray-100",children:a.jsxs("nav",{className:"flex -mb-px",children:[a.jsx("button",{onClick:()=>{t("overview"),j(1)},className:`px-6 py-4 text-sm font-medium border-b-2 ${e==="overview"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gd,{className:"w-4 h-4"}),"Stock Levels"]})}),a.jsx("button",{onClick:()=>{t("alerts"),j(1)},className:`px-6 py-4 text-sm font-medium border-b-2 ${e==="alerts"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ka,{className:"w-4 h-4"}),"Alerts",c&&c.unresolvedAlerts>0&&a.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:c.unresolvedAlerts})]})}),a.jsx("button",{onClick:()=>{t("history"),j(1)},className:`px-6 py-4 text-sm font-medium border-b-2 ${e==="history"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vx,{className:"w-4 h-4"}),"History"]})})]})}),e==="overview"&&a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by name or SKU...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",value:p,onChange:K=>{m(K.target.value),j(1)}})]})}),a.jsxs("select",{value:x,onChange:K=>{y(K.target.value),j(1)},className:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"all",children:"All Stock Levels"}),a.jsx("option",{value:"in_stock",children:"In Stock"}),a.jsx("option",{value:"low_stock",children:"Low Stock"}),a.jsx("option",{value:"out_of_stock",children:"Out of Stock"})]})]})}),e==="alerts"&&a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("select",{value:h,onChange:K=>{v(K.target.value),j(1)},className:"px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"unresolved",children:"Active Alerts"}),a.jsx("option",{value:"resolved",children:"Resolved Alerts"}),a.jsx("option",{value:"all",children:"All Alerts"})]})}),d?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(At,{className:"w-8 h-8 animate-spin text-orange-500"})}):a.jsxs(a.Fragment,{children:[e==="overview"&&a.jsx("div",{className:"overflow-x-auto",children:r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(gd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No inventory items found"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"SKU"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Category"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Stock Level"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Threshold"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Status"}),a.jsx("th",{className:"text-right py-4 px-6 text-sm font-medium text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(K=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"py-4 px-6",children:[a.jsx("p",{className:"font-medium text-gray-900 max-w-[200px] truncate",children:K.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",K.id]})]}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:K.sku||"-"})}),a.jsx("td",{className:"py-4 px-6 text-gray-600 text-sm",children:K.category_name||"-"}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"w-32",children:[a.jsx("div",{className:"flex items-center justify-between mb-1",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:K.stock_quantity})}),a.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${K.stock_quantity===0?"bg-red-500":K.stock_quantity<=K.low_stock_threshold?"bg-yellow-500":"bg-green-500"}`,style:{width:`${te(K)}%`}})})]})}),a.jsx("td",{className:"py-4 px-6 text-gray-600 text-sm",children:a.jsxs("div",{children:[a.jsxs("p",{children:["Low: ",K.low_stock_threshold]}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Reorder: ",K.reorder_quantity]})]})}),a.jsx("td",{className:"py-4 px-6",children:H(K)}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"flex items-center justify-end",children:a.jsxs("button",{onClick:()=>U(K),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 transition-colors",children:[a.jsx(Ly,{className:"w-4 h-4"}),"Update"]})})})]},K.id))})]})}),e==="alerts"&&a.jsx("div",{className:"overflow-x-auto",children:s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ge,{className:"w-12 h-12 text-green-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:h==="unresolved"?"No active alerts":"No alerts found"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Alert Type"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Current Stock"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Threshold"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Created"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Status"}),a.jsx("th",{className:"text-right py-4 px-6 text-sm font-medium text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(K=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"py-4 px-6",children:[a.jsx("p",{className:"font-medium text-gray-900",children:K.product_name}),a.jsx("p",{className:"text-sm text-gray-500",children:K.product_sku})]}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${K.alert_type==="out_of_stock"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:K.alert_type==="out_of_stock"?"Out of Stock":"Low Stock"})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:`font-medium ${K.current_stock===0?"text-red-600":"text-yellow-600"}`,children:K.current_stock})}),a.jsx("td",{className:"py-4 px-6 text-gray-600",children:K.threshold}),a.jsx("td",{className:"py-4 px-6 text-gray-600 text-sm",children:Oe(new Date(K.created_at),"MMM d, yyyy HH:mm")}),a.jsx("td",{className:"py-4 px-6",children:K.is_resolved?a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Resolved"}):a.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-full",children:"Active"})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"flex items-center justify-end gap-2",children:!K.is_resolved&&a.jsxs("button",{onClick:()=>A(K.id),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[a.jsx(Ge,{className:"w-4 h-4"}),"Resolve"]})})})]},K.id))})]})}),e==="history"&&a.jsx("div",{className:"overflow-x-auto",children:o.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Vx,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No inventory changes recorded"})]}):a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Product"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Change"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Quantity"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Type"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Reason"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Changed By"}),a.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-600",children:"Date"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:o.map(K=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"py-4 px-6",children:[a.jsx("p",{className:"font-medium text-gray-900",children:K.product_name}),a.jsx("p",{className:"text-sm text-gray-500",children:K.product_sku})]}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("span",{className:`font-medium ${K.change_quantity>=0?"text-green-600":"text-red-600"}`,children:[K.change_quantity>=0?"+":"",K.change_quantity]})}),a.jsxs("td",{className:"py-4 px-6 text-gray-600",children:[K.previous_quantity,"  ",K.new_quantity]}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${K.change_type==="restock"?"bg-green-100 text-green-700":K.change_type==="sale"?"bg-blue-100 text-blue-700":K.change_type==="adjustment"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:K.change_type})}),a.jsx("td",{className:"py-4 px-6 text-gray-600 text-sm max-w-[150px] truncate",children:K.reason||"-"}),a.jsx("td",{className:"py-4 px-6 text-gray-600 text-sm",children:K.changed_by_name||"System"}),a.jsx("td",{className:"py-4 px-6 text-gray-600 text-sm",children:Oe(new Date(K.created_at),"MMM d, yyyy HH:mm")})]},K.id))})]})}),S>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",(g-1)*15+1," to ",Math.min(g*15,w)," of ",w," items"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>j(g-1),disabled:g===1,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(hn,{className:"w-5 h-5"})}),a.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",g," of ",S]}),a.jsx("button",{onClick:()=>j(g+1),disabled:g===S,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(mn,{className:"w-5 h-5"})})]})]})]})]}),_&&k&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Update Stock"}),a.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("p",{className:"font-medium text-gray-900",children:k.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Current stock: ",k.stock_quantity]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Update Type"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>F({...O,type:"set"}),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium ${O.type==="set"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Set to"}),a.jsx("button",{type:"button",onClick:()=>F({...O,type:"add"}),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium ${O.type==="add"?"bg-green-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Add"}),a.jsx("button",{type:"button",onClick:()=>F({...O,type:"subtract"}),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium ${O.type==="subtract"?"bg-red-500 text-white":"bg-gray-100 text-gray-700"}`,children:"Subtract"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"number",min:"0",value:O.quantity,onChange:K=>F({...O,quantity:parseInt(K.target.value)||0}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),O.type!=="set"&&a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["New stock will be: ",O.type==="add"?k.stock_quantity+O.quantity:Math.max(0,k.stock_quantity-O.quantity)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason (optional)"}),a.jsx("input",{type:"text",value:O.reason,onChange:K=>F({...O,reason:K.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"e.g., Restock from supplier, Damaged goods..."})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>P(!1),className:"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:L,disabled:B,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[B&&a.jsx(At,{className:"w-4 h-4 animate-spin"}),"Update Stock"]})]})]})]})})]})}const Ooe={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:xn},confirmed:{bg:"bg-blue-100",text:"text-blue-800",icon:Ge},processing:{bg:"bg-indigo-100",text:"text-indigo-800",icon:xr},ready_for_shipping:{bg:"bg-purple-100",text:"text-purple-800",icon:xr},shipped:{bg:"bg-cyan-100",text:"text-cyan-800",icon:Qx},out_for_delivery:{bg:"bg-teal-100",text:"text-teal-800",icon:Qx},delivered:{bg:"bg-green-100",text:"text-green-800",icon:Ge},failed_delivery:{bg:"bg-orange-100",text:"text-orange-800",icon:ka},cancelled:{bg:"bg-red-100",text:"text-red-800",icon:Ft},returned:{bg:"bg-gray-100",text:"text-gray-800",icon:Xe},refund_requested:{bg:"bg-amber-100",text:"text-amber-800",icon:No},refund_processing:{bg:"bg-orange-100",text:"text-orange-800",icon:Xe},refund_rejected:{bg:"bg-red-100",text:"text-red-800",icon:Ft},refunded:{bg:"bg-emerald-100",text:"text-emerald-800",icon:Ge}},Yu={pending:"Pending",confirmed:"Confirmed",processing:"Processing",ready_for_shipping:"Ready for Shipping",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",failed_delivery:"Failed Delivery",cancelled:"Cancelled",returned:"Returned",refund_requested:"Refund Requested",refund_processing:"Refund Processing",refund_rejected:"Refund Rejected",refunded:"Refunded"},Poe={on_track:"text-green-600",at_risk:"text-yellow-600",breached:"text-red-600",completed:"text-gray-400"};function Aoe(){var Y,ae,xe,ot,bt;const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(""),[c,u]=b.useState("all"),[d,f]=b.useState("all"),[p,m]=b.useState(""),[x,y]=b.useState(""),[h,v]=b.useState(1),[g,j]=b.useState(1),[S,N]=b.useState(0),[w,C]=b.useState(!1),[_,P]=b.useState(null),[k,$]=b.useState([]),[O,F]=b.useState([]),[B,R]=b.useState(!1),[z,G]=b.useState(!1),[I,T]=b.useState(!1),[E,U]=b.useState(""),[L,A]=b.useState(""),[H,te]=b.useState(!0),[K,ue]=b.useState(!1),de=b.useCallback(async()=>{i(!0);try{const se=await qa.getAll({page:h,limit:15,status:c!=="all"?c:void 0,search:o||void 0,date_from:p||void 0,date_to:x||void 0,sla_status:d!=="all"?d:void 0});t(se.data.orders),j(se.data.pagination.totalPages),N(se.data.pagination.total)}catch(se){console.error("Failed to load orders:",se),ne.error("Failed to load orders")}finally{i(!1)}},[h,c,o,p,x,d]),re=async()=>{try{const se=await qa.getStats();n(se.data.stats)}catch(se){console.error("Failed to load order stats:",se)}},J=async se=>{G(!0);try{const[Pe,ze]=await Promise.all([qa.getById(se),qa.getTimeline(se)]);P(Pe.data.order),F(Pe.data.order.available_transitions||[]),$(ze.data.timeline),R(!0)}catch(Pe){console.error("Failed to load order details:",Pe),ne.error("Failed to load order details")}finally{G(!1)}},V=async()=>{var se,Pe;if(!(!_||!E)){ue(!0);try{await qa.updateStatus(_.id,{new_status:E,notes:L,notify_customer:H}),ne.success(`Order status updated to ${Yu[E]}`),T(!1),U(""),A("");const[ze,Br]=await Promise.all([qa.getById(_.id),qa.getTimeline(_.id)]);P(ze.data.order),F(ze.data.order.available_transitions||[]),$(Br.data.timeline),de(),re()}catch(ze){console.error("Failed to update status:",ze),ne.error(((Pe=(se=ze.response)==null?void 0:se.data)==null?void 0:Pe.message)||"Failed to update status")}finally{ue(!1)}}};b.useEffect(()=>{de()},[de]),b.useEffect(()=>{re()},[]),b.useEffect(()=>{v(1)},[c,d,o,p,x]);const D=se=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(se),le=se=>{const Pe=Ooe[se]||{bg:"bg-gray-100",text:"text-gray-800",icon:xr},ze=Pe.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${Pe.bg} ${Pe.text}`,children:[a.jsx(ze,{className:"w-3 h-3"}),Yu[se]||se]})},M=se=>{if(!se.sla_deadline||se.sla_status==="completed")return null;const Pe=new Date(se.sla_deadline),ze=yoe(Pe,{addSuffix:!0});return a.jsxs("div",{className:`flex items-center gap-1 text-xs ${Poe[se.sla_status]}`,children:[a.jsx(M$,{className:"w-3 h-3"}),se.sla_status==="breached"?a.jsx("span",{children:"SLA Breached"}):a.jsxs("span",{children:["Due ",ze]})]})};return a.jsxs("div",{className:"space-y-6 md:space-y-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Order Management"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage orders, track status, and monitor SLA compliance"})]}),a.jsxs("button",{onClick:()=>{de(),re()},className:"inline-flex items-center justify-center sm:justify-start gap-2 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:[a.jsx(Xe,{className:"w-4 h-4 flex-shrink-0"})," Refresh"]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-5 md:p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"Today's Orders"}),a.jsx("p",{className:"text-2xl md:text-3xl font-bold text-gray-900 mt-2",children:((Y=r.today)==null?void 0:Y.orders_today)||0}),a.jsx("p",{className:"text-xs sm:text-sm text-green-600 font-medium mt-1",children:D(((ae=r.today)==null?void 0:ae.revenue_today)||0)})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:a.jsx(xr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Pending Orders"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:(r.pending||0)+(r.confirmed||0)}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[r.pending||0," pending, ",r.confirmed||0," confirmed"]})]}),a.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:a.jsx(xn,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"SLA Status"}),a.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[a.jsx("span",{className:"text-lg font-bold text-red-600",children:((xe=r.sla)==null?void 0:xe.breached)||0}),a.jsx("span",{className:"text-xs text-gray-400",children:"breached"}),a.jsx("span",{className:"text-lg font-bold text-yellow-600",children:((ot=r.sla)==null?void 0:ot.at_risk)||0}),a.jsx("span",{className:"text-xs text-gray-400",children:"at risk"})]})]}),a.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:a.jsx(ka,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:D(r.total_revenue||0)}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Avg: ",D(r.avg_order_value||0)]})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:a.jsx(Mp,{className:"w-6 h-6 text-green-600"})})]})})]}),r&&a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{key:"all",label:`All (${r.total_orders||0})`,colors:{active:"bg-gray-900 text-white",inactive:"bg-gray-100 text-gray-700 hover:bg-gray-200"}},{key:"pending",label:`Pending (${r.pending||0})`,colors:{active:"bg-yellow-500 text-white",inactive:"bg-yellow-50 text-yellow-700 hover:bg-yellow-100"}},{key:"processing",label:`Processing (${r.processing||0})`,colors:{active:"bg-indigo-500 text-white",inactive:"bg-indigo-50 text-indigo-700 hover:bg-indigo-100"}},{key:"shipped",label:`Shipped (${r.shipped||0})`,colors:{active:"bg-cyan-500 text-white",inactive:"bg-cyan-50 text-cyan-700 hover:bg-cyan-100"}},{key:"delivered",label:`Delivered (${r.delivered||0})`,colors:{active:"bg-green-500 text-white",inactive:"bg-green-50 text-green-700 hover:bg-green-100"}},{key:"cancelled",label:`Cancelled (${r.cancelled||0})`,colors:{active:"bg-red-500 text-white",inactive:"bg-red-50 text-red-700 hover:bg-red-100"}}].map(se=>a.jsx("button",{onClick:()=>u(se.key),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${c===se.key?se.colors.active:se.colors.inactive}`,children:se.label},se.key))}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 sm:p-5 md:p-6",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 flex-shrink-0"}),a.jsx("input",{type:"text",placeholder:"Search by order number, customer name, or email...",value:o,onChange:se=>l(se.target.value),className:"input-field w-full pl-10"})]}),a.jsxs("button",{onClick:()=>C(!w),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg transition-colors font-medium self-start sm:self-auto ${w?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[a.jsx(Kc,{className:"w-4 h-4 flex-shrink-0"})," Filters"]})]}),w&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"SLA Status"}),a.jsxs("select",{value:d,onChange:se=>f(se.target.value),className:"input-field w-full",children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"on_track",children:"On Track"}),a.jsx("option",{value:"at_risk",children:"At Risk"}),a.jsx("option",{value:"breached",children:"Breached"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"From Date"}),a.jsx("input",{type:"date",value:p,onChange:se=>m(se.target.value),className:"input-field w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2",children:"To Date"}),a.jsx("input",{type:"date",value:x,onChange:se=>y(se.target.value),className:"input-field w-full"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:()=>{u("all"),f("all"),m(""),y(""),l("")},className:"w-full px-4 py-2.5 text-gray-700 hover:text-gray-900 border border-gray-300 rounded-lg transition-colors font-medium",children:"Clear Filters"})})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Xe,{className:"w-8 h-8 text-primary animate-spin"})}):e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[a.jsx(xr,{className:"w-12 h-12 mb-3 text-gray-300"}),a.jsx("p",{className:"text-sm",children:"No orders found"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Order"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Customer"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Status"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"SLA"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap hidden md:table-cell",children:"Items"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Total"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap hidden lg:table-cell",children:"Date"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(se=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsxs("td",{className:"px-4 sm:px-6 py-3 whitespace-nowrap",children:[a.jsx("div",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:se.order_number}),a.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",se.id]})]}),a.jsxs("td",{className:"px-4 sm:px-6 py-3 whitespace-nowrap",children:[a.jsx("div",{className:"text-xs sm:text-sm text-gray-900 font-medium truncate",children:se.customer_name}),a.jsx("div",{className:"text-xs text-gray-500 truncate",children:se.customer_email})]}),a.jsx("td",{className:"px-4 sm:px-6 py-3 whitespace-nowrap",children:le(se.status)}),a.jsx("td",{className:"px-4 sm:px-6 py-3 whitespace-nowrap text-xs",children:M(se)}),a.jsxs("td",{className:"px-4 sm:px-6 py-3 whitespace-nowrap text-xs sm:text-sm text-gray-600 hidden md:table-cell",children:[se.total_items," items"]}),a.jsx("td",{className:"px-4 sm:px-6 py-3 whitespace-nowrap",children:a.jsx("div",{className:"font-semibold text-gray-900 text-xs sm:text-sm",children:D(se.total_amount)})}),a.jsxs("td",{className:"px-4 sm:px-6 py-3 whitespace-nowrap text-xs sm:text-sm text-gray-600 hidden lg:table-cell",children:[Oe(new Date(se.created_at),"MMM d, yyyy"),a.jsx("div",{className:"text-xs text-gray-400",children:Oe(new Date(se.created_at),"h:mm a")})]}),a.jsx("td",{className:"px-4 sm:px-6 py-3 whitespace-nowrap text-right",children:a.jsx("button",{onClick:()=>J(se.id),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors flex-shrink-0 inline-flex",title:"View Details",children:a.jsx(ar,{className:"w-4 h-4"})})})]},se.id))})]})}),g>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(h-1)*15+1," to ",Math.min(h*15,S)," of ",S," orders"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>v(Math.max(1,h-1)),disabled:h===1,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(hn,{className:"w-5 h-5"})}),a.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded-lg text-sm",children:[h," / ",g]}),a.jsx("button",{onClick:()=>v(Math.min(g,h+1)),disabled:h===g,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(mn,{className:"w-5 h-5"})})]})]})]}),B&&_&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>R(!1)}),a.jsxs("div",{className:"relative bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:max-w-4xl sm:w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 flex items-center justify-between z-10",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Order ",_.order_number]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",Oe(new Date(_.created_at),"MMM d, yyyy h:mm a")]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[le(_.status),a.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(sr,{className:"w-5 h-5 text-gray-400"})})]})]}),a.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Items"}),a.jsx("div",{className:"space-y-3",children:(bt=_.items)==null?void 0:bt.map(se=>a.jsxs("div",{className:"flex items-center gap-4 bg-white rounded-lg p-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:se.product_image?a.jsx("img",{src:se.product_image,alt:se.product_name,className:"w-full h-full object-cover rounded-lg"}):a.jsx(xr,{className:"w-6 h-6 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:se.product_name}),se.sku&&a.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",se.sku]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-gray-900",children:D(se.price*se.quantity)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[se.quantity," x ",D(se.price)]})]})]},se.id))}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-between",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),a.jsx("span",{className:"font-bold text-lg text-gray-900",children:D(_.total_amount)})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Timeline"}),a.jsx("div",{className:"space-y-4",children:k.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No events recorded yet"}):k.map((se,Pe)=>a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${Pe===k.length-1?"bg-blue-500":"bg-gray-300"}`}),Pe<k.length-1&&a.jsx("div",{className:"w-0.5 h-full bg-gray-200 my-1"})]}),a.jsxs("div",{className:"flex-1 pb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-gray-900",children:se.new_status_display||se.event_type}),a.jsx("span",{className:"text-xs text-gray-400",children:Oe(new Date(se.created_at),"MMM d, h:mm a")})]}),se.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:se.notes}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["by ",se.actor_name," (",se.actor_type,")"]})]})]},se.id))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Customer"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(n4,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:_.customer_name}),a.jsx("p",{className:"text-sm text-gray-500",children:_.customer_email})]})]}),_.customer_phone&&a.jsxs("p",{className:"text-sm text-gray-600",children:[" ",_.customer_phone]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Delivery Address"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[_.delivery_address,a.jsx("br",{}),_.city,_.postal_code?`, ${_.postal_code}`:""]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Payment"}),a.jsx("p",{className:"text-sm text-gray-600",children:_.payment_method||"Not specified"})]}),O.length>0&&a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Update Status"}),a.jsx("div",{className:"space-y-2",children:O.map(se=>a.jsxs("button",{onClick:()=>{U(se.status),T(!0)},className:"w-full py-2 px-4 bg-white border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-blue-300 transition-colors text-left",children:[" ",se.display_name]},se.status))})]})]})]})]})]})}),I&&_&&a.jsx("div",{className:"fixed inset-0 z-[60] overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:()=>T(!1)}),a.jsxs("div",{className:"relative bg-white rounded-xl text-left overflow-hidden shadow-xl transform transition-all sm:max-w-md sm:w-full p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Update Order Status"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Change status from ",a.jsx("span",{className:"font-medium",children:Yu[_.status]})," to ",a.jsx("span",{className:"font-medium text-blue-600",children:Yu[E]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),a.jsx("textarea",{value:L,onChange:se=>A(se.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20",placeholder:"Add notes about this status update..."})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:H,onChange:se=>te(se.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Notify customer about this update"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:V,disabled:K,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:K?"Updating...":"Confirm Update"})]})]})]})]})})]})}const Fm={pending:"bg-yellow-100 text-yellow-800",picked_up:"bg-blue-100 text-blue-800",in_transit:"bg-indigo-100 text-indigo-800",at_facility:"bg-purple-100 text-purple-800",out_for_delivery:"bg-orange-100 text-orange-800",delivered:"bg-green-100 text-green-800",failed_attempt:"bg-red-100 text-red-800",delayed:"bg-red-100 text-red-800",returned_to_sender:"bg-gray-100 text-gray-800",cancelled:"bg-gray-100 text-gray-800"},Xu={pending:"Pending",picked_up:"Picked Up",in_transit:"In Transit",at_facility:"At Facility",out_for_delivery:"Out for Delivery",delivered:"Delivered",failed_attempt:"Failed Attempt",delayed:"Delayed",returned_to_sender:"Returned",cancelled:"Cancelled"};function Eoe(){var U,L;const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState(1),[d,f]=b.useState(1),[p,m]=b.useState("all"),[x,y]=b.useState(""),[h,v]=b.useState(!1),[g,j]=b.useState(!1),[S,N]=b.useState(null),[w,C]=b.useState([]),[_,P]=b.useState({order_id:"",courier_id:"",tracking_number:"",weight:"",dimensions:"",shipping_cost:"",estimated_delivery:"",notes:""}),[k,$]=b.useState({new_status:"",location:"",description:""});b.useEffect(()=>{O(),F(),B()},[c,p,x]);const O=async()=>{try{const A=await q.get("/admin/shipments",{params:{page:c,limit:20,status:p,search:x}});A.data.success&&(t(A.data.shipments),f(A.data.pagination.totalPages))}catch(A){console.error("Error fetching shipments:",A)}finally{l(!1)}},F=async()=>{try{const A=await q.get("/admin/shipments/stats");A.data.success&&n(A.data.stats)}catch(A){console.error("Error fetching stats:",A)}},B=async()=>{try{const A=await q.get("/admin/couriers");A.data.success&&i(A.data.couriers)}catch(A){console.error("Error fetching couriers:",A)}},R=async()=>{try{const A=await q.get("/admin/orders",{params:{status:"processing,ready_for_shipping",limit:100}});A.data.success&&C(A.data.orders)}catch(A){console.error("Error fetching orders:",A)}},z=async A=>{try{const H=await q.get(`/admin/shipments/${A}`);H.data.success&&(N(H.data.shipment),j(!0))}catch(H){console.error("Error fetching shipment detail:",H)}},G=async A=>{var H,te;A.preventDefault();try{(await q.post("/admin/shipments",{..._,order_id:Number(_.order_id),shipping_cost:_.shipping_cost?Number(_.shipping_cost):null})).data.success&&(v(!1),P({order_id:"",courier_id:"",tracking_number:"",weight:"",dimensions:"",shipping_cost:"",estimated_delivery:"",notes:""}),O(),F())}catch(K){alert(((te=(H=K.response)==null?void 0:H.data)==null?void 0:te.message)||"Failed to create shipment")}},I=async A=>{var H,te;if(A.preventDefault(),!(!S||!k.new_status))try{(await q.put(`/admin/shipments/${S.id}/status`,k)).data.success&&(z(S.id),O(),F(),$({new_status:"",location:"",description:""}))}catch(K){alert(((te=(H=K.response)==null?void 0:H.data)==null?void 0:te.message)||"Failed to update status")}},T=()=>{R(),v(!0)},E=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shipment Management"}),a.jsx("p",{className:"text-gray-600",children:"Track and manage order shipments"})]}),a.jsxs("button",{onClick:T,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Shipment"]})]}),r&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_shipments}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r.pending}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.picked_up}),a.jsx("p",{className:"text-sm text-gray-600",children:"Picked Up"})]}),a.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:r.in_transit}),a.jsx("p",{className:"text-sm text-gray-600",children:"In Transit"})]}),a.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:r.out_for_delivery}),a.jsx("p",{className:"text-sm text-gray-600",children:"Out for Delivery"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.delivered}),a.jsx("p",{className:"text-sm text-gray-600",children:"Delivered"})]}),a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.issues}),a.jsx("p",{className:"text-sm text-gray-600",children:"Issues"})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg shadow",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",((U=r.total_shipping_cost)==null?void 0:U.toFixed(2))||"0.00"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Cost"})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow mb-6 flex flex-wrap gap-4 items-center",children:[a.jsx("div",{children:a.jsxs("select",{value:p,onChange:A=>{m(A.target.value),u(1)},className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"all",children:"All Statuses"}),Object.entries(Xu).map(([A,H])=>a.jsx("option",{value:A,children:H},A))]})}),a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsx("input",{type:"text",placeholder:"Search by shipment/tracking/order number...",value:x,onChange:A=>{y(A.target.value),u(1)},className:"w-full border rounded-lg px-3 py-2"})}),a.jsx("button",{onClick:()=>{m("all"),y(""),u(1)},className:"text-gray-600 hover:text-gray-900",children:"Clear Filters"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:o?a.jsx("div",{className:"p-8 text-center",children:"Loading..."}):e.length===0?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No shipments found"}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Shipment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Courier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Tracking"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"font-mono text-sm",children:A.shipment_number})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"font-mono text-sm text-blue-600",children:A.order_number})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.customer_name}),a.jsx("p",{className:"text-xs text-gray-500",children:A.customer_email})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm",children:A.courier_name})}),a.jsx("td",{className:"px-6 py-4",children:A.tracking_number?A.tracking_url?a.jsx("a",{href:A.tracking_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline font-mono",children:A.tracking_number}):a.jsx("span",{className:"font-mono text-sm",children:A.tracking_number}):a.jsx("span",{className:"text-gray-400 text-sm",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Fm[A.status]||"bg-gray-100"}`,children:Xu[A.status]||A.status})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:E(A.created_at)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>z(A.id),className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"View Details"})})]},A.id))})]})}),d>1&&a.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[a.jsx("button",{onClick:()=>u(A=>Math.max(1,A-1)),disabled:c===1,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"px-4 py-2",children:["Page ",c," of ",d]}),a.jsx("button",{onClick:()=>u(A=>Math.min(d,A+1)),disabled:c===d,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Next"})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Create Shipment"}),a.jsx("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:G,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order *"}),a.jsxs("select",{value:_.order_id,onChange:A=>P({..._,order_id:A.target.value}),required:!0,className:"w-full border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"Select an order"}),w.map(A=>a.jsxs("option",{value:A.id,children:[A.order_number," - ",A.customer_name," ($",A.total_amount.toFixed(2),")"]},A.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Courier *"}),a.jsxs("select",{value:_.courier_id,onChange:A=>P({..._,courier_id:A.target.value}),required:!0,className:"w-full border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"Select a courier"}),s.map(A=>a.jsx("option",{value:A.code,children:A.name},A.code))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tracking Number"}),a.jsx("input",{type:"text",value:_.tracking_number,onChange:A=>P({..._,tracking_number:A.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"e.g., 1Z999AA10123456784"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),a.jsx("input",{type:"text",value:_.weight,onChange:A=>P({..._,weight:A.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"e.g., 2.5 kg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dimensions"}),a.jsx("input",{type:"text",value:_.dimensions,onChange:A=>P({..._,dimensions:A.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"e.g., 30x20x15 cm"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shipping Cost"}),a.jsx("input",{type:"number",step:"0.01",value:_.shipping_cost,onChange:A=>P({..._,shipping_cost:A.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Delivery"}),a.jsx("input",{type:"date",value:_.estimated_delivery,onChange:A=>P({..._,estimated_delivery:A.target.value}),className:"w-full border rounded-lg px-3 py-2"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:_.notes,onChange:A=>P({..._,notes:A.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2,placeholder:"Any special instructions..."})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Shipment"})]})]})]})}),g&&S&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:S.shipment_number}),a.jsxs("p",{className:"text-gray-600",children:["Order: ",S.order_number]})]}),a.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"mb-6",children:a.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${Fm[S.status]||"bg-gray-100"}`,children:Xu[S.status]||S.status})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Courier"}),a.jsx("p",{className:"font-medium",children:S.courier_name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tracking Number"}),S.tracking_number?S.tracking_url?a.jsxs("a",{href:S.tracking_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline",children:[S.tracking_number," "]}):a.jsx("p",{className:"font-medium font-mono",children:S.tracking_number}):a.jsx("p",{className:"text-gray-400",children:"Not assigned"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Customer"}),a.jsx("p",{className:"font-medium",children:S.customer_name}),a.jsx("p",{className:"text-sm text-gray-500",children:S.customer_email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Order Total"}),a.jsxs("p",{className:"font-medium",children:["$",(L=S.order_total)==null?void 0:L.toFixed(2)]})]}),S.estimated_delivery&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Estimated Delivery"}),a.jsx("p",{className:"font-medium",children:E(S.estimated_delivery)})]}),S.actual_delivery&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Delivered At"}),a.jsx("p",{className:"font-medium text-green-600",children:E(S.actual_delivery)})]})]}),S.available_transitions&&S.available_transitions.length>0&&a.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Update Status"}),a.jsxs("form",{onSubmit:I,className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{value:k.new_status,onChange:A=>$({...k,new_status:A.target.value}),required:!0,className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"Select new status"}),S.available_transitions.map(A=>a.jsx("option",{value:A.status,children:A.label},A.status))]}),a.jsx("input",{type:"text",placeholder:"Location (optional)",value:k.location,onChange:A=>$({...k,location:A.target.value}),className:"border rounded-lg px-3 py-2"})]}),a.jsx("input",{type:"text",placeholder:"Description (optional)",value:k.description,onChange:A=>$({...k,description:A.target.value}),className:"w-full border rounded-lg px-3 py-2"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Update Status"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Tracking Timeline"}),S.timeline&&S.timeline.length>0?a.jsx("div",{className:"space-y-3",children:S.timeline.map((A,H)=>a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${H===0?"bg-blue-600":"bg-gray-300"}`}),H<S.timeline.length-1&&a.jsx("div",{className:"w-0.5 h-full bg-gray-200 mt-1"})]}),a.jsx("div",{className:"flex-1 pb-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${Fm[A.status]||"bg-gray-100"}`,children:Xu[A.status]||A.status}),a.jsx("p",{className:"text-sm mt-1",children:A.description}),A.location&&a.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[" ",A.location]})]}),a.jsx("span",{className:"text-xs text-gray-500",children:E(A.event_time)})]})})]},A.id||H))}):a.jsx("p",{className:"text-gray-500 text-sm",children:"No tracking events yet"})]})]})})]})}const U2={pending:"bg-yellow-100 text-yellow-800",more_info_needed:"bg-orange-100 text-orange-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",pickup_scheduled:"bg-blue-100 text-blue-800",pickup_failed:"bg-red-100 text-red-800",awaiting_return:"bg-purple-100 text-purple-800",picked_up:"bg-indigo-100 text-indigo-800",in_transit:"bg-indigo-100 text-indigo-800",received:"bg-teal-100 text-teal-800",inspecting:"bg-cyan-100 text-cyan-800",inspection_passed:"bg-green-100 text-green-800",inspection_failed:"bg-red-100 text-red-800",refund_initiated:"bg-blue-100 text-blue-800",refund_partial:"bg-blue-100 text-blue-800",replacement_initiated:"bg-purple-100 text-purple-800",completed:"bg-gray-100 text-gray-800"};function Toe(){var ue,de,re,J;const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(1),[c,u]=b.useState(1),[d,f]=b.useState("all"),[p,m]=b.useState(""),[x,y]=b.useState(!1),[h,v]=b.useState(null),[g,j]=b.useState(!1),[S,N]=b.useState(!1),[w,C]=b.useState(!1),[_,P]=b.useState(!1),[k,$]=b.useState({notes:"",pickup_scheduled:"",pickup_carrier:""}),[O,F]=b.useState({notes:""}),[B,R]=b.useState({amount:"",payment_mode:"original",notes:""}),[z,G]=b.useState({new_status:"",notes:""});b.useEffect(()=>{I(),T()},[o,d,p]);const I=async()=>{try{const V=await q.get("/returns/admin",{params:{page:o,limit:20,status:d,search:p}});V.data.success&&(t(V.data.returns),u(V.data.pagination.totalPages))}catch(V){console.error("Error fetching returns:",V)}finally{i(!1)}},T=async()=>{try{const V=await q.get("/returns/admin/stats");V.data.success&&n(V.data.stats)}catch(V){console.error("Error fetching stats:",V)}},E=async V=>{try{const D=await q.get(`/returns/admin/${V}`);D.data.success&&(v(D.data.return_request),y(!0))}catch(D){console.error("Error fetching return detail:",D)}},U=async V=>{var D,le;if(V.preventDefault(),!!h)try{(await q.put(`/returns/admin/${h.id}/approve`,k)).data.success&&(j(!1),$({notes:"",pickup_scheduled:"",pickup_carrier:""}),E(h.id),I(),T())}catch(M){alert(((le=(D=M.response)==null?void 0:D.data)==null?void 0:le.message)||"Failed to approve return")}},L=async V=>{var D,le;if(V.preventDefault(),!(!h||!O.notes))try{(await q.put(`/returns/admin/${h.id}/reject`,O)).data.success&&(N(!1),F({notes:""}),E(h.id),I(),T())}catch(M){alert(((le=(D=M.response)==null?void 0:D.data)==null?void 0:le.message)||"Failed to reject return")}},A=async V=>{var D,le;if(V.preventDefault(),!(!h||!z.new_status))try{(await q.put(`/returns/admin/${h.id}/status`,z)).data.success&&(G({new_status:"",notes:""}),E(h.id),I(),T())}catch(M){alert(((le=(D=M.response)==null?void 0:D.data)==null?void 0:le.message)||"Failed to update status")}},H=async V=>{var D,le;if(V.preventDefault(),!!h)try{(await q.post("/refunds/admin",{order_id:h.order_id,return_id:h.id,amount:Number(B.amount),reason:"return",payment_mode:B.payment_mode,notes:B.notes})).data.success&&(C(!1),R({amount:"",payment_mode:"original",notes:""}),E(h.id),I(),T(),alert("Refund initiated successfully"))}catch(M){alert(((le=(D=M.response)==null?void 0:D.data)==null?void 0:le.message)||"Failed to initiate refund")}},te=async()=>{var V,D;if(h)try{const le=await q.post("/replacements/admin",{original_order_id:h.order_id,return_id:h.id,reason:h.reason_code,items:h.items,auto_approve:!0});le.data.success&&(P(!1),E(h.id),I(),T(),alert(`Replacement order created: ${le.data.replacement.replacement_number}`))}catch(le){alert(((D=(V=le.response)==null?void 0:V.data)==null?void 0:D.message)||"Failed to create replacement")}},K=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Return Requests"}),a.jsx("p",{className:"text-gray-600",children:"Manage customer return requests"})]}),r&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_returns}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r.pending}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.approved}),a.jsx("p",{className:"text-sm text-gray-600",children:"Approved"})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.in_process}),a.jsx("p",{className:"text-sm text-gray-600",children:"Processing"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-600",children:r.completed}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]}),a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.rejected}),a.jsx("p",{className:"text-sm text-gray-600",children:"Rejected"})]}),a.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:r.refund_requests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Refund Req."})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.replacement_requests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Replacement"})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow mb-6 flex flex-wrap gap-4 items-center",children:[a.jsx("div",{children:a.jsxs("select",{value:d,onChange:V=>{f(V.target.value),l(1)},className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"}),a.jsx("option",{value:"inspecting",children:"Inspecting"}),a.jsx("option",{value:"completed",children:"Completed"})]})}),a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsx("input",{type:"text",placeholder:"Search by return/order number or customer...",value:p,onChange:V=>{m(V.target.value),l(1)},className:"w-full border rounded-lg px-3 py-2"})}),a.jsx("button",{onClick:()=>{f("all"),m(""),l(1)},className:"text-gray-600 hover:text-gray-900",children:"Clear Filters"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:s?a.jsx("div",{className:"p-8 text-center",children:"Loading..."}):e.length===0?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No return requests found"}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Return #"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Reason"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Action"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(V=>{var D;return a.jsxs("tr",{className:`hover:bg-gray-50 ${V.status==="pending"?"bg-yellow-50":""}`,children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"font-mono text-sm",children:V.return_number})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("span",{className:"font-mono text-sm text-blue-600",children:V.order_number}),a.jsxs("p",{className:"text-xs text-gray-500",children:["$",(D=V.order_total)==null?void 0:D.toFixed(2)]})]}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:V.customer_name}),a.jsx("p",{className:"text-xs text-gray-500",children:V.customer_email})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm",children:V.reason_label})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${V.requested_action==="refund"?"bg-green-100 text-green-800":V.requested_action==="replacement"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:V.action_label})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${U2[V.status]||"bg-gray-100"}`,children:V.status_label})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:K(V.created_at)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>E(V.id),className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"View"})})]},V.id)})})]})}),c>1&&a.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[a.jsx("button",{onClick:()=>l(V=>Math.max(1,V-1)),disabled:o===1,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"px-4 py-2",children:["Page ",o," of ",c]}),a.jsx("button",{onClick:()=>l(V=>Math.min(c,V+1)),disabled:o===c,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Next"})]}),x&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:h.return_number}),a.jsxs("p",{className:"text-gray-600",children:["Order: ",h.order_number]})]}),a.jsx("button",{onClick:()=>y(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[a.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${U2[h.status]||"bg-gray-100"}`,children:h.status_label}),h.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>j(!0),className:"px-4 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700",children:" Approve"}),a.jsx("button",{onClick:()=>N(!0),className:"px-4 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700",children:" Reject"})]}),h.status==="inspection_passed"&&!h.refund&&!h.replacement&&a.jsxs(a.Fragment,{children:[h.requested_action==="refund"&&a.jsx("button",{onClick:()=>{var V;R({...B,amount:((V=h.order_total)==null?void 0:V.toString())||""}),C(!0)},className:"px-4 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:" Initiate Refund"}),h.requested_action==="replacement"&&a.jsx("button",{onClick:()=>P(!0),className:"px-4 py-1 bg-purple-600 text-white text-sm rounded-lg hover:bg-purple-700",children:" Create Replacement"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Customer"}),a.jsx("p",{className:"font-medium",children:h.customer_name}),a.jsx("p",{className:"text-sm text-gray-500",children:h.customer_email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Order Total"}),a.jsxs("p",{className:"font-medium",children:["$",(ue=h.order_total)==null?void 0:ue.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Requested Action"}),a.jsx("p",{className:"font-medium",children:h.action_label})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Reason"}),a.jsx("p",{className:"font-medium",children:h.reason_label}),h.reason_text&&a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:['"',h.reason_text,'"']})]}),h.pickup_address&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Pickup Address"}),a.jsx("p",{className:"font-medium",children:h.pickup_address})]}),h.admin_notes&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Admin Notes"}),a.jsx("p",{className:"text-sm",children:h.admin_notes})]})]}),h.refund&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Linked Refund"}),a.jsxs("p",{className:"text-sm",children:["Refund #",h.refund.refund_number," - $",h.refund.amount]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Status: ",h.refund.status]})]}),h.replacement&&a.jsxs("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"Linked Replacement"}),a.jsxs("p",{className:"text-sm",children:["Replacement #",h.replacement.replacement_number]}),h.replacement.replacement_order_number&&a.jsxs("p",{className:"text-xs text-gray-600",children:["New Order: ",h.replacement.replacement_order_number]})]}),h.available_transitions&&h.available_transitions.length>0&&a.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Update Status"}),a.jsxs("form",{onSubmit:A,className:"flex gap-3",children:[a.jsxs("select",{value:z.new_status,onChange:V=>G({...z,new_status:V.target.value}),required:!0,className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"Select new status"}),h.available_transitions.map(V=>a.jsx("option",{value:V.status,children:V.label},V.status))]}),a.jsx("input",{type:"text",placeholder:"Notes (optional)",value:z.notes,onChange:V=>G({...z,notes:V.target.value}),className:"flex-1 border rounded-lg px-3 py-2"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Update"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-3",children:"Activity Timeline"}),h.timeline&&h.timeline.length>0?a.jsx("div",{className:"space-y-3",children:h.timeline.map((V,D)=>a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${D===0?"bg-blue-600":"bg-gray-300"}`}),D<h.timeline.length-1&&a.jsx("div",{className:"w-0.5 h-full bg-gray-200 mt-1"})]}),a.jsx("div",{className:"flex-1 pb-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium capitalize",children:V.event_type.replace("_"," ")}),V.notes&&a.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:V.notes})]}),a.jsx("span",{className:"text-xs text-gray-500",children:K(V.created_at)})]})})]},D))}):a.jsx("p",{className:"text-gray-500 text-sm",children:"No activity yet"})]})]})}),g&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Approve Return"}),a.jsxs("form",{onSubmit:U,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup Date"}),a.jsx("input",{type:"date",value:k.pickup_scheduled,onChange:V=>$({...k,pickup_scheduled:V.target.value}),className:"w-full border rounded-lg px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup Carrier"}),a.jsx("input",{type:"text",value:k.pickup_carrier,onChange:V=>$({...k,pickup_carrier:V.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"e.g., FedEx, UPS"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:k.notes,onChange:V=>$({...k,notes:V.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 px-4 py-2 border rounded-lg",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve Return"})]})]})]})}),S&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Reject Return"}),a.jsxs("form",{onSubmit:L,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rejection Reason *"}),a.jsx("textarea",{value:O.notes,onChange:V=>F({notes:V.target.value}),required:!0,className:"w-full border rounded-lg px-3 py-2",rows:3,placeholder:"Please provide a reason for rejection..."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 px-4 py-2 border rounded-lg",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject Return"})]})]})]})}),w&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Initiate Refund"}),a.jsxs("form",{onSubmit:H,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refund Amount *"}),a.jsx("input",{type:"number",step:"0.01",value:B.amount,onChange:V=>R({...B,amount:V.target.value}),required:!0,className:"w-full border rounded-lg px-3 py-2",max:h.order_total}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Max: $",(de=h.order_total)==null?void 0:de.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Mode"}),a.jsxs("select",{value:B.payment_mode,onChange:V=>R({...B,payment_mode:V.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"original",children:"Original Payment Method"}),a.jsx("option",{value:"wallet",children:"Store Credit/Wallet"}),a.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:B.notes,onChange:V=>R({...B,notes:V.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>C(!1),className:"flex-1 px-4 py-2 border rounded-lg",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Initiate Refund"})]})]})]})}),_&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Replacement Order"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"This will create a new order for the customer with the same items as the original order."}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:[a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Original Order:"})," ",h.order_number]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Items:"})," ",((re=h.items)==null?void 0:re.length)||0," items"]}),a.jsxs("p",{className:"text-sm",children:[a.jsx("strong",{children:"Amount:"})," $",(J=h.order_total)==null?void 0:J.toFixed(2)]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>P(!1),className:"flex-1 px-4 py-2 border rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:te,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Replacement"})]})]})})]})}const z2={pending:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",processing:"bg-indigo-100 text-indigo-800",completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",rejected:"bg-gray-100 text-gray-800"};function $oe(){var B,R,z,G,I;const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(1),[c,u]=b.useState(1),[d,f]=b.useState("all"),[p,m]=b.useState(""),[x,y]=b.useState(!1),[h,v]=b.useState(null),[g,j]=b.useState(!1),[S,N]=b.useState({transaction_id:"",bank_reference:"",notes:""}),[w,C]=b.useState({new_status:"",notes:""});b.useEffect(()=>{_(),P()},[o,d,p]);const _=async()=>{try{const T=await q.get("/refunds/admin",{params:{page:o,limit:20,status:d,search:p}});T.data.success&&(t(T.data.refunds),u(T.data.pagination.totalPages))}catch(T){console.error("Error fetching refunds:",T)}finally{i(!1)}},P=async()=>{try{const T=await q.get("/refunds/admin/stats");T.data.success&&n(T.data.stats)}catch(T){console.error("Error fetching stats:",T)}},k=async T=>{try{const E=await q.get(`/refunds/admin/${T}`);E.data.success&&(v(E.data.refund),y(!0))}catch(E){console.error("Error fetching refund detail:",E)}},$=async T=>{var E,U;if(T.preventDefault(),!!h)try{(await q.put(`/refunds/admin/${h.id}/process`,S)).data.success&&(j(!1),N({transaction_id:"",bank_reference:"",notes:""}),k(h.id),_(),P(),alert("Refund processed successfully"))}catch(L){alert(((U=(E=L.response)==null?void 0:E.data)==null?void 0:U.message)||"Failed to process refund")}},O=async T=>{var E,U;if(T.preventDefault(),!(!h||!w.new_status))try{(await q.put(`/refunds/admin/${h.id}/status`,w)).data.success&&(C({new_status:"",notes:""}),k(h.id),_(),P())}catch(L){alert(((U=(E=L.response)==null?void 0:E.data)==null?void 0:U.message)||"Failed to update status")}},F=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Refund Management"}),a.jsx("p",{className:"text-gray-600",children:"Process and track customer refunds"})]}),r&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_refunds}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Refunds"})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r.pending}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["$",((B=r.pending_amount)==null?void 0:B.toFixed(2))||"0.00"]})]}),a.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:r.processing}),a.jsx("p",{className:"text-sm text-gray-600",children:"Processing"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completed}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["$",((R=r.refunded_amount)==null?void 0:R.toFixed(2))||"0.00"]})]}),a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.failed+r.rejected}),a.jsx("p",{className:"text-sm text-gray-600",children:"Failed/Rejected"})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg shadow",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",((z=r.total_amount)==null?void 0:z.toFixed(2))||"0.00"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"})]})]}),(r==null?void 0:r.today)&&a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-4 rounded-lg shadow mb-6",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Today's Summary"}),a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:r.today.created_today}),a.jsx("p",{className:"text-sm opacity-90",children:"New Refunds"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:r.today.completed_today}),a.jsx("p",{className:"text-sm opacity-90",children:"Completed"})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",((G=r.today.amount_today)==null?void 0:G.toFixed(2))||"0.00"]}),a.jsx("p",{className:"text-sm opacity-90",children:"Amount Refunded"})]})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow mb-6 flex flex-wrap gap-4 items-center",children:[a.jsx("div",{children:a.jsxs("select",{value:d,onChange:T=>{f(T.target.value),l(1)},className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"failed",children:"Failed"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})}),a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsx("input",{type:"text",placeholder:"Search by refund/order number or customer...",value:p,onChange:T=>{m(T.target.value),l(1)},className:"w-full border rounded-lg px-3 py-2"})}),a.jsx("button",{onClick:()=>{f("all"),m(""),l(1)},className:"text-gray-600 hover:text-gray-900",children:"Clear Filters"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:s?a.jsx("div",{className:"p-8 text-center",children:"Loading..."}):e.length===0?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No refunds found"}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Refund #"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Reason"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Payment Mode"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(T=>a.jsxs("tr",{className:`hover:bg-gray-50 ${T.status==="pending"?"bg-yellow-50":""}`,children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("span",{className:"font-mono text-sm",children:T.refund_number}),T.return_number&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Return: ",T.return_number]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"font-mono text-sm text-blue-600",children:T.order_number})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.customer_name}),a.jsx("p",{className:"text-xs text-gray-500",children:T.customer_email})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"text-sm font-bold text-green-600",children:[T.currency," ",T.amount.toFixed(2)]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm",children:T.reason_label})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm",children:T.payment_mode_label})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${z2[T.status]||"bg-gray-100"}`,children:T.status_label})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:F(T.created_at)}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>k(T.id),className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"View"}),["pending","approved"].includes(T.status)&&a.jsx("button",{onClick:()=>{v(T),j(!0)},className:"text-green-600 hover:text-green-900 text-sm font-medium",children:"Process"})]})})]},T.id))})]})}),c>1&&a.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[a.jsx("button",{onClick:()=>l(T=>Math.max(1,T-1)),disabled:o===1,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"px-4 py-2",children:["Page ",o," of ",c]}),a.jsx("button",{onClick:()=>l(T=>Math.min(c,T+1)),disabled:o===c,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Next"})]}),x&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:h.refund_number}),a.jsxs("p",{className:"text-gray-600",children:["Order: ",h.order_number]})]}),a.jsx("button",{onClick:()=>y(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[a.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${z2[h.status]||"bg-gray-100"}`,children:h.status_label}),["pending","approved"].includes(h.status)&&a.jsx("button",{onClick:()=>{y(!1),j(!0)},className:"px-4 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700",children:" Process Refund"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6 text-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Refund Amount"}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[h.currency," ",h.amount.toFixed(2)]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["of $",(I=h.order_total)==null?void 0:I.toFixed(2)," order total"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Customer"}),a.jsx("p",{className:"font-medium",children:h.customer_name}),a.jsx("p",{className:"text-sm text-gray-500",children:h.customer_email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Reason"}),a.jsx("p",{className:"font-medium",children:h.reason_label})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Payment Mode"}),a.jsx("p",{className:"font-medium",children:h.payment_mode_label})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Initiated By"}),a.jsx("p",{className:"font-medium",children:h.initiated_by_email||"N/A"})]}),h.return_number&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Linked Return"}),a.jsx("p",{className:"font-medium font-mono",children:h.return_number})]}),h.transaction_id&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Transaction ID"}),a.jsx("p",{className:"font-medium font-mono",children:h.transaction_id})]}),h.bank_reference&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Bank Reference"}),a.jsx("p",{className:"font-medium font-mono",children:h.bank_reference})]}),h.processed_at&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Processed At"}),a.jsx("p",{className:"font-medium",children:F(h.processed_at)}),h.processed_by_email&&a.jsxs("p",{className:"text-sm text-gray-500",children:["by ",h.processed_by_email]})]})]}),h.notes&&a.jsxs("div",{className:"mb-6 p-3 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Notes"}),a.jsx("p",{className:"text-sm",children:h.notes})]}),h.available_transitions&&h.available_transitions.length>0&&a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Update Status"}),a.jsxs("form",{onSubmit:O,className:"flex gap-3",children:[a.jsxs("select",{value:w.new_status,onChange:T=>C({...w,new_status:T.target.value}),required:!0,className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"Select new status"}),h.available_transitions.map(T=>a.jsx("option",{value:T.status,children:T.label},T.status))]}),a.jsx("input",{type:"text",placeholder:"Notes (optional)",value:w.notes,onChange:T=>C({...w,notes:T.target.value}),className:"flex-1 border rounded-lg px-3 py-2"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Update"})]})]})]})}),g&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Process Refund"}),a.jsxs("div",{className:"bg-green-50 p-3 rounded-lg mb-4 text-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Amount to Refund"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[h.currency," ",h.amount.toFixed(2)]})]}),a.jsxs("form",{onSubmit:$,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction ID"}),a.jsx("input",{type:"text",value:S.transaction_id,onChange:T=>N({...S,transaction_id:T.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"Payment gateway transaction ID"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Reference"}),a.jsx("input",{type:"text",value:S.bank_reference,onChange:T=>N({...S,bank_reference:T.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"Bank reference number (optional)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:S.notes,onChange:T=>N({...S,notes:T.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2,placeholder:"Processing notes..."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 px-4 py-2 border rounded-lg",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Complete Refund"})]})]})]})})]})}const W2={pending:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",processing:"bg-indigo-100 text-indigo-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",rejected:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"};function Moe(){var T;const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(1),[c,u]=b.useState(1),[d,f]=b.useState("all"),[p,m]=b.useState(""),[x,y]=b.useState(!1),[h,v]=b.useState(null),[g,j]=b.useState(!1),[S,N]=b.useState(!1),[w,C]=b.useState({notes:"",create_order:!0}),[_,P]=b.useState({notes:""}),[k,$]=b.useState({new_status:"",notes:""});b.useEffect(()=>{O(),F()},[o,d,p]);const O=async()=>{try{const E=await q.get("/replacements/admin",{params:{page:o,limit:20,status:d,search:p}});E.data.success&&(t(E.data.replacements),u(E.data.pagination.totalPages))}catch(E){console.error("Error fetching replacements:",E)}finally{i(!1)}},F=async()=>{try{const E=await q.get("/replacements/admin/stats");E.data.success&&n(E.data.stats)}catch(E){console.error("Error fetching stats:",E)}},B=async E=>{try{const U=await q.get(`/replacements/admin/${E}`);U.data.success&&(v(U.data.replacement),y(!0))}catch(U){console.error("Error fetching replacement detail:",U)}},R=async E=>{var U,L;if(E.preventDefault(),!!h)try{const A=await q.put(`/replacements/admin/${h.id}/approve`,w);A.data.success&&(j(!1),C({notes:"",create_order:!0}),B(h.id),O(),F(),A.data.replacement_order_number?alert(`Replacement approved! New order: ${A.data.replacement_order_number}`):alert("Replacement approved successfully"))}catch(A){alert(((L=(U=A.response)==null?void 0:U.data)==null?void 0:L.message)||"Failed to approve replacement")}},z=async E=>{var U,L;if(E.preventDefault(),!(!h||!_.notes))try{(await q.put(`/replacements/admin/${h.id}/reject`,_)).data.success&&(N(!1),P({notes:""}),B(h.id),O(),F())}catch(A){alert(((L=(U=A.response)==null?void 0:U.data)==null?void 0:L.message)||"Failed to reject replacement")}},G=async E=>{var U,L;if(E.preventDefault(),!(!h||!k.new_status))try{(await q.put(`/replacements/admin/${h.id}/status`,k)).data.success&&($({new_status:"",notes:""}),B(h.id),O(),F())}catch(A){alert(((L=(U=A.response)==null?void 0:U.data)==null?void 0:L.message)||"Failed to update status")}},I=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Replacement Orders"}),a.jsx("p",{className:"text-gray-600",children:"Manage product replacement requests"})]}),r&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_replacements}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r.pending}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pending"})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.approved}),a.jsx("p",{className:"text-sm text-gray-600",children:"Approved"})]}),a.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:r.processing}),a.jsx("p",{className:"text-sm text-gray-600",children:"Processing"})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.in_transit}),a.jsx("p",{className:"text-sm text-gray-600",children:"In Transit"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completed}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed"})]}),a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg shadow",children:[a.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.rejected}),a.jsx("p",{className:"text-sm text-gray-600",children:"Rejected"})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow mb-6 flex flex-wrap gap-4 items-center",children:[a.jsx("div",{children:a.jsxs("select",{value:d,onChange:E=>{f(E.target.value),l(1)},className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"shipped",children:"Shipped"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"rejected",children:"Rejected"})]})}),a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsx("input",{type:"text",placeholder:"Search by replacement/order number or customer...",value:p,onChange:E=>{m(E.target.value),l(1)},className:"w-full border rounded-lg px-3 py-2"})}),a.jsx("button",{onClick:()=>{f("all"),m(""),l(1)},className:"text-gray-600 hover:text-gray-900",children:"Clear Filters"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:s?a.jsx("div",{className:"p-8 text-center",children:"Loading..."}):e.length===0?a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No replacement orders found"}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Replacement #"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Original Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Reason"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"New Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(E=>{var U;return a.jsxs("tr",{className:`hover:bg-gray-50 ${E.status==="pending"?"bg-yellow-50":""}`,children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("span",{className:"font-mono text-sm",children:E.replacement_number}),E.return_number&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Return: ",E.return_number]})]}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("span",{className:"font-mono text-sm text-blue-600",children:E.original_order_number}),a.jsxs("p",{className:"text-xs text-gray-500",children:["$",(U=E.original_order_total)==null?void 0:U.toFixed(2)]})]}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.customer_name}),a.jsx("p",{className:"text-xs text-gray-500",children:E.customer_email})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm",children:E.reason_label})}),a.jsx("td",{className:"px-6 py-4",children:E.replacement_order_number?a.jsxs("div",{children:[a.jsx("span",{className:"font-mono text-sm text-green-600",children:E.replacement_order_number}),a.jsx("p",{className:"text-xs text-gray-500",children:E.replacement_order_status})]}):a.jsx("span",{className:"text-gray-400 text-sm",children:"Not created"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${W2[E.status]||"bg-gray-100"}`,children:E.status_label})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:I(E.created_at)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>B(E.id),className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"View"})})]},E.id)})})]})}),c>1&&a.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[a.jsx("button",{onClick:()=>l(E=>Math.max(1,E-1)),disabled:o===1,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Previous"}),a.jsxs("span",{className:"px-4 py-2",children:["Page ",o," of ",c]}),a.jsx("button",{onClick:()=>l(E=>Math.min(c,E+1)),disabled:o===c,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Next"})]}),x&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:h.replacement_number}),a.jsxs("p",{className:"text-gray-600",children:["Original: ",h.original_order_number]})]}),a.jsx("button",{onClick:()=>y(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[a.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${W2[h.status]||"bg-gray-100"}`,children:h.status_label}),h.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>j(!0),className:"px-4 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700",children:" Approve"}),a.jsx("button",{onClick:()=>N(!0),className:"px-4 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700",children:" Reject"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Customer"}),a.jsx("p",{className:"font-medium",children:h.customer_name}),a.jsx("p",{className:"text-sm text-gray-500",children:h.customer_email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Original Order Total"}),a.jsxs("p",{className:"font-medium",children:["$",(T=h.original_order_total)==null?void 0:T.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Reason"}),a.jsx("p",{className:"font-medium",children:h.reason_label})]}),h.return_number&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Linked Return"}),a.jsx("p",{className:"font-medium font-mono",children:h.return_number})]}),h.replacement_order_number&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"New Order"}),a.jsx("p",{className:"font-medium font-mono text-green-600",children:h.replacement_order_number}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Status: ",h.replacement_order_status]})]}),h.approved_at&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Approved At"}),a.jsx("p",{className:"font-medium",children:I(h.approved_at)})]})]}),h.items&&h.items.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Replacement Items"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:h.items.map((E,U)=>a.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:E.name||E.product_name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",E.quantity||1]})]}),a.jsxs("p",{className:"text-sm font-medium",children:["$",((E.price||0)*(E.quantity||1)).toFixed(2)]})]},U))})]}),h.notes&&a.jsxs("div",{className:"mb-6 p-3 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Notes"}),a.jsx("p",{className:"text-sm",children:h.notes})]}),h.available_transitions&&h.available_transitions.length>0&&a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-3",children:"Update Status"}),a.jsxs("form",{onSubmit:G,className:"flex gap-3",children:[a.jsxs("select",{value:k.new_status,onChange:E=>$({...k,new_status:E.target.value}),required:!0,className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"Select new status"}),h.available_transitions.map(E=>a.jsx("option",{value:E.status,children:E.label},E.status))]}),a.jsx("input",{type:"text",placeholder:"Notes (optional)",value:k.notes,onChange:E=>$({...k,notes:E.target.value}),className:"flex-1 border rounded-lg px-3 py-2"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Update"})]})]})]})}),g&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Approve Replacement"}),a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"create_order",checked:w.create_order,onChange:E=>C({...w,create_order:E.target.checked}),className:"w-4 h-4"}),a.jsx("label",{htmlFor:"create_order",className:"text-sm font-medium text-gray-700",children:"Create replacement order automatically"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),a.jsx("textarea",{value:w.notes,onChange:E=>C({...w,notes:E.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 px-4 py-2 border rounded-lg",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"})]})]})]})}),S&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Reject Replacement"}),a.jsxs("form",{onSubmit:z,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rejection Reason *"}),a.jsx("textarea",{value:_.notes,onChange:E=>P({notes:E.target.value}),required:!0,className:"w-full border rounded-lg px-3 py-2",rows:3,placeholder:"Please provide a reason for rejection..."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>N(!1),className:"flex-1 px-4 py-2 border rounded-lg",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject"})]})]})]})})]})}const Doe=()=>{var Q,Me,tt;const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState(null),[d,f]=b.useState([]),[p,m]=b.useState(!1),[x,y]=b.useState(!1),[h,v]=b.useState(!1),[g,j]=b.useState(!1),[S,N]=b.useState("all"),[w,C]=b.useState("all"),[_,P]=b.useState("all"),[k,$]=b.useState("all"),[O,F]=b.useState(""),[B,R]=b.useState(1),[z,G]=b.useState(1),[I,T]=b.useState(""),[E,U]=b.useState(!1),[L,A]=b.useState(null),[H,te]=b.useState(""),[K,ue]=b.useState(""),[de,re]=b.useState(""),[J,V]=b.useState("resolved"),[D,le]=b.useState("all"),M=[{code:"general",label:"General Inquiry"},{code:"order",label:"Order Issue"},{code:"payment",label:"Payment Issue"},{code:"delivery",label:"Delivery Problem"},{code:"product",label:"Product Quality"},{code:"refund",label:"Refund Request"},{code:"return",label:"Return Issue"},{code:"account",label:"Account Issue"},{code:"technical",label:"Technical Support"},{code:"feedback",label:"Feedback/Suggestion"},{code:"other",label:"Other"}];b.useEffect(()=>{Y();const Z=setInterval(Y,3e4);return()=>clearInterval(Z)},[S,w,_,k,O,B,D]);const Y=async()=>{var Z;try{const[lt,ta,Hs]=await Promise.all([D==="escalated"?q.get("/tickets/admin/escalated",{params:{page:B,limit:20}}):q.get("/tickets/admin",{params:{status:S,priority:w,category:_,sla_status:k,search:O,page:B,limit:20}}),q.get("/tickets/admin/stats"),q.get("/tickets/admin/agents")]);t(lt.data.tickets),n(ta.data.stats),i(Hs.data.agents),G(((Z=lt.data.pagination)==null?void 0:Z.totalPages)||1)}catch(lt){console.error("Error fetching tickets data:",lt)}finally{l(!1)}},ae=async Z=>{try{const lt=await q.get(`/tickets/admin/${Z.id}`);u(lt.data.ticket),f(lt.data.ticket.messages||[]),m(!0)}catch(lt){console.error("Error fetching ticket detail:",lt)}},xe=async()=>{if(!(!c||!I.trim()))try{await q.post(`/tickets/admin/${c.id}/reply`,{message:I,is_internal:E}),T(""),U(!1),ae(c),Y()}catch(Z){console.error("Error sending reply:",Z)}},ot=async()=>{if(c)try{await q.put(`/tickets/admin/${c.id}/assign`,{assigned_to:L}),y(!1),A(null),ae(c),Y()}catch(Z){console.error("Error assigning ticket:",Z)}},bt=async(Z,lt)=>{try{await q.put(`/tickets/admin/${Z}/status`,{status:lt}),Y(),(c==null?void 0:c.id)===Z&&ae(c)}catch(ta){console.error("Error updating status:",ta)}},se=async(Z,lt)=>{try{await q.put(`/tickets/admin/${Z}/priority`,{priority:lt}),Y(),(c==null?void 0:c.id)===Z&&ae(c)}catch(ta){console.error("Error updating priority:",ta)}},Pe=async()=>{if(!(!c||!H.trim()))try{await q.put(`/tickets/admin/${c.id}/escalate`,{reason:H,notes:K}),v(!1),te(""),ue(""),ae(c),Y()}catch(Z){console.error("Error escalating ticket:",Z)}},ze=async()=>{if(!(!c||!de.trim()))try{await q.put(`/tickets/admin/${c.id}/close`,{resolution_summary:de,status:J}),j(!1),re(""),m(!1),Y()}catch(Z){console.error("Error closing ticket:",Z)}},Br=Z=>new Date(Z).toLocaleString(),Ha=Z=>Z<=0?"Breached":Z<60?`${Z}m`:Z<1440?`${Math.floor(Z/60)}h ${Z%60}m`:`${Math.floor(Z/1440)}d ${Math.floor(Z%1440/60)}h`,ea=Z=>Z.is_sla_breached?a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:" SLA Breached"}):Z.sla_remaining<240?a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[" ",Ha(Z.sla_remaining)]}):a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[" ",Ha(Z.sla_remaining)]});return o?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ticket Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage customer support tickets and grievances"})]}),r&&a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 xl:grid-cols-10 gap-3 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-3",children:[a.jsx("div",{className:"text-xl md:text-2xl font-bold text-gray-900",children:r.total_tickets}),a.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg shadow p-3 border-l-4 border-blue-500",children:[a.jsx("div",{className:"text-xl md:text-2xl font-bold text-blue-700",children:r.open_tickets}),a.jsx("div",{className:"text-xs text-blue-600",children:"Open"})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg shadow p-3 border-l-4 border-purple-500",children:[a.jsx("div",{className:"text-xl md:text-2xl font-bold text-purple-700",children:r.in_progress}),a.jsx("div",{className:"text-xs text-purple-600",children:"In Progress"})]}),a.jsxs("div",{className:"bg-yellow-50 rounded-lg shadow p-3 border-l-4 border-yellow-500",children:[a.jsx("div",{className:"text-xl md:text-2xl font-bold text-yellow-700",children:r.awaiting_customer}),a.jsx("div",{className:"text-xs text-yellow-600",children:"Awaiting"})]}),a.jsxs("div",{className:"bg-red-50 rounded-lg shadow p-3 border-l-4 border-red-500",children:[a.jsx("div",{className:"text-xl md:text-2xl font-bold text-red-700",children:r.escalated}),a.jsx("div",{className:"text-xs text-red-600",children:"Escalated"})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg shadow p-3 border-l-4 border-green-500",children:[a.jsx("div",{className:"text-xl md:text-2xl font-bold text-green-700",children:r.resolved}),a.jsx("div",{className:"text-xs text-green-600",children:"Resolved"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg shadow p-3 border-l-4 border-gray-500",children:[a.jsx("div",{className:"text-xl md:text-2xl font-bold text-gray-700",children:r.unassigned}),a.jsx("div",{className:"text-xs text-gray-600",children:"Unassigned"})]}),a.jsxs("div",{className:"bg-red-100 rounded-lg shadow p-3 border-l-4 border-red-700",children:[a.jsx("div",{className:"text-xl md:text-2xl font-bold text-red-800",children:r.sla_breached}),a.jsx("div",{className:"text-xs text-red-700",children:"SLA Breached"})]}),a.jsxs("div",{className:"bg-orange-50 rounded-lg shadow p-3 border-l-4 border-orange-500",children:[a.jsx("div",{className:"text-xl md:text-2xl font-bold text-orange-700",children:r.sla_at_risk}),a.jsx("div",{className:"text-xs text-orange-600",children:"At Risk"})]}),a.jsxs("div",{className:"bg-indigo-50 rounded-lg shadow p-3 border-l-4 border-indigo-500",children:[a.jsx("div",{className:"text-xl md:text-2xl font-bold text-indigo-700",children:((Q=r.today)==null?void 0:Q.created_today)||0}),a.jsx("div",{className:"text-xs text-indigo-600",children:"Today"})]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Avg First Response"}),a.jsx("div",{className:"text-xl font-bold text-gray-900",children:(()=>{const Z=Number(r.avg_first_response_hours||0);return Z>0?`${Z.toFixed(1)} hours`:"N/A"})()})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Avg Resolution Time"}),a.jsx("div",{className:"text-xl font-bold text-gray-900",children:(()=>{const Z=Number(r.avg_resolution_hours||0);return Z>0?`${Z.toFixed(1)} hours`:"N/A"})()})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Tickets Closed Today"}),a.jsx("div",{className:"text-xl font-bold text-gray-900",children:((Me=r.today)==null?void 0:Me.closed_today)||0})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex -mb-px",children:[a.jsx("button",{onClick:()=>{le("all"),R(1)},className:`px-6 py-3 text-sm font-medium ${D==="all"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"All Tickets"}),a.jsxs("button",{onClick:()=>{le("escalated"),R(1)},className:`px-6 py-3 text-sm font-medium ${D==="escalated"?"border-b-2 border-red-500 text-red-600":"text-gray-500 hover:text-gray-700"}`,children:["Escalated (",(r==null?void 0:r.escalated)||0,")"]})]})}),D==="all"&&a.jsxs("div",{className:"p-4 flex flex-wrap gap-4",children:[a.jsx("input",{type:"text",placeholder:"Search tickets...",value:O,onChange:Z=>{F(Z.target.value),R(1)},className:"flex-1 min-w-[200px] border border-gray-300 rounded-lg px-4 py-2"}),a.jsxs("select",{value:S,onChange:Z=>{N(Z.target.value),R(1)},className:"border border-gray-300 rounded-lg px-4 py-2",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"awaiting_customer",children:"Awaiting Customer"}),a.jsx("option",{value:"escalated",children:"Escalated"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"closed",children:"Closed"})]}),a.jsxs("select",{value:w,onChange:Z=>{C(Z.target.value),R(1)},className:"border border-gray-300 rounded-lg px-4 py-2",children:[a.jsx("option",{value:"all",children:"All Priorities"}),a.jsx("option",{value:"urgent",children:"Urgent"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"low",children:"Low"})]}),a.jsxs("select",{value:_,onChange:Z=>{P(Z.target.value),R(1)},className:"border border-gray-300 rounded-lg px-4 py-2",children:[a.jsx("option",{value:"all",children:"All Categories"}),M.map(Z=>a.jsx("option",{value:Z.code,children:Z.label},Z.code))]}),a.jsxs("select",{value:k,onChange:Z=>{$(Z.target.value),R(1)},className:"border border-gray-300 rounded-lg px-4 py-2",children:[a.jsx("option",{value:"all",children:"All SLA"}),a.jsx("option",{value:"breached",children:"SLA Breached"}),a.jsx("option",{value:"at_risk",children:"At Risk"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Ticket"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Category"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Priority"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"SLA"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Assigned"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Created"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No tickets found"})}):e.map(Z=>a.jsxs("tr",{className:`hover:bg-gray-50 ${Z.is_sla_breached?"bg-red-50":""}`,children:[a.jsxs("td",{className:"px-4 py-4",children:[a.jsx("div",{className:"font-medium text-gray-900",children:Z.ticket_number}),a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-[200px]",children:Z.subject}),Z.order_number&&a.jsxs("div",{className:"text-xs text-indigo-600",children:["Order: ",Z.order_number]})]}),a.jsxs("td",{className:"px-4 py-4",children:[a.jsx("div",{className:"text-sm text-gray-900",children:Z.customer_name}),a.jsx("div",{className:"text-xs text-gray-500",children:Z.customer_email})]}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"text-sm text-gray-700",children:Z.category_label})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("select",{value:Z.priority,onChange:lt=>se(Z.id,lt.target.value),className:"text-xs rounded px-2 py-1 border-0",style:{backgroundColor:`${Z.priority_color}20`,color:Z.priority_color},children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"urgent",children:"Urgent"})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("select",{value:Z.status,onChange:lt=>bt(Z.id,lt.target.value),className:"text-xs rounded px-2 py-1 border-0",style:{backgroundColor:`${Z.status_color}20`,color:Z.status_color},children:[a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"awaiting_customer",children:"Awaiting Customer"}),a.jsx("option",{value:"awaiting_internal",children:"Awaiting Internal"}),a.jsx("option",{value:"escalated",children:"Escalated"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"closed",children:"Closed"})]})}),a.jsx("td",{className:"px-4 py-4",children:ea(Z)}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"text-sm text-gray-700",children:Z.assigned_name||a.jsx("span",{className:"text-gray-400 italic",children:"Unassigned"})})}),a.jsx("td",{className:"px-4 py-4 text-xs text-gray-500 whitespace-nowrap",children:Br(Z.created_at)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>ae(Z),className:"text-indigo-600 hover:text-indigo-900 text-sm font-medium px-3 py-1 bg-indigo-50 rounded hover:bg-indigo-100",children:"View"})})]},Z.id))})]}),z>1&&a.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[a.jsxs("div",{className:"text-sm text-gray-700",children:["Page ",B," of ",z]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>R(Math.max(1,B-1)),disabled:B===1,className:"px-4 py-2 bg-white border rounded text-sm disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>R(Math.min(z,B+1)),disabled:B===z,className:"px-4 py-2 bg-white border rounded text-sm disabled:opacity-50",children:"Next"})]})]})]}),p&&c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c.ticket_number}),a.jsx("p",{className:"text-lg text-gray-700 mt-1",children:c.subject}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:`${c.priority_color}20`,color:c.priority_color},children:c.priority_label}),a.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:`${c.status_color}20`,color:c.status_color},children:c.status_label}),a.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-700",children:c.category_label}),c.escalation_level>0&&a.jsxs("span",{className:"px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-700",children:["Level ",c.escalation_level," Escalation"]})]})]}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Customer"}),a.jsx("p",{className:"font-medium text-gray-900",children:c.customer_name}),a.jsx("p",{className:"text-sm text-gray-600",children:c.customer_email}),c.customer_phone&&a.jsx("p",{className:"text-sm text-gray-600",children:c.customer_phone})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Related Order"}),c.order_number?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"font-medium text-gray-900",children:c.order_number}),a.jsxs("p",{className:"text-sm text-gray-600",children:["$",(tt=c.order_total)==null?void 0:tt.toFixed(2)]})]}):a.jsx("p",{className:"text-gray-400 italic",children:"No order linked"})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"SLA Status"}),ea(c),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Due: ",Br(c.sla_due_at)]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Conversation"}),a.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto bg-gray-50 p-4 rounded-lg",children:d.map(Z=>a.jsxs("div",{className:`p-4 rounded-lg ${Z.sender_type==="admin"?Z.is_internal?"bg-yellow-50 border border-yellow-200 ml-8":"bg-indigo-50 border border-indigo-200 ml-8":"bg-white border border-gray-200 mr-8"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`font-medium text-sm ${Z.sender_type==="admin"?"text-indigo-700":"text-gray-700"}`,children:Z.sender_name}),Z.is_internal&&a.jsx("span",{className:"px-2 py-0.5 bg-yellow-200 text-yellow-800 text-xs rounded",children:"Internal Note"}),a.jsx("span",{className:"text-xs text-gray-400",children:Z.sender_type==="admin"?"(Support)":"(Customer)"})]}),a.jsx("span",{className:"text-xs text-gray-400",children:Br(Z.created_at)})]}),a.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:Z.message})]},Z.id))})]}),!["resolved","closed"].includes(c.status)&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reply"}),a.jsx("textarea",{value:I,onChange:Z=>T(Z.target.value),placeholder:"Type your reply...",rows:4,className:"w-full border border-gray-300 rounded-lg p-3"}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:E,onChange:Z=>U(Z.target.checked),className:"rounded border-gray-300"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Internal note (not visible to customer)"})]}),a.jsx("button",{onClick:xe,disabled:!I.trim(),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:"Send Reply"})]})]})]}),a.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-between",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Assign"}),!["resolved","closed"].includes(c.status)&&a.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-red-100 border border-red-300 text-red-700 rounded-lg hover:bg-red-200",children:"Escalate"})]}),!["resolved","closed"].includes(c.status)&&a.jsx("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Resolve/Close Ticket"})]})]})}),x&&c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Assign Ticket"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Select an agent to assign this ticket to:"}),a.jsxs("select",{value:L||"",onChange:Z=>A(Z.target.value?Number(Z.target.value):null),className:"w-full border border-gray-300 rounded-lg px-4 py-2 mb-4",children:[a.jsx("option",{value:"",children:"Unassigned"}),s.map(Z=>a.jsxs("option",{value:Z.id,children:[Z.email," (",Z.open_tickets," open tickets)"]},Z.id))]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{y(!1),A(null)},className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:ot,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Assign"})]})]})}),h&&c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Escalate Ticket"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["Current Level: ",c.escalation_level||0,"  New Level: ",(c.escalation_level||0)+1]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for Escalation *"}),a.jsx("input",{type:"text",value:H,onChange:Z=>te(Z.target.value),placeholder:"e.g., Customer threatening legal action",className:"w-full border border-gray-300 rounded-lg px-4 py-2"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),a.jsx("textarea",{value:K,onChange:Z=>ue(Z.target.value),rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-2"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{v(!1),te(""),ue("")},className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:Pe,disabled:!H.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Escalate"})]})]})}),g&&c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Close Ticket"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Close Status"}),a.jsxs("select",{value:J,onChange:Z=>V(Z.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2",children:[a.jsx("option",{value:"resolved",children:"Resolved (Issue was fixed)"}),a.jsx("option",{value:"closed",children:"Closed (No further action)"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Summary *"}),a.jsx("textarea",{value:de,onChange:Z=>re(Z.target.value),placeholder:"Describe how the issue was resolved...",rows:4,className:"w-full border border-gray-300 rounded-lg px-4 py-2"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{j(!1),re("")},className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:ze,disabled:!de.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:"Close Ticket"})]})]})})]})};function Roe(){const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(""),[c,u]=b.useState("all"),[d,f]=b.useState(1),[p,m]=b.useState(1),[x,y]=b.useState(null),[h,v]=b.useState([]),[g,j]=b.useState([]),[S,N]=b.useState([]),[w,C]=b.useState([]),[_,P]=b.useState(null),[k,$]=b.useState("overview"),[O,F]=b.useState(!1),[B,R]=b.useState(!1),[z,G]=b.useState(""),[I,T]=b.useState(!1),[E,U]=b.useState(1),[L,A]=b.useState(1),H=async()=>{try{i(!0);const D=await Vs.getAll({page:d,limit:10,search:o,status:c==="all"?void 0:c});D.data.success&&(t(D.data.users),m(D.data.pagination.totalPages))}catch(D){console.error("Error fetching users:",D),ne.error("Failed to fetch users")}finally{i(!1)}},te=async()=>{try{const D=await Vs.getStats();D.data.success&&n(D.data.stats)}catch(D){console.error("Error fetching stats:",D)}};b.useEffect(()=>{H(),te()},[d,c]),b.useEffect(()=>{const D=setTimeout(()=>{d===1?H():f(1)},300);return()=>clearTimeout(D)},[o]);const K=async D=>{try{const le=await Vs.getById(D);le.data.success&&(y(le.data.user),v(le.data.orders||[]),j(le.data.tickets||[]),C(le.data.blockHistory||[]),P(le.data.preferences),$("overview"),ue(D,1))}catch(le){console.error("Error fetching user:",le),ne.error("Failed to fetch user details")}},ue=async(D,le)=>{try{const M=await Vs.getActivity(D,{page:le,limit:20});M.data.success&&(N(M.data.logs),U(le),A(M.data.pagination.totalPages))}catch(M){console.error("Error fetching activity:",M)}},de=async()=>{var D,le;if(!x||z.trim().length<10){ne.error("Please provide a reason (minimum 10 characters)");return}try{T(!0),(await Vs.block(x.id,z)).data.success&&(ne.success("User blocked successfully"),F(!1),G(""),K(x.id),H(),te())}catch(M){ne.error(((le=(D=M.response)==null?void 0:D.data)==null?void 0:le.message)||"Failed to block user")}finally{T(!1)}},re=async()=>{var D,le;if(!x||z.trim().length<10){ne.error("Please provide a reason (minimum 10 characters)");return}try{T(!0),(await Vs.unblock(x.id,z)).data.success&&(ne.success("User unblocked successfully"),R(!1),G(""),K(x.id),H(),te())}catch(M){ne.error(((le=(D=M.response)==null?void 0:D.data)==null?void 0:le.message)||"Failed to unblock user")}finally{T(!1)}},J=D=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",open:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"})[D]||"bg-gray-100 text-gray-800",V=D=>({urgent:"bg-red-100 text-red-800",high:"bg-orange-100 text-orange-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-gray-100 text-gray-800"})[D]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Customer Management"}),a.jsx("p",{className:"text-gray-500",children:"View and manage customer accounts"})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(Ii,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-gray-800",children:(r==null?void 0:r.totalUsers)||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(Ge,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-gray-800",children:(r==null?void 0:r.activeUsers)||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Active"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx(om,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-gray-800",children:(r==null?void 0:r.blockedUsers)||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Blocked"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(qn,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-gray-800",children:(r==null?void 0:r.newUsersToday)||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Today"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:a.jsx(xn,{className:"w-5 h-5 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-gray-800",children:(r==null?void 0:r.newUsersThisWeek)||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"This Week"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:a.jsx(Ni,{className:"w-5 h-5 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-bold text-gray-800",children:(r==null?void 0:r.openTickets)||0}),a.jsx("p",{className:"text-xs text-gray-500",children:"Open Tickets"})]})]})})]}),a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",value:o,onChange:D=>l(D.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:`px-4 py-2 rounded-lg transition-colors ${c==="all"?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,onClick:()=>u("all"),children:"All"}),a.jsx("button",{className:`px-4 py-2 rounded-lg transition-colors ${c==="active"?"bg-green-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,onClick:()=>u("active"),children:"Active"}),a.jsx("button",{className:`px-4 py-2 rounded-lg transition-colors ${c==="blocked"?"bg-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,onClick:()=>u("blocked"),children:"Blocked"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(At,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Contact"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Orders"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Total Spent"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Last Activity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(D=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-gray-600 font-medium",children:D.name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800",children:D.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["ID: #",D.id]})]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("p",{className:"text-sm text-gray-600",children:D.email}),a.jsx("p",{className:"text-xs text-gray-400",children:D.phone||"No phone"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-gray-800 font-medium",children:D.order_count})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"text-gray-800 font-medium",children:["$",(D.total_spent||0).toFixed(2)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D.is_blocked?a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Blocked"}):a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Active"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-500",children:D.last_activity?Oe(new Date(D.last_activity),"MMM d, yyyy"):"Never"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>K(D.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:a.jsx(ar,{className:"w-4 h-4"})})})]},D.id))})]})}),p>1&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",d," of ",p]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>f(D=>Math.max(1,D-1)),disabled:d===1,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:a.jsx(hn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>f(D=>Math.min(p,D+1)),disabled:d===p,className:"p-2 rounded-lg border border-gray-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:a.jsx(mn,{className:"w-4 h-4"})})]})]})]})}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xl font-bold text-gray-600",children:x.name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:x.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Customer ID: #",x.id]})]}),w.some(D=>D.is_active)?a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:"Blocked"}):a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"Active"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[w.some(D=>D.is_active)?a.jsxs("button",{onClick:()=>R(!0),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center gap-2",children:[a.jsx(Ge,{className:"w-4 h-4"}),"Unblock User"]}):a.jsxs("button",{onClick:()=>F(!0),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2",children:[a.jsx(om,{className:"w-4 h-4"}),"Block User"]}),a.jsx("button",{onClick:()=>y(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]})]}),a.jsx("div",{className:"flex border-b border-gray-100 px-6",children:[{id:"overview",label:"Overview",icon:Ii},{id:"orders",label:"Orders",icon:Ca},{id:"tickets",label:"Support Tickets",icon:Ni},{id:"activity",label:"Activity Log",icon:xd},{id:"preferences",label:"Notifications",icon:ms}].map(D=>a.jsxs("button",{onClick:()=>$(D.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${k===D.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[a.jsx(D.icon,{className:"w-4 h-4"}),D.label]},D.id))}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[k==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:"Contact Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[a.jsx(Yc,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:x.email})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[a.jsx(P$,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:x.phone||"Not provided"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[a.jsx(Zk,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[x.address||"No address",x.city&&`, ${x.city}`]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[a.jsx(qn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Joined ",Oe(new Date(x.created_at),"MMMM d, yyyy")]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:"Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Ca,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm text-blue-600",children:"Orders"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:x.order_count})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(No,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm text-green-600",children:"Total Spent"})]}),a.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",(x.total_spent||0).toFixed(2)]})]})]})]})]}),w.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[a.jsx(ka,{className:"w-4 h-4 text-yellow-500"}),"Block History"]}),a.jsx("div",{className:"space-y-3",children:w.map(D=>a.jsxs("div",{className:`p-4 rounded-lg border ${D.is_active?"border-red-200 bg-red-50":"border-gray-200 bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-800",children:["Blocked by ",D.blocked_by_name]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:D.reason}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Oe(new Date(D.blocked_at),"MMM d, yyyy h:mm a")})]}),D.is_active?a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full",children:"Active"}):a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:"Resolved"})]}),D.unblocked_at&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Unblocked by ",D.unblocked_by_name," - ",D.unblock_reason]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Oe(new Date(D.unblocked_at),"MMM d, yyyy h:mm a")})]})]},D.id))})]})]}),k==="orders"&&a.jsx("div",{className:"space-y-4",children:h.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(Ca,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No orders found"})]}):a.jsx("div",{className:"space-y-3",children:h.map(D=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800",children:D.order_number}),a.jsx("p",{className:"text-sm text-gray-500",children:Oe(new Date(D.created_at),"MMM d, yyyy")})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium text-gray-800",children:["$",D.total_amount.toFixed(2)]}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${J(D.status)}`,children:D.status})]})]},D.id))})}),k==="tickets"&&a.jsx("div",{className:"space-y-4",children:g.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(Ni,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No support tickets found"})]}):a.jsx("div",{className:"space-y-3",children:g.map(D=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800",children:D.subject}),a.jsx("p",{className:"text-sm text-gray-500",children:D.ticket_number})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${V(D.priority)}`,children:D.priority}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${J(D.status)}`,children:D.status})]})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Oe(new Date(D.created_at),"MMM d, yyyy")})]},D.id))})}),k==="activity"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Activity logs are anonymized for GDPR compliance. IP addresses are partially masked."}),S.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(xd,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No activity logs found"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3",children:S.map(D=>a.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(xd,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-800",children:D.action}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-xs text-gray-500",children:[D.action_type&&a.jsx("span",{className:"bg-gray-200 px-2 py-0.5 rounded",children:D.action_type}),D.ip_address&&a.jsxs("span",{children:["IP: ",D.ip_address]}),D.device_info&&a.jsxs("span",{children:["Device: ",D.device_info]})]})]}),a.jsx("span",{className:"text-xs text-gray-400",children:Oe(new Date(D.created_at),"MMM d, h:mm a")})]},D.id))}),L>1&&a.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[a.jsx("button",{onClick:()=>x&&ue(x.id,E-1),disabled:E===1,className:"p-2 rounded-lg border disabled:opacity-50",children:a.jsx(hn,{className:"w-4 h-4"})}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Page ",E," of ",L]}),a.jsx("button",{onClick:()=>x&&ue(x.id,E+1),disabled:E===L,className:"p-2 rounded-lg border disabled:opacity-50",children:a.jsx(mn,{className:"w-4 h-4"})})]})]})]}),k==="preferences"&&_&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:"Email Notifications"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:`p-4 rounded-lg border ${_.email_marketing?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[a.jsx("p",{className:"font-medium text-gray-800",children:"Marketing"}),a.jsx("p",{className:"text-sm text-gray-500",children:_.email_marketing?"Opted In":"Opted Out"})]}),a.jsxs("div",{className:`p-4 rounded-lg border ${_.email_orders?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[a.jsx("p",{className:"font-medium text-gray-800",children:"Order Updates"}),a.jsx("p",{className:"text-sm text-gray-500",children:_.email_orders?"Opted In":"Opted Out"})]}),a.jsxs("div",{className:`p-4 rounded-lg border ${_.email_promotions?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[a.jsx("p",{className:"font-medium text-gray-800",children:"Promotions"}),a.jsx("p",{className:"text-sm text-gray-500",children:_.email_promotions?"Opted In":"Opted Out"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:"Push Notifications"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:`p-4 rounded-lg border ${_.push_enabled?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[a.jsx("p",{className:"font-medium text-gray-800",children:"Push Enabled"}),a.jsx("p",{className:"text-sm text-gray-500",children:_.push_enabled?"Yes":"No"})]}),a.jsxs("div",{className:`p-4 rounded-lg border ${_.push_orders?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[a.jsx("p",{className:"font-medium text-gray-800",children:"Order Updates"}),a.jsx("p",{className:"text-sm text-gray-500",children:_.push_orders?"Opted In":"Opted Out"})]}),a.jsxs("div",{className:`p-4 rounded-lg border ${_.push_promotions?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[a.jsx("p",{className:"font-medium text-gray-800",children:"Promotions"}),a.jsx("p",{className:"text-sm text-gray-500",children:_.push_promotions?"Opted In":"Opted Out"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:"SMS Notifications"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:`p-4 rounded-lg border ${_.sms_enabled?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[a.jsx("p",{className:"font-medium text-gray-800",children:"SMS Enabled"}),a.jsx("p",{className:"text-sm text-gray-500",children:_.sms_enabled?"Yes":"No"})]}),a.jsxs("div",{className:`p-4 rounded-lg border ${_.sms_orders?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[a.jsx("p",{className:"font-medium text-gray-800",children:"Order Updates"}),a.jsx("p",{className:"text-sm text-gray-500",children:_.sms_orders?"Opted In":"Opted Out"})]})]})]}),_.consent_date&&a.jsx("div",{className:"pt-4 border-t border-gray-100",children:a.jsxs("p",{className:"text-sm text-gray-500",children:["Consent provided on ",Oe(new Date(_.consent_date),"MMMM d, yyyy"),_.consent_source&&` via ${_.consent_source}`]})})]})]})]})}),O&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(om,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Block User"}),a.jsx("p",{className:"text-sm text-gray-500",children:"This will prevent the user from accessing their account"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for blocking ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",rows:4,placeholder:"Please provide a detailed reason (minimum 10 characters)...",value:z,onChange:D=>G(D.target.value)}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[z.length,"/10 characters minimum"]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{F(!1),G("")},className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsxs("button",{onClick:de,disabled:I||z.trim().length<10,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 flex items-center gap-2",children:[I&&a.jsx(At,{className:"w-4 h-4 animate-spin"}),"Block User"]})]})]})}),B&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(Ge,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Unblock User"}),a.jsx("p",{className:"text-sm text-gray-500",children:"This will restore the user's access to their account"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for unblocking ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",rows:4,placeholder:"Please provide a detailed reason (minimum 10 characters)...",value:z,onChange:D=>G(D.target.value)}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[z.length,"/10 characters minimum"]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{R(!1),G("")},className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsxs("button",{onClick:re,disabled:I||z.trim().length<10,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 flex items-center gap-2",children:[I&&a.jsx(At,{className:"w-4 h-4 animate-spin"}),"Unblock User"]})]})]})})]})}const Ioe=[{id:1,name:"TechHub Store",location:"New York, USA",rating:4.8,followers:12500,order_processed:"2 Hours",image_url:"",description:"Your one-stop shop for all tech gadgets and accessories.",is_active:!0},{id:2,name:"Fashion Forward",location:"Los Angeles, USA",rating:4.6,followers:8900,order_processed:"4 Hours",image_url:"",description:"Trendy fashion for the modern lifestyle.",is_active:!0},{id:3,name:"Home Essentials",location:"Chicago, USA",rating:4.5,followers:6700,order_processed:"3 Hours",image_url:"",description:"Everything you need for your home.",is_active:!1},{id:4,name:"Sports Zone",location:"Houston, USA",rating:4.7,followers:10200,order_processed:"1 Hour",image_url:"",description:"Premium sports equipment and apparel.",is_active:!0}];function Loe(){const[e,t]=b.useState(Ioe),[r,n]=b.useState(""),[s,i]=b.useState(!1),[o,l]=b.useState(null),[c,u]=b.useState(null),d=e.filter(y=>y.name.toLowerCase().includes(r.toLowerCase())||y.location.toLowerCase().includes(r.toLowerCase())),f=()=>{l(null),i(!0)},p=y=>{l(y),i(!0)},m=y=>{t(e.filter(h=>h.id!==y)),u(null),ne.success("Store deleted successfully")},x=y=>{if(o)t(e.map(h=>h.id===o.id?{...h,...y}:h)),ne.success("Store updated successfully");else{const h={id:Math.max(...e.map(v=>v.id))+1,name:y.name||"",location:y.location||"",rating:0,followers:0,order_processed:y.order_processed||"2 Hours",image_url:y.image_url||"",description:y.description||"",is_active:!0};t([...e,h]),ne.success("Store created successfully")}i(!1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Stores"}),a.jsx("p",{className:"text-gray-500",children:"Manage your store locations"})]}),a.jsxs("button",{onClick:f,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:[a.jsx(Jl,{className:"w-5 h-5"}),"Add Store"]})]}),a.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search stores...",value:r,onChange:y=>n(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(y=>a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"h-40 bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center",children:y.image_url?a.jsx("img",{src:y.image_url,alt:y.name,className:"w-full h-full object-cover"}):a.jsx(Yx,{className:"w-16 h-16 text-primary/40"})}),a.jsxs("div",{className:"p-5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:y.name}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mt-1",children:[a.jsx(Zk,{className:"w-4 h-4"}),y.location]})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:y.is_active?"Active":"Inactive"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:y.description}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx($$,{className:"w-4 h-4 text-yellow-500"}),y.rating]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ii,{className:"w-4 h-4 text-gray-400"}),y.followers.toLocaleString()," followers"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>p(y),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 text-gray-600",children:[a.jsx(Ly,{className:"w-4 h-4"}),"Edit"]}),a.jsx("button",{onClick:()=>u(y.id),className:"px-4 py-2 border border-red-200 rounded-lg hover:bg-red-50 text-red-600",children:a.jsx(r4,{className:"w-4 h-4"})})]})]})]},y.id))}),d.length===0&&a.jsxs("div",{className:"text-center py-12 bg-white rounded-2xl",children:[a.jsx(Yx,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No stores found"})]}),s&&a.jsx(Foe,{store:o,onClose:()=>i(!1),onSave:x}),c&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Delete Store"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this store? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>u(null),className:"px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:()=>m(c),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})]})})]})}function Foe({store:e,onClose:t,onSave:r}){const[n,s]=b.useState({name:(e==null?void 0:e.name)||"",location:(e==null?void 0:e.location)||"",order_processed:(e==null?void 0:e.order_processed)||"2 Hours",description:(e==null?void 0:e.description)||"",image_url:(e==null?void 0:e.image_url)||"",is_active:(e==null?void 0:e.is_active)??!0}),i=o=>{o.preventDefault(),r(n)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 sticky top-0 bg-white z-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:e?"Edit Store":"Add New Store"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(sr,{className:"w-5 h-5 text-gray-600"})})]}),a.jsxs("form",{onSubmit:i,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Image"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-6 text-center",children:[a.jsx(yd,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name"}),a.jsx("input",{type:"text",value:n.name,onChange:o=>s({...n,name:o.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),a.jsx("input",{type:"text",value:n.location,onChange:o=>s({...n,location:o.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Processing Time"}),a.jsxs("select",{value:n.order_processed,onChange:o=>s({...n,order_processed:o.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[a.jsx("option",{value:"1 Hour",children:"1 Hour"}),a.jsx("option",{value:"2 Hours",children:"2 Hours"}),a.jsx("option",{value:"4 Hours",children:"4 Hours"}),a.jsx("option",{value:"1 Day",children:"1 Day"}),a.jsx("option",{value:"2-3 Days",children:"2-3 Days"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:n.description,onChange:o=>s({...n,description:o.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:n.is_active,onChange:o=>s({...n,is_active:o.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),a.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Store is active"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[a.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:e?"Update Store":"Create Store"})]})]})]})})}var sA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},H2=W.createContext&&W.createContext(sA),Boe=["attr","size","title"];function Uoe(e,t){if(e==null)return{};var r=zoe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(this,arguments)}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){Woe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Woe(e,t,r){return t=Hoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hoe(e){var t=qoe(e,"string");return typeof t=="symbol"?t:t+""}function qoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iA(e){return e&&e.map((t,r)=>W.createElement(t.tag,op({key:r},t.attr),iA(t.child)))}function me(e){return t=>W.createElement(Voe,ip({attr:op({},e.attr)},t),iA(e.child))}function Voe(e){var t=r=>{var{attr:n,size:s,title:i}=e,o=Uoe(e,Boe),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),W.createElement("svg",ip({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:op(op({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&W.createElement("title",null,i),e.children)};return H2!==void 0?W.createElement(H2.Consumer,null,r=>t(r)):t(sA)}function $s(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function A0(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function V2(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function uo(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Goe(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function Ms(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function Koe(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function oA(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function iu(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function Yoe(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Xoe(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function Qoe(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function Joe(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function pn(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function Zoe(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(e)}function E0(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function Vv(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Lo(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function lA(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function ele(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Gv(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function G2(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function tle(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function rle(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function T0(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function nle(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function ou(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function ale(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(e)}function Tl(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function sle(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"},child:[]},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"},child:[]}]})(e)}function ile(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(e)}function ole(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(e)}function cA(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function Pa(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function fo(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function lle(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function cle(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function wd(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function po(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function ho(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function Ch(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function ule(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function dle(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function mo(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function fle(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function ple(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}function hle(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function mle(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(e)}function Rc(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function ys(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function jr(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function Nd(e){return me({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}function xle(){const[e,t]=b.useState([]),[r,n]=b.useState([]),[s,i]=b.useState(!0),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(null),[p,m]=b.useState(null),[x,y]=b.useState([]),[h,v]=b.useState({name:"",display_name:"",description:""});b.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0);const[P,k]=await Promise.all([pl.getAll(),am.getAll()]);t(P.data.roles||[]),n(k.data.permissions||[])}catch(P){console.error("Error loading data:",P)}finally{i(!1)}},j=P=>{P?(f(P),v({name:P.name,display_name:P.display_name,description:P.description||""})):(f(null),v({name:"",display_name:"",description:""})),l(!0)},S=async P=>{m(P);try{const k=await am.getMatrix(P.id);y(k.data.matrix||[]),u(!0)}catch(k){console.error("Error loading permission matrix:",k)}},N=async P=>{P.preventDefault();try{d?await pl.update(d.id,{display_name:h.display_name,description:h.description}):await pl.create(h),l(!1),g()}catch(k){console.error("Error saving role:",k)}},w=async P=>{var k,$;if(confirm("Are you sure you want to delete this role?"))try{await pl.delete(P),g()}catch(O){alert((($=(k=O.response)==null?void 0:k.data)==null?void 0:$.message)||"Error deleting role")}},C=(P,k)=>{const $=[...x],O=$[P].permissions[k];O&&(O.enabled=!O.enabled),y($)},_=async()=>{if(!p)return;const P=[];x.forEach(k=>{Object.values(k.permissions).forEach($=>{$.enabled&&P.push($.id)})});try{await am.updateMatrix(p.id,P),u(!1),g()}catch(k){console.error("Error saving permissions:",k)}};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Roles & Access Manager"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage roles and their permissions"})]}),a.jsxs("button",{onClick:()=>j(),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[a.jsx(Pa,{className:"mr-2"})," Add Role"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(P=>{var k;return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:a.jsx(po,{className:"text-indigo-600",size:20})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:P.display_name}),a.jsx("span",{className:"text-xs text-gray-500",children:P.name})]})]}),P.is_system&&a.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded",children:"System"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:P.description||"No description"}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ys,{className:"mr-1"}),a.jsxs("span",{children:[P.admin_count||0," admins"]})]}),a.jsxs("span",{children:[((k=P.permissions)==null?void 0:k.length)||0," permissions"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>S(P),className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"Permissions"}),!P.is_system&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>j(P),className:"p-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:a.jsx(Lo,{size:18})}),a.jsx("button",{onClick:()=>w(P.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(mo,{size:18})})]})]})]},P.id)})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:d?"Edit Role":"Create New Role"}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[!d&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name (slug)"}),a.jsx("input",{type:"text",value:h.name,onChange:P=>v({...h,name:P.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., content_manager",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),a.jsx("input",{type:"text",value:h.display_name,onChange:P=>v({...h,display_name:P.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Content Manager",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:h.description,onChange:P=>v({...h,description:P.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",rows:3,placeholder:"Describe the role..."})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:d?"Update":"Create"})]})]})]})}),c&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Permission Matrix"}),a.jsx("p",{className:"text-sm text-gray-500",children:p.display_name})]}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(jr,{size:20})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700",children:"Module"}),a.jsx("th",{className:"text-center px-4 py-3 font-semibold text-gray-700",children:"View"}),a.jsx("th",{className:"text-center px-4 py-3 font-semibold text-gray-700",children:"Create"}),a.jsx("th",{className:"text-center px-4 py-3 font-semibold text-gray-700",children:"Edit"}),a.jsx("th",{className:"text-center px-4 py-3 font-semibold text-gray-700",children:"Delete"}),a.jsx("th",{className:"text-center px-4 py-3 font-semibold text-gray-700",children:"Other"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:x.map((P,k)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 capitalize",children:P.module}),["view","create","edit","delete"].map($=>a.jsx("td",{className:"text-center px-4 py-3",children:P.permissions[$]?a.jsx("button",{onClick:()=>C(k,$),disabled:p.is_system&&p.name==="super_admin",className:`w-8 h-8 rounded-lg flex items-center justify-center transition-colors ${P.permissions[$].enabled?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"} ${p.is_system&&p.name==="super_admin"?"cursor-not-allowed":"hover:bg-green-200"}`,children:P.permissions[$].enabled?a.jsx(iu,{size:18}):a.jsx(jr,{size:18})}):a.jsx("span",{className:"text-gray-300",children:""})},$)),a.jsx("td",{className:"text-center px-4 py-3",children:Object.entries(P.permissions).filter(([$])=>!["view","create","edit","delete"].includes($)).map(([$,O])=>a.jsx("button",{onClick:()=>C(k,$),disabled:p.is_system&&p.name==="super_admin",className:`px-2 py-1 rounded text-xs mr-1 ${O.enabled?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:$},$))})]},P.module))})]})}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),!(p.is_system&&p.name==="super_admin")&&a.jsx("button",{onClick:_,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Save Permissions"})]})]})})]})}function gle(){var P;const[e,t]=b.useState([]),[r,n]=b.useState([]),[s,i]=b.useState(!0),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(null),[p,m]=b.useState(null),[x,y]=b.useState("all"),[h,v]=b.useState({name:"",email:"",password:"",roleIds:[]});b.useEffect(()=>{g()},[x]);const g=async()=>{try{i(!0);const[k,$]=await Promise.all([Ko.getAll({status:x==="all"?void 0:x}),pl.getAll()]);t(k.data.admins||[]),n($.data.roles||[])}catch(k){console.error("Error loading data:",k)}finally{i(!1)}},j=k=>{var $;k?(f(k),v({name:k.name,email:k.email,password:"",roleIds:(($=k.roles)==null?void 0:$.map(O=>O.id))||[]})):(f(null),v({name:"",email:"",password:"",roleIds:[]})),l(!0)},S=async k=>{try{const $=await Ko.getById(k.id);m($.data.admin),u(!0)}catch($){console.error("Error loading admin details:",$)}},N=async k=>{var $,O;k.preventDefault();try{if(d)await Ko.update(d.id,{name:h.name,roleIds:h.roleIds});else{if(!h.password){alert("Password is required for new admin");return}await Ko.create(h)}l(!1),g()}catch(F){alert(((O=($=F.response)==null?void 0:$.data)==null?void 0:O.message)||"Error saving admin")}},w=async k=>{var $,O;try{await Ko.updateStatus(k.id,!k.is_active),g()}catch(F){alert(((O=($=F.response)==null?void 0:$.data)==null?void 0:O.message)||"Error updating status")}},C=k=>{v($=>({...$,roleIds:$.roleIds.includes(k)?$.roleIds.filter(O=>O!==k):[...$.roleIds,k]}))},_=k=>k?new Date(k).toLocaleString():"Never";return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin User Management"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage admin accounts and role assignments"})]}),a.jsxs("button",{onClick:()=>j(),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[a.jsx(Pa,{className:"mr-2"})," Add Admin"]})]}),a.jsx("div",{className:"flex gap-2",children:["all","active","blocked"].map(k=>a.jsx("button",{onClick:()=>y(k),className:`px-4 py-2 rounded-lg font-medium capitalize transition-colors ${x===k?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:k},k))}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-6 py-4 font-semibold text-gray-700",children:"Admin"}),a.jsx("th",{className:"text-left px-6 py-4 font-semibold text-gray-700",children:"Roles"}),a.jsx("th",{className:"text-left px-6 py-4 font-semibold text-gray-700",children:"Status"}),a.jsx("th",{className:"text-left px-6 py-4 font-semibold text-gray-700",children:"Last Login"}),a.jsx("th",{className:"text-right px-6 py-4 font-semibold text-gray-700",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(k=>{var $;return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-indigo-600 font-semibold",children:k.name.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"font-medium text-gray-900",children:k.name}),a.jsx("p",{className:"text-sm text-gray-500",children:k.email})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:(($=k.roles)==null?void 0:$.length)>0?k.roles.map(O=>a.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs font-medium rounded",children:O.display_name},O.id)):a.jsx("span",{className:"text-gray-400 text-sm",children:"No roles"})})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${k.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:k.is_active?"Active":"Blocked"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:_(k.last_login)}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>S(k),className:"p-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"View Details",children:a.jsx($s,{size:18})}),a.jsx("button",{onClick:()=>j(k),className:"p-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Edit",children:a.jsx(Lo,{size:18})}),a.jsx("button",{onClick:()=>w(k),className:`p-2 rounded-lg transition-colors ${k.is_active?"text-gray-600 hover:text-red-600 hover:bg-red-50":"text-gray-600 hover:text-green-600 hover:bg-green-50"}`,title:k.is_active?"Block":"Unblock",children:k.is_active?a.jsx(mle,{size:18}):a.jsx(hle,{size:18})})]})})]},k.id)})})]}),e.length===0&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"No admin users found"})})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:d?"Edit Admin":"Create New Admin"}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:h.name,onChange:k=>v({...h,name:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),!d&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:h.email,onChange:k=>v({...h,email:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsx("input",{type:"password",value:h.password,onChange:k=>v({...h,password:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Minimum 8 characters",required:!d})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign Roles"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:r.map(k=>a.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.roleIds.includes(k.id),onChange:()=>C(k.id),className:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("span",{className:"font-medium text-gray-900",children:k.display_name}),a.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",k.name,")"]})]})]},k.id))})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:d?"Update":"Create"})]})]})]})}),c&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-auto",children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-indigo-600 font-bold text-2xl",children:p.name.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:p.name}),a.jsx("p",{className:"text-gray-500",children:p.email})]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:p.is_active?"Active":"Blocked"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-gray-500 mb-1",children:[a.jsx(pn,{className:"mr-2",size:16}),a.jsx("span",{className:"text-sm",children:"Last Login"})]}),a.jsx("p",{className:"font-medium",children:_(p.last_login)})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center text-gray-500 mb-1",children:[a.jsx(ou,{className:"mr-2",size:16}),a.jsx("span",{className:"text-sm",children:"Created"})]}),a.jsx("p",{className:"font-medium",children:_(p.created_at)})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center",children:[a.jsx(po,{className:"mr-2"})," Assigned Roles"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(P=p.roles)==null?void 0:P.map(k=>a.jsx("span",{className:"px-3 py-1.5 bg-indigo-100 text-indigo-700 rounded-lg font-medium",children:k.display_name},k.id))})]}),p.recentActivity&&p.recentActivity.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold mb-3 flex items-center",children:[a.jsx($s,{className:"mr-2"})," Recent Activity"]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:p.recentActivity.map(k=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium capitalize",children:k.action}),k.resource_type&&a.jsxs("span",{className:"text-gray-500",children:[" on ",k.resource_type]})]}),a.jsx("span",{className:"text-gray-400",children:_(k.created_at)})]},k.id))})]}),a.jsx("div",{className:"flex justify-end mt-6 pt-4 border-t",children:a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})})]})})]})}function yle(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(null);b.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const m=await sm.getAll();t(m.data.sessions||[])}catch(m){console.error("Error loading sessions:",m)}finally{n(!1)}},l=async m=>{try{await sm.forceLogout(m),i(null),o()}catch(x){console.error("Error forcing logout:",x)}},c=async m=>{if(confirm("Are you sure you want to terminate all sessions for this admin?"))try{await sm.forceLogoutAll(m),o()}catch(x){console.error("Error forcing logout all:",x)}},u=m=>{const x=m.toLowerCase();return x.includes("iphone")||x.includes("android")?a.jsx(Ch,{size:20}):a.jsx(ale,{size:20})},d=m=>{if(!m)return"Unknown";const x=new Date(m),h=new Date().getTime()-x.getTime(),v=Math.floor(h/6e4);return v<1?"Just now":v<60?`${v} min ago`:v<1440?`${Math.floor(v/60)} hours ago`:x.toLocaleString()},f=m=>{const x=new Date(m),y=new Date;return(x.getTime()-y.getTime())/(1e3*60*60)<24},p=e.reduce((m,x)=>{const y=x.admin_id;return m[y]||(m[y]={admin_id:x.admin_id,admin_name:x.admin_name,admin_email:x.admin_email,sessions:[]}),m[y].sessions.push(x),m},{});return r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Session Management"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Monitor and manage active admin sessions"})]}),a.jsx("button",{onClick:o,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Refresh"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Active Sessions"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(G2,{className:"text-green-600",size:24})})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Logged In Admins"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Object.keys(p).length})]}),a.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:a.jsx(Rc,{className:"text-indigo-600",size:24})})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Expiring Soon"}),a.jsx("p",{className:"text-3xl font-bold text-amber-600",children:e.filter(m=>f(m.expires_at)).length})]}),a.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center",children:a.jsx(uo,{className:"text-amber-600",size:24})})]})})]}),a.jsx("div",{className:"space-y-6",children:Object.values(p).map(m=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-indigo-600 font-semibold",children:m.admin_name.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:m.admin_name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.admin_email})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium",children:[m.sessions.length," session(s)"]}),m.sessions.length>1&&a.jsx("button",{onClick:()=>c(m.admin_id),className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg text-sm font-medium hover:bg-red-200 transition-colors",children:"Logout All"})]})]}),a.jsx("div",{className:"divide-y divide-gray-100",children:m.sessions.map(x=>a.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center text-gray-600",children:u(x.device_info)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:x.device_info}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[a.jsx("span",{children:x.ip_address}),a.jsx("span",{children:""}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(pn,{className:"mr-1",size:12}),d(x.last_activity)]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[f(x.expires_at)&&a.jsxs("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded flex items-center",children:[a.jsx(uo,{className:"mr-1",size:12}),"Expiring soon"]}),s===x.id?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Confirm?"}),a.jsx("button",{onClick:()=>l(x.id),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700",children:"Yes"}),a.jsx("button",{onClick:()=>i(null),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm hover:bg-gray-50",children:"No"})]}):a.jsxs("button",{onClick:()=>i(x.id),className:"flex items-center px-3 py-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[a.jsx(nle,{className:"mr-1",size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Force Logout"})]})]})]})},x.id))})]},m.admin_id))}),e.length===0&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-12 text-center",children:[a.jsx(G2,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Active Sessions"}),a.jsx("p",{className:"text-gray-500",children:"There are no active admin sessions at the moment."})]})]})}const vle={login:"bg-green-100 text-green-700",logout:"bg-gray-100 text-gray-700",create:"bg-blue-100 text-blue-700",update:"bg-amber-100 text-amber-700",delete:"bg-red-100 text-red-700",block:"bg-red-100 text-red-700",unblock:"bg-green-100 text-green-700",force_logout:"bg-orange-100 text-orange-700",update_permissions:"bg-purple-100 text-purple-700"},ble={auth:po,product:Koe,order:$s,user:Rc,admin:Rc,role:po,session:$s,settings:wd};function jle(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(1),[o,l]=b.useState(1),[c,u]=b.useState({action:"",resource_type:""}),[d,f]=b.useState(!1);b.useEffect(()=>{p()},[s,c]);const p=async()=>{var g;try{n(!0);const j={page:s,limit:30};c.action&&(j.action=c.action),c.resource_type&&(j.resource_type=c.resource_type);const S=await c$.getAll(j);t(S.data.logs||[]),l(((g=S.data.pagination)==null?void 0:g.totalPages)||1)}catch(j){console.error("Error loading logs:",j)}finally{n(!1)}},m=g=>{const j=new Date(g),N=new Date().getTime()-j.getTime(),w=Math.floor(N/6e4);return w<1?"Just now":w<60?`${w} min ago`:w<1440?`${Math.floor(w/60)} hours ago`:j.toLocaleString()},x=g=>vle[g]||"bg-gray-100 text-gray-700",y=g=>{const j=ble[g]||$s;return a.jsx(j,{size:16})},h=()=>{u({action:"",resource_type:""}),i(1)},v=()=>{const g=[["ID","Admin","Action","Resource","IP Address","Date"],...e.map(w=>[w.id,w.admin_name||"System",w.action,w.resource_type,w.ip_address,new Date(w.created_at).toISOString()])].map(w=>w.join(",")).join(`
`),j=new Blob([g],{type:"text/csv"}),S=URL.createObjectURL(j),N=document.createElement("a");N.href=S,N.download=`activity-logs-${new Date().toISOString().split("T")[0]}.csv`,N.click()};return r&&e.length===0?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Activity Logs"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Complete audit trail of admin actions"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>f(!d),className:`flex items-center px-4 py-2 border rounded-lg transition-colors ${d?"border-indigo-600 text-indigo-600":"border-gray-300 hover:bg-gray-50"}`,children:[a.jsx(Gv,{className:"mr-2"})," Filters"]}),a.jsxs("button",{onClick:v,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[a.jsx(Vv,{className:"mr-2"})," Export"]})]})]}),d&&a.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action"}),a.jsxs("select",{value:c.action,onChange:g=>u({...c,action:g.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"All Actions"}),a.jsx("option",{value:"login",children:"Login"}),a.jsx("option",{value:"logout",children:"Logout"}),a.jsx("option",{value:"create",children:"Create"}),a.jsx("option",{value:"update",children:"Update"}),a.jsx("option",{value:"delete",children:"Delete"}),a.jsx("option",{value:"block",children:"Block"}),a.jsx("option",{value:"unblock",children:"Unblock"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resource"}),a.jsxs("select",{value:c.resource_type,onChange:g=>u({...c,resource_type:g.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"All Resources"}),a.jsx("option",{value:"auth",children:"Auth"}),a.jsx("option",{value:"product",children:"Products"}),a.jsx("option",{value:"order",children:"Orders"}),a.jsx("option",{value:"user",children:"Users"}),a.jsx("option",{value:"admin",children:"Admins"}),a.jsx("option",{value:"role",children:"Roles"}),a.jsx("option",{value:"session",children:"Sessions"})]})]}),a.jsx("button",{onClick:h,className:"px-4 py-2 text-gray-600 hover:text-gray-900",children:"Clear"})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"divide-y divide-gray-100",children:e.map(g=>a.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 flex-shrink-0",children:y(g.resource_type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:g.admin_name||"System"}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium capitalize ${x(g.action)}`,children:g.action.replace("_"," ")}),g.resource_type&&a.jsxs("span",{className:"text-gray-500 text-sm capitalize",children:[g.resource_type,g.resource_id&&` #${g.resource_id}`]})]}),g.changes&&a.jsxs("p",{className:"text-sm text-gray-600 truncate",children:["Changes: ",g.changes]}),a.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-400",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(pn,{className:"mr-1"}),m(g.created_at)]}),g.ip_address&&a.jsxs("span",{children:["IP: ",g.ip_address]})]})]})]})},g.id))}),e.length===0&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx($s,{className:"mx-auto text-gray-400 mb-4",size:48}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Logs Found"}),a.jsx("p",{className:"text-gray-500",children:"No activity logs match your filters."})]})]}),o>1&&a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>i(g=>Math.max(1,g-1)),disabled:s===1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),a.jsxs("span",{className:"px-4 py-2 text-gray-600",children:["Page ",s," of ",o]}),a.jsx("button",{onClick:()=>i(g=>Math.min(o,g+1)),disabled:s===o,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})}const Qu={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:xn},processing:{bg:"bg-blue-100",text:"text-blue-800",icon:Xe},completed:{bg:"bg-green-100",text:"text-green-800",icon:Ge},failed:{bg:"bg-red-100",text:"text-red-800",icon:Ft},refunded:{bg:"bg-purple-100",text:"text-purple-800",icon:Xe},cancelled:{bg:"bg-gray-100",text:"text-gray-800",icon:Ft}},wle=[{value:"all",label:"All Methods"},{value:"credit_card",label:"Credit Card"},{value:"debit_card",label:"Debit Card"},{value:"paypal",label:"PayPal"},{value:"bank_transfer",label:"Bank Transfer"},{value:"cash_on_delivery",label:"Cash on Delivery"}];function Nle(){var A;const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(""),[c,u]=b.useState("all"),[d,f]=b.useState("all"),[p,m]=b.useState(""),[x,y]=b.useState(""),[h,v]=b.useState(1),[g,j]=b.useState(1),[S,N]=b.useState(0),[w,C]=b.useState(!1),[_,P]=b.useState(null),[k,$]=b.useState(!1),[O,F]=b.useState(!1),[B,R]=b.useState(!1),z=b.useCallback(async()=>{i(!0);try{const H=await Pu.getAll({page:h,limit:20,status:c!=="all"?c:void 0,payment_method:d!=="all"?d:void 0,search:o||void 0,start_date:p||void 0,end_date:x||void 0});t(H.data.payments),n(H.data.stats),j(H.data.pagination.totalPages),N(H.data.pagination.total)}catch(H){console.error("Failed to load payments:",H),ne.error("Failed to load payments")}finally{i(!1)}},[h,c,d,o,p,x]);b.useEffect(()=>{z()},[z]);const G=async H=>{F(!0),$(!0);try{const te=await Pu.getById(H.id);P(te.data.payment)}catch(te){console.error("Failed to load payment details:",te),ne.error("Failed to load payment details"),$(!1)}finally{F(!1)}},I=async(H,te)=>{var K,ue;if(_){R(!0);try{await Pu.updateStatus(_.id,{status:H}),ne.success(`Payment ${te.toLowerCase()}`);const de=await Pu.getById(_.id);P(de.data.payment),z()}catch(de){console.error("Failed to update payment status:",de),ne.error(((ue=(K=de.response)==null?void 0:K.data)==null?void 0:ue.message)||"Failed to update payment status")}finally{R(!1)}}},T=H=>{H.preventDefault(),v(1),z()},E=()=>{l(""),u("all"),f("all"),m(""),y(""),v(1)},U=H=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(H),L=H=>{switch(H==null?void 0:H.toLowerCase()){case"credit_card":case"debit_card":return a.jsx(Qk,{className:"w-4 h-4"});case"paypal":return a.jsx(R$,{className:"w-4 h-4"});default:return a.jsx(No,{className:"w-4 h-4"})}};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Logs"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"View and manage payment transactions"})]}),a.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition",children:[a.jsx(Xe,{className:"w-4 h-4"}),"Refresh"]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Mp,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Transactions"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:r.total_count})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Ge,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:U(r.total_completed||0)}),a.jsxs("p",{className:"text-xs text-gray-400",children:[r.completed_count," transactions"]})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(xn,{className:"w-5 h-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),a.jsx("p",{className:"text-xl font-bold text-yellow-600",children:U(r.total_pending||0)}),a.jsxs("p",{className:"text-xs text-gray-400",children:[r.pending_count," transactions"]})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Ft,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Failed"}),a.jsx("p",{className:"text-xl font-bold text-red-600",children:U(r.total_failed||0)}),a.jsxs("p",{className:"text-xs text-gray-400",children:[r.failed_count," transactions"]})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(Xe,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Refunded"}),a.jsx("p",{className:"text-xl font-bold text-purple-600",children:U(Math.abs(r.total_refunded||0))}),a.jsxs("p",{className:"text-xs text-gray-400",children:[r.refunded_count," transactions"]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:[a.jsxs("form",{onSubmit:T,className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by transaction ID, order #, or customer...",value:o,onChange:H=>l(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("select",{value:c,onChange:H=>{u(H.target.value),v(1)},className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"processing",children:"Processing"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"failed",children:"Failed"}),a.jsx("option",{value:"refunded",children:"Refunded"})]}),a.jsxs("button",{type:"button",onClick:()=>C(!w),className:"flex items-center gap-2 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsx(Kc,{className:"w-4 h-4"}),"More Filters"]}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Search"})]}),w&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),a.jsx("select",{value:d,onChange:H=>{f(H.target.value),v(1)},className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500",children:wle.map(H=>a.jsx("option",{value:H.value,children:H.label},H.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:p,onChange:H=>{m(H.target.value),v(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:x,onChange:H=>{y(H.target.value),v(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:E,className:"px-4 py-2 text-gray-600 border border-gray-200 rounded-lg hover:bg-gray-50",children:"Clear Filters"})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Transaction"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Method"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:s?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[a.jsx(Xe,{className:"w-5 h-5 animate-spin"}),"Loading payments..."]})})}):e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:"No payments found"})}):e.map(H=>{var ue;const te=Qu[H.status]||Qu.pending,K=te.icon;return a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-medium text-gray-900 font-mono text-sm",children:H.transaction_id}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:H.payment_type})]}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:H.customer_name}),a.jsx("div",{className:"text-xs text-gray-500",children:H.customer_email})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"text-sm text-indigo-600 font-medium",children:["#",H.order_number]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`text-sm font-semibold ${H.amount<0?"text-red-600":"text-gray-900"}`,children:U(H.amount)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[L(H.payment_method),a.jsx("span",{className:"text-sm text-gray-700 capitalize",children:(ue=H.payment_method)==null?void 0:ue.replace(/_/g," ")})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${te.bg} ${te.text}`,children:[a.jsx(K,{className:"w-3 h-3"}),H.status]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:H.processed_at?Oe(new Date(H.processed_at),"MMM d, yyyy HH:mm"):Oe(new Date(H.created_at),"MMM d, yyyy HH:mm")}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{onClick:()=>G(H),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition",title:"View Details",children:a.jsx(ar,{className:"w-4 h-4"})})})]},H.id)})})]})}),g>1&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(h-1)*20+1," - ",Math.min(h*20,S)," of ",S," payments"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>v(H=>Math.max(1,H-1)),disabled:h===1,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(hn,{className:"w-4 h-4"})}),a.jsxs("span",{className:"px-4 py-2 text-sm text-gray-700",children:["Page ",h," of ",g]}),a.jsx("button",{onClick:()=>v(H=>Math.min(g,H+1)),disabled:h===g,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(mn,{className:"w-4 h-4"})})]})]})]}),k&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Details"}),a.jsx("button",{onClick:()=>{$(!1),P(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(sr,{className:"w-5 h-5"})})]}),O?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Xe,{className:"w-8 h-8 animate-spin text-indigo-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-500",children:"Loading payment details..."})]}):_?a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Transaction Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Transaction ID"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:_.transaction_id})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Order Number"}),a.jsxs("p",{className:"text-indigo-600 font-medium",children:["#",_.order_number]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),a.jsx("p",{className:`text-lg font-bold ${_.amount<0?"text-red-600":"text-green-600"}`,children:U(_.amount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),(()=>{const H=Qu[_.status]||Qu.pending,te=H.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${H.bg} ${H.text}`,children:[a.jsx(te,{className:"w-4 h-4"}),_.status]})})()]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Payment Method"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Method"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[L(_.payment_method),a.jsx("span",{className:"font-medium capitalize",children:(A=_.payment_method)==null?void 0:A.replace(/_/g," ")})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Provider"}),a.jsx("p",{className:"font-medium capitalize",children:_.payment_provider||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Type"}),a.jsx("p",{className:"font-medium capitalize",children:_.payment_type})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Currency"}),a.jsx("p",{className:"font-medium",children:_.currency})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Customer Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),a.jsx("p",{className:"font-medium",children:_.customer_name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium",children:_.customer_email})]}),_.ip_address&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"IP Address"}),a.jsx("p",{className:"font-mono text-sm",children:_.ip_address})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Timeline"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Created At"}),a.jsx("p",{className:"font-medium",children:Oe(new Date(_.created_at),"MMM d, yyyy HH:mm:ss")})]}),_.processed_at&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Processed At"}),a.jsx("p",{className:"font-medium",children:Oe(new Date(_.processed_at),"MMM d, yyyy HH:mm:ss")})]})]})]}),_.failure_reason&&a.jsx("div",{className:"bg-red-50 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ka,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-red-800",children:"Failure Reason"}),a.jsx("p",{className:"text-red-700 mt-1",children:_.failure_reason})]})]})}),_.invoice&&a.jsxs("div",{className:"bg-indigo-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-indigo-900 mb-2",children:"Related Invoice"}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-indigo-700",children:_.invoice.invoice_number}),a.jsx("p",{className:"text-sm text-indigo-600 capitalize",children:_.invoice.status})]})})]}),_.available_transitions&&_.available_transitions.length>0&&a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Update Payment Status"}),a.jsx("div",{className:"space-y-2",children:_.available_transitions.map(H=>a.jsxs("button",{onClick:()=>I(H.status,H.display_name),disabled:B,className:`w-full py-2 px-4 rounded-lg text-sm font-medium transition-colors text-left flex items-center justify-between ${H.status==="completed"?"bg-green-100 text-green-800 hover:bg-green-200 border border-green-200":H.status==="refunded"||H.status==="cancelled"||H.status==="failed"?"bg-red-100 text-red-800 hover:bg-red-200 border border-red-200":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"} ${B?"opacity-50 cursor-not-allowed":""}`,children:[a.jsxs("span",{children:[" ",H.display_name]}),B&&a.jsx(Xe,{className:"w-4 h-4 animate-spin"})]},H.status))})]})]}):null]})})]})}const Ju={issued:{bg:"bg-blue-100",text:"text-blue-800",icon:gn},paid:{bg:"bg-green-100",text:"text-green-800",icon:Ge},overdue:{bg:"bg-red-100",text:"text-red-800",icon:Ls},voided:{bg:"bg-gray-100",text:"text-gray-800",icon:Ft}};function Sle(){const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(""),[c,u]=b.useState("all"),[d,f]=b.useState("all"),[p,m]=b.useState(""),[x,y]=b.useState(""),[h,v]=b.useState(1),[g,j]=b.useState(1),[S,N]=b.useState(0),[w,C]=b.useState(!1),[_,P]=b.useState(null),[k,$]=b.useState(!1),[O,F]=b.useState(!1),[B,R]=b.useState(!1),[z,G]=b.useState(""),[I,T]=b.useState(""),[E,U]=b.useState(!1),L=b.useCallback(async()=>{i(!0);try{const J=await Xo.getAll({page:h,limit:20,status:c!=="all"?c:void 0,invoice_type:d!=="all"?d:void 0,search:o||void 0,start_date:p||void 0,end_date:x||void 0});t(J.data.invoices),n(J.data.stats),j(J.data.pagination.totalPages),N(J.data.pagination.total)}catch(J){console.error("Failed to load invoices:",J),ne.error("Failed to load invoices")}finally{i(!1)}},[h,c,d,o,p,x]);b.useEffect(()=>{L()},[L]);const A=async J=>{F(!0),$(!0);try{const V=await Xo.getById(J.id);P(V.data.invoice)}catch(V){console.error("Failed to load invoice details:",V),ne.error("Failed to load invoice details"),$(!1)}finally{F(!1)}},H=async()=>{var J,V;if(!z){ne.error("Please enter an order ID");return}U(!0);try{const D=await Xo.generate(parseInt(z),I);ne.success(`Invoice ${D.data.invoice.invoice_number} generated successfully`),R(!1),G(""),T(""),L()}catch(D){console.error("Failed to generate invoice:",D),ne.error(((V=(J=D.response)==null?void 0:J.data)==null?void 0:V.message)||"Failed to generate invoice")}finally{U(!1)}},te=async(J,V)=>{try{await Xo.updateStatus(J,{status:V}),ne.success("Invoice status updated"),_&&P({..._,status:V}),L()}catch(D){console.error("Failed to update invoice status:",D),ne.error("Failed to update invoice status")}},K=async J=>{try{ne.loading("Generating PDF...",{id:"pdf-download"});const D=(await Xo.getPdfData(J.id)).data.invoice,le=window.open("","_blank");le&&(le.document.write(`
          <!DOCTYPE html>
          <html>
          <head>
            <title>Invoice ${D.invoice_number}</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
              .header h1 { margin: 0; color: #333; }
              .header p { margin: 5px 0; color: #666; }
              .invoice-info { display: flex; justify-content: space-between; margin-bottom: 30px; }
              .invoice-info div { flex: 1; }
              .invoice-info h3 { margin: 0 0 10px 0; color: #333; font-size: 14px; }
              .invoice-info p { margin: 3px 0; color: #666; font-size: 13px; }
              table { width: 100%; border-collapse: collapse; margin: 20px 0; }
              th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
              th { background: #f5f5f5; font-weight: 600; }
              .totals { text-align: right; margin-top: 20px; }
              .totals p { margin: 5px 0; }
              .totals .total { font-size: 18px; font-weight: bold; color: #333; }
              .status { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; }
              .status-issued { background: #e0f2fe; color: #0369a1; }
              .status-paid { background: #dcfce7; color: #166534; }
              .footer { margin-top: 40px; text-align: center; color: #999; font-size: 12px; border-top: 1px solid #eee; padding-top: 20px; }
              @media print { body { padding: 20px; } }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>INVOICE</h1>
              <p>${D.invoice_number}</p>
              <span class="status status-${D.status}">${D.status.toUpperCase()}</span>
            </div>
            
            <div class="invoice-info">
              <div>
                <h3>Bill To:</h3>
                <p><strong>${D.billing_name||D.customer_name||"Customer"}</strong></p>
                <p>${D.customer_email||""}</p>
                <p>${D.billing_address||""}</p>
                <p>${D.billing_city||""} ${D.billing_state||""} ${D.billing_postal_code||""}</p>
              </div>
              <div style="text-align: right;">
                <h3>Invoice Details:</h3>
                <p><strong>Invoice #:</strong> ${D.invoice_number}</p>
                <p><strong>Order #:</strong> ${D.order_number||"N/A"}</p>
                <p><strong>Issue Date:</strong> ${new Date(D.issued_at).toLocaleDateString()}</p>
                ${D.due_at?`<p><strong>Due Date:</strong> ${new Date(D.due_at).toLocaleDateString()}</p>`:""}
              </div>
            </div>
            
            <table>
              <thead>
                <tr>
                  <th>Item</th>
                  <th>Qty</th>
                  <th>Unit Price</th>
                  <th>Amount</th>
                </tr>
              </thead>
              <tbody>
                ${D.items&&D.items.length>0?D.items.map(M=>`
                    <tr>
                      <td>${M.product_name}</td>
                      <td>${M.quantity}</td>
                      <td>$${Number(M.unit_price).toFixed(2)}</td>
                      <td>$${Number(M.total_amount).toFixed(2)}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="4" style="text-align: center; color: #999;">Order items</td></tr>'}
              </tbody>
            </table>
            
            <div class="totals">
              <p>Subtotal: $${Number(D.subtotal).toFixed(2)}</p>
              <p>Tax: $${Number(D.tax_amount).toFixed(2)}</p>
              ${D.shipping_amount>0?`<p>Shipping: $${Number(D.shipping_amount).toFixed(2)}</p>`:""}
              ${D.discount_amount>0?`<p>Discount: -$${Number(D.discount_amount).toFixed(2)}</p>`:""}
              <p class="total">Total: $${Number(D.total_amount).toFixed(2)}</p>
            </div>
            
            <div class="footer">
              <p>Thank you for your business!</p>
              <p>Generated on ${new Date().toLocaleString()}</p>
            </div>
          </body>
          </html>
        `),le.document.close(),le.focus(),setTimeout(()=>{le.print()},500)),ne.success("Invoice opened for printing",{id:"pdf-download"})}catch(V){console.error("Failed to download invoice:",V),ne.error("Failed to download invoice",{id:"pdf-download"})}},ue=J=>{J.preventDefault(),v(1),L()},de=()=>{l(""),u("all"),f("all"),m(""),y(""),v(1)},re=J=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(J);return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Invoices"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and generate invoices for orders"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition",children:[a.jsx(Xe,{className:"w-4 h-4"}),"Refresh"]}),a.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:[a.jsx(Jl,{className:"w-4 h-4"}),"Generate Invoice"]})]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(gn,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Invoices"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:r.total_count}),a.jsx("p",{className:"text-sm text-gray-500",children:re(r.total_amount||0)})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Ge,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Paid"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:r.paid_count}),a.jsx("p",{className:"text-sm text-gray-500",children:re(r.paid_amount||0)})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(xn,{className:"w-5 h-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Pending"}),a.jsx("p",{className:"text-xl font-bold text-yellow-600",children:r.pending_count}),a.jsx("p",{className:"text-sm text-gray-500",children:re(r.pending_amount||0)})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:a.jsx(Ft,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Voided"}),a.jsx("p",{className:"text-xl font-bold text-gray-600",children:r.voided_count})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:[a.jsxs("form",{onSubmit:ue,className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by invoice #, order #, or customer...",value:o,onChange:J=>l(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("select",{value:c,onChange:J=>{u(J.target.value),v(1)},className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"issued",children:"Issued"}),a.jsx("option",{value:"paid",children:"Paid"}),a.jsx("option",{value:"overdue",children:"Overdue"}),a.jsx("option",{value:"voided",children:"Voided"})]}),a.jsxs("button",{type:"button",onClick:()=>C(!w),className:"flex items-center gap-2 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsx(Kc,{className:"w-4 h-4"}),"More Filters"]}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Search"})]}),w&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Type"}),a.jsxs("select",{value:d,onChange:J=>{f(J.target.value),v(1)},className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"sale",children:"Sale"}),a.jsx("option",{value:"proforma",children:"Proforma"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:p,onChange:J=>{m(J.target.value),v(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:x,onChange:J=>{y(J.target.value),v(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:de,className:"px-4 py-2 text-gray-600 border border-gray-200 rounded-lg hover:bg-gray-50",children:"Clear Filters"})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Order"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Issued Date"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:s?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[a.jsx(Xe,{className:"w-5 h-5 animate-spin"}),"Loading invoices..."]})})}):e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No invoices found"})}):e.map(J=>{const V=Ju[J.status]||Ju.issued,D=V.icon;return a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:J.invoice_number}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:J.invoice_type})]})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.customer_name}),a.jsx("div",{className:"text-xs text-gray-500",children:J.customer_email})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"text-sm text-indigo-600 font-medium",children:["#",J.order_number]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:re(J.total_amount)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${V.bg} ${V.text}`,children:[a.jsx(D,{className:"w-3 h-3"}),J.status]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:Oe(new Date(J.issued_at),"MMM d, yyyy")}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx("button",{onClick:()=>A(J),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition",title:"View Details",children:a.jsx(ar,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>K(J),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition",title:"Download Invoice",children:a.jsx(qx,{className:"w-4 h-4"})})]})})]},J.id)})})]})}),g>1&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(h-1)*20+1," - ",Math.min(h*20,S)," of ",S," invoices"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>v(J=>Math.max(1,J-1)),disabled:h===1,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(hn,{className:"w-4 h-4"})}),a.jsxs("span",{className:"px-4 py-2 text-sm text-gray-700",children:["Page ",h," of ",g]}),a.jsx("button",{onClick:()=>v(J=>Math.min(g,J+1)),disabled:h===g,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(mn,{className:"w-4 h-4"})})]})]})]}),k&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Invoice Details"}),a.jsx("button",{onClick:()=>{$(!1),P(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(sr,{className:"w-5 h-5"})})]}),O?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Xe,{className:"w-8 h-8 animate-spin text-indigo-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-500",children:"Loading invoice details..."})]}):_?a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:_.invoice_number}),a.jsxs("p",{className:"text-gray-500",children:["Order #",_.order_number]})]}),a.jsxs("div",{className:"text-right",children:[(()=>{const J=Ju[_.status]||Ju.issued,V=J.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${J.bg} ${J.text}`,children:[a.jsx(V,{className:"w-4 h-4"}),_.status]})})(),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Issued: ",Oe(new Date(_.issued_at),"MMM d, yyyy")]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Bill To"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:_.billing_name||_.customer_name}),a.jsx("p",{className:"text-gray-500",children:_.customer_email})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[_.billing_address&&a.jsx("p",{children:_.billing_address}),(_.billing_city||_.billing_state)&&a.jsx("p",{children:[_.billing_city,_.billing_state].filter(Boolean).join(", ")}),_.billing_postal_code&&a.jsx("p",{children:_.billing_postal_code}),_.billing_country&&a.jsx("p",{children:_.billing_country})]})]})]}),_.items&&_.items.length>0&&a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Items"}),a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left text-sm font-medium text-gray-600 pb-2",children:"Item"}),a.jsx("th",{className:"text-center text-sm font-medium text-gray-600 pb-2",children:"Qty"}),a.jsx("th",{className:"text-right text-sm font-medium text-gray-600 pb-2",children:"Unit Price"}),a.jsx("th",{className:"text-right text-sm font-medium text-gray-600 pb-2",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:_.items.map(J=>a.jsxs("tr",{children:[a.jsxs("td",{className:"py-2",children:[a.jsx("p",{className:"font-medium text-gray-900",children:J.product_name}),J.product_sku&&a.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",J.product_sku]})]}),a.jsx("td",{className:"py-2 text-center text-gray-700",children:J.quantity}),a.jsx("td",{className:"py-2 text-right text-gray-700",children:re(J.unit_price)}),a.jsx("td",{className:"py-2 text-right font-medium text-gray-900",children:re(J.total_amount)})]},J.id))})]})]}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Subtotal"}),a.jsx("span",{className:"font-medium",children:re(_.subtotal)})]}),_.tax_amount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Tax"}),a.jsx("span",{className:"font-medium",children:re(_.tax_amount)})]}),_.shipping_amount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Shipping"}),a.jsx("span",{className:"font-medium",children:re(_.shipping_amount)})]}),_.discount_amount>0&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Discount"}),a.jsxs("span",{className:"font-medium text-green-600",children:["-",re(_.discount_amount)]})]}),a.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:a.jsxs("div",{className:"flex justify-between text-lg",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),a.jsx("span",{className:"font-bold text-gray-900",children:re(_.total_amount)})]})})]})}),_.credit_notes&&_.credit_notes.length>0&&a.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[a.jsx("h4",{className:"font-semibold text-purple-900 mb-3",children:"Related Credit Notes"}),a.jsx("div",{className:"space-y-2",children:_.credit_notes.map(J=>a.jsxs("div",{className:"flex justify-between items-center bg-white rounded-lg p-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:J.credit_note_number}),a.jsx("p",{className:"text-sm text-gray-500",children:Oe(new Date(J.issued_at),"MMM d, yyyy")})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium text-red-600",children:["-",re(J.total_amount)]}),a.jsx("p",{className:"text-xs text-gray-500 capitalize",children:J.status})]})]},J.id))})]}),_.notes&&a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Notes"}),a.jsx("p",{className:"text-gray-600",children:_.notes})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsxs("button",{onClick:()=>K(_),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[a.jsx(qx,{className:"w-4 h-4"}),"Download / Print"]}),_.status==="issued"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>te(_.id,"paid"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[a.jsx(Ge,{className:"w-4 h-4"}),"Mark as Paid"]}),a.jsxs("button",{onClick:()=>te(_.id,"voided"),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:[a.jsx(Ft,{className:"w-4 h-4"}),"Void Invoice"]})]})]})]}):null]})}),B&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full",children:[a.jsxs("div",{className:"border-b border-gray-100 px-6 py-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Generate Invoice"}),a.jsx("button",{onClick:()=>{R(!1),G(""),T("")},className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(sr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order ID"}),a.jsx("input",{type:"number",value:z,onChange:J=>G(J.target.value),placeholder:"Enter order ID",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),a.jsx("textarea",{value:I,onChange:J=>T(J.target.value),placeholder:"Add any notes for this invoice",rows:3,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>{R(!1),G(""),T("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:H,disabled:E||!z,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:E?a.jsxs(a.Fragment,{children:[a.jsx(Xe,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Jl,{className:"w-4 h-4"}),"Generate"]})})]})]})]})})]})}const Zu={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:xn},sent:{bg:"bg-blue-100",text:"text-blue-800",icon:Kx},delivered:{bg:"bg-green-100",text:"text-green-800",icon:Ge},read:{bg:"bg-indigo-100",text:"text-indigo-800",icon:ar},failed:{bg:"bg-red-100",text:"text-red-800",icon:Ft}},_le={email:Yc,push:t4,sms:Ni,in_app:ms},K2=[{value:"all",label:"All Types"},{value:"order_status_update",label:"Order Status"},{value:"payment_update",label:"Payment Update"},{value:"shipping_update",label:"Shipping Update"},{value:"refund_processed",label:"Refund Processed"},{value:"credit_note_issued",label:"Credit Note Issued"},{value:"ticket_update",label:"Ticket Update"},{value:"admin_message",label:"Admin Message"},{value:"promotional",label:"Promotional"}],kle=[{value:"all",label:"All Channels"},{value:"email",label:"Email"},{value:"push",label:"Push"},{value:"sms",label:"SMS"},{value:"in_app",label:"In-App"}];function Cle(){const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(""),[c,u]=b.useState("all"),[d,f]=b.useState("all"),[p,m]=b.useState("all"),[x,y]=b.useState(""),[h,v]=b.useState(""),[g,j]=b.useState(1),[S,N]=b.useState(1),[w,C]=b.useState(0),[_,P]=b.useState(!1),[k,$]=b.useState(null),[O,F]=b.useState(!1),[B,R]=b.useState(!1),[z,G]=b.useState(!1),[I,T]=b.useState(""),[E,U]=b.useState("in_app"),[L,A]=b.useState(""),[H,te]=b.useState(""),[K,ue]=b.useState(!1),de=b.useCallback(async()=>{i(!0);try{const Y=await im.getAll({page:g,limit:20,notification_type:c!=="all"?c:void 0,channel:d!=="all"?d:void 0,status:p!=="all"?p:void 0,search:o||void 0,start_date:x||void 0,end_date:h||void 0});t(Y.data.notifications),n(Y.data.stats),N(Y.data.pagination.totalPages),C(Y.data.pagination.total)}catch(Y){console.error("Failed to load notifications:",Y),ne.error("Failed to load notifications")}finally{i(!1)}},[g,c,d,p,o,x,h]);b.useEffect(()=>{de()},[de]);const re=async Y=>{R(!0),F(!0);try{const ae=await im.getById(Y.id);$(ae.data.notification)}catch(ae){console.error("Failed to load notification details:",ae),ne.error("Failed to load notification details"),F(!1)}finally{R(!1)}},J=async()=>{var Y,ae;if(!I||!H){ne.error("Please fill in all required fields");return}ue(!0);try{await im.send({user_id:parseInt(I),channel:E,subject:L||void 0,message:H,notification_type:"admin_message"}),ne.success("Notification sent successfully"),G(!1),T(""),U("in_app"),A(""),te(""),de()}catch(xe){console.error("Failed to send notification:",xe),ne.error(((ae=(Y=xe.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Failed to send notification")}finally{ue(!1)}},V=Y=>{Y.preventDefault(),j(1),de()},D=()=>{l(""),u("all"),f("all"),m("all"),y(""),v(""),j(1)},le=Y=>{const ae=_le[Y]||ms;return a.jsx(ae,{className:"w-4 h-4"})},M=Y=>{const ae=K2.find(xe=>xe.value===Y);return ae?ae.label:Y.replace(/_/g," ")};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notification Logs"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"View and manage notification history"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:de,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition",children:[a.jsx(Xe,{className:"w-4 h-4"}),"Refresh"]}),a.jsxs("button",{onClick:()=>G(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:[a.jsx(Kx,{className:"w-4 h-4"}),"Send Notification"]})]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(ms,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Sent"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:r.total_count}),a.jsxs("p",{className:"text-xs text-green-600",children:["+",r.today_count," today"]})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Ge,{className:"w-5 h-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Delivered"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:r.delivered_count})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:a.jsx(ar,{className:"w-5 h-5 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Read"}),a.jsx("p",{className:"text-xl font-bold text-indigo-600",children:r.read_count})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:a.jsx(Ft,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Failed"}),a.jsx("p",{className:"text-xl font-bold text-red-600",children:r.failed_count})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[a.jsx(Yc,{className:"w-3 h-3 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:r.email_count})]}),a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[a.jsx(t4,{className:"w-3 h-3 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:r.push_count})]}),a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[a.jsx(Ni,{className:"w-3 h-3 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:r.sms_count})]}),a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[a.jsx(ms,{className:"w-3 h-3 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:r.in_app_count})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100",children:[a.jsxs("form",{onSubmit:V,className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[a.jsx(jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search by subject, message, or recipient...",value:o,onChange:Y=>l(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsx("select",{value:c,onChange:Y=>{u(Y.target.value),j(1)},className:"px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500",children:K2.map(Y=>a.jsx("option",{value:Y.value,children:Y.label},Y.value))}),a.jsxs("button",{type:"button",onClick:()=>P(!_),className:"flex items-center gap-2 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsx(Kc,{className:"w-4 h-4"}),"More Filters"]}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Search"})]}),_&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Channel"}),a.jsx("select",{value:d,onChange:Y=>{f(Y.target.value),j(1)},className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500",children:kle.map(Y=>a.jsx("option",{value:Y.value,children:Y.label},Y.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{value:p,onChange:Y=>{m(Y.target.value),j(1)},className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"sent",children:"Sent"}),a.jsx("option",{value:"delivered",children:"Delivered"}),a.jsx("option",{value:"read",children:"Read"}),a.jsx("option",{value:"failed",children:"Failed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:x,onChange:Y=>{y(Y.target.value),j(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"date",value:h,onChange:Y=>{v(Y.target.value),j(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{onClick:D,className:"px-4 py-2 text-gray-600 border border-gray-200 rounded-lg hover:bg-gray-50",children:"Clear Filters"})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Recipient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Channel"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Subject / Message"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase whitespace-nowrap",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:s?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[a.jsx(Xe,{className:"w-5 h-5 animate-spin"}),"Loading notifications..."]})})}):e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:"No notifications found"})}):e.map(Y=>{const ae=Zu[Y.status]||Zu.pending,xe=ae.icon;return a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.user_name||Y.recipient}),Y.user_email&&a.jsx("div",{className:"text-xs text-gray-500",children:Y.user_email})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-gray-700 capitalize",children:M(Y.notification_type)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[le(Y.channel),a.jsx("span",{className:"text-sm text-gray-700 capitalize",children:Y.channel.replace(/_/g," ")})]})}),a.jsxs("td",{className:"px-6 py-4",children:[Y.subject&&a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:Y.subject}),a.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:Y.message})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${ae.bg} ${ae.text}`,children:[a.jsx(xe,{className:"w-3 h-3"}),Y.status]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:Oe(new Date(Y.created_at),"MMM d, HH:mm")}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{onClick:()=>re(Y),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition",title:"View Details",children:a.jsx(ar,{className:"w-4 h-4"})})})]},Y.id)})})]})}),S>1&&a.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(g-1)*20+1," - ",Math.min(g*20,w)," of ",w," notifications"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>j(Y=>Math.max(1,Y-1)),disabled:g===1,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(hn,{className:"w-4 h-4"})}),a.jsxs("span",{className:"px-4 py-2 text-sm text-gray-700",children:["Page ",g," of ",S]}),a.jsx("button",{onClick:()=>j(Y=>Math.min(S,Y+1)),disabled:g===S,className:"p-2 border border-gray-200 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(mn,{className:"w-4 h-4"})})]})]})]}),O&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Notification Details"}),a.jsx("button",{onClick:()=>{F(!1),$(null)},className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(sr,{className:"w-5 h-5"})})]}),B?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Xe,{className:"w-8 h-8 animate-spin text-indigo-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-500",children:"Loading notification details..."})]}):k?a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{children:(()=>{const Y=Zu[k.status]||Zu.pending,ae=Y.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${Y.bg} ${Y.text}`,children:[a.jsx(ae,{className:"w-4 h-4"}),k.status]})})()}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[le(k.channel),a.jsx("span",{className:"capitalize",children:k.channel.replace(/_/g," ")})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Recipient"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),a.jsx("p",{className:"font-medium",children:k.user_name||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),a.jsx("p",{className:"font-medium",children:k.user_email||k.recipient})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Message"}),k.subject&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Subject"}),a.jsx("p",{className:"font-medium text-gray-900",children:k.subject})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Content"}),a.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:k.message})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Notification Type"}),a.jsx("p",{className:"font-medium capitalize",children:M(k.notification_type)})]}),k.related_type&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Related To"}),a.jsxs("p",{className:"font-medium capitalize",children:[k.related_type," #",k.related_id]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Timeline"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Created"}),a.jsx("span",{className:"font-medium",children:Oe(new Date(k.created_at),"MMM d, yyyy HH:mm:ss")})]}),k.sent_at&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Sent"}),a.jsx("span",{className:"font-medium",children:Oe(new Date(k.sent_at),"MMM d, yyyy HH:mm:ss")})]}),k.delivered_at&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Delivered"}),a.jsx("span",{className:"font-medium",children:Oe(new Date(k.delivered_at),"MMM d, yyyy HH:mm:ss")})]}),k.read_at&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Read"}),a.jsx("span",{className:"font-medium",children:Oe(new Date(k.read_at),"MMM d, yyyy HH:mm:ss")})]})]})]}),k.failed_reason&&a.jsx("div",{className:"bg-red-50 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ls,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-red-800",children:"Failure Reason"}),a.jsx("p",{className:"text-red-700 mt-1",children:k.failed_reason})]})]})})]}):null]})}),z&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full",children:[a.jsxs("div",{className:"border-b border-gray-100 px-6 py-4 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Send Notification"}),a.jsx("button",{onClick:()=>{G(!1),T(""),A(""),te("")},className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(sr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User ID *"}),a.jsx("input",{type:"number",value:I,onChange:Y=>T(Y.target.value),placeholder:"Enter user ID",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Channel"}),a.jsxs("select",{value:E,onChange:Y=>U(Y.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"in_app",children:"In-App"}),a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"push",children:"Push"}),a.jsx("option",{value:"sms",children:"SMS"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),a.jsx("input",{type:"text",value:L,onChange:Y=>A(Y.target.value),placeholder:"Notification subject",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message *"}),a.jsx("textarea",{value:H,onChange:Y=>te(Y.target.value),placeholder:"Enter notification message",rows:4,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>{G(!1),T(""),A(""),te("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:J,disabled:K||!I||!H,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:K?a.jsxs(a.Fragment,{children:[a.jsx(Xe,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Kx,{className:"w-4 h-4"}),"Send"]})})]})]})]})})]})}function Ole(){const[e,t]=b.useState([]),[r,n]=b.useState([]),[s,i]=b.useState(!0),[o,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[p,m]=b.useState(null),[x,y]=b.useState([]),[h,v]=b.useState(null),[g,j]=b.useState({}),[S,N]=b.useState("all"),[w,C]=b.useState("all"),[_,P]=b.useState({name:"",type:"order_confirmation",channel:"email",subject_template:"",body_template:"",variables:[],is_active:!0,change_notes:""});b.useEffect(()=>{k(),$()},[S,w]);const k=async()=>{try{i(!0);const L={};S!=="all"&&(L.type=S),w!=="all"&&(L.channel=w);const A=await Wr.getAll(L);t(A.data.templates||[])}catch(L){console.error("Error fetching templates:",L)}finally{i(!1)}},$=async()=>{try{const L=await Cn.getEventTypes();n(L.data.eventTypes||[])}catch(L){console.error("Error fetching event types:",L)}},O=()=>{m(null),P({name:"",type:"order_confirmation",channel:"email",subject_template:"",body_template:"",variables:[],is_active:!0,change_notes:""}),l(!0)},F=async L=>{try{const H=(await Wr.getById(L.id)).data.template;m(H),P({name:H.name,type:H.type,channel:H.channel,subject_template:H.subject_template||"",body_template:H.body_template||"",variables:H.variables||[],is_active:H.is_active===1,change_notes:""}),y(H.versions||[]),l(!0)}catch(A){console.error("Error fetching template:",A)}},B=async L=>{var A,H;if(confirm("Are you sure you want to delete this template?"))try{await Wr.delete(L),k()}catch(te){alert(((H=(A=te.response)==null?void 0:A.data)==null?void 0:H.message)||"Failed to delete template")}},R=async L=>{var A,H;L.preventDefault();try{p?await Wr.update(p.id,{..._,is_active:_.is_active,create_version:!0}):await Wr.create(_),l(!1),k()}catch(te){alert(((H=(A=te.response)==null?void 0:A.data)==null?void 0:H.message)||"Failed to save template")}},z=async L=>{m(L);const A={customer_name:"John Doe",order_number:"ORD-12345",total_amount:"$99.99",order_date:new Date().toLocaleDateString()};j(A);try{const H=await Wr.preview(L.id,{sample_data:A});v(H.data.preview),u(!0)}catch(H){console.error("Error previewing template:",H)}},G=async()=>{if(p)try{const L=await Wr.preview(p.id,{sample_data:g});v(L.data.preview)}catch(L){console.error("Error updating preview:",L)}},I=async L=>{try{const A=await Wr.getById(L.id);m(A.data.template),y(A.data.template.versions||[]),f(!0)}catch(A){console.error("Error fetching versions:",A)}},T=async L=>{if(p)try{await Wr.activateVersion(p.id,L),alert("Version activated successfully"),f(!1),k()}catch(A){console.error("Error activating version:",A)}},E=L=>{switch(L){case"email":return a.jsx(ou,{className:"text-blue-500"});case"push":return a.jsx(Ms,{className:"text-orange-500"});case"sms":return a.jsx(Ch,{className:"text-green-500"});default:return a.jsx(Ms,{className:"text-gray-500"})}},U=L=>{P(A=>({...A,body_template:A.body_template+`{{${L}}}`}))};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notification Templates"}),a.jsx("p",{className:"text-gray-600",children:"Manage notification templates with version control"})]}),a.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:[a.jsx(Pa,{})," New Template"]})]}),a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsxs("select",{value:S,onChange:L=>N(L.target.value),className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"all",children:"All Types"}),r.map(L=>a.jsx("option",{value:L.type,children:L.label},L.type))]}),a.jsxs("select",{value:w,onChange:L=>C(L.target.value),className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"all",children:"All Channels"}),a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"push",children:"Push"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"in_app",children:"In-App"})]}),a.jsxs("button",{onClick:k,className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[a.jsx(fo,{})," Refresh"]})]}),s?a.jsx("div",{className:"text-center py-8",children:"Loading..."}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Channel"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Version"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.map(L=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-medium text-gray-900",children:L.name}),a.jsx("div",{className:"text-sm text-gray-500",children:L.subject_template})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-sm",children:L.type.replace(/_/g," ")})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[E(L.channel),a.jsx("span",{className:"capitalize",children:L.channel})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("button",{onClick:()=>I(L),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800",children:[a.jsx(pn,{}),"v",L.current_version||1," (",L.version_count||1,")"]})}),a.jsx("td",{className:"px-6 py-4",children:L.is_active?a.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[a.jsx(iu,{})," Active"]}):a.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[a.jsx(jr,{})," Inactive"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>z(L),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Preview",children:a.jsx(lA,{})}),a.jsx("button",{onClick:()=>F(L),className:"p-2 text-orange-600 hover:bg-orange-50 rounded",title:"Edit",children:a.jsx(Lo,{})}),a.jsx("button",{onClick:()=>B(L.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:a.jsx(mo,{})})]})})]},L.id)),e.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No templates found. Create your first template!"})})]})]})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:p?"Edit Template":"Create Template"}),a.jsxs("form",{onSubmit:R,children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:_.name,onChange:L=>P({..._,name:L.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsx("select",{value:_.type,onChange:L=>P({..._,type:L.target.value}),className:"w-full border rounded-lg px-3 py-2",children:r.map(L=>a.jsx("option",{value:L.type,children:L.label},L.type))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Channel"}),a.jsxs("select",{value:_.channel,onChange:L=>P({..._,channel:L.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"push",children:"Push Notification"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"in_app",children:"In-App"})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:_.is_active,onChange:L=>P({..._,is_active:L.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject Template"}),a.jsx("input",{type:"text",value:_.subject_template,onChange:L=>P({..._,subject_template:L.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"e.g., Order {{order_number}} Confirmed"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Body Template"}),a.jsxs("div",{className:"flex gap-2 mb-2 flex-wrap",children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Variables:"}),["customer_name","order_number","total_amount","order_date"].map(L=>a.jsxs("button",{type:"button",onClick:()=>U(L),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs hover:bg-gray-200",children:[a.jsx(Zoe,{className:"inline mr-1"}),L]},L))]}),a.jsx("textarea",{value:_.body_template,onChange:L=>P({..._,body_template:L.target.value}),rows:6,className:"w-full border rounded-lg px-3 py-2 font-mono text-sm",placeholder:`Hello {{customer_name}},

Your order {{order_number}} has been confirmed...`,required:!0})]}),p&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Change Notes"}),a.jsx("input",{type:"text",value:_.change_notes,onChange:L=>P({..._,change_notes:L.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"Describe what changed..."})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:p?"Save Changes":"Create Template"})]})]})]})}),c&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Template Preview"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Sample Data"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(g).map(([L,A])=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:L,disabled:!0,className:"w-1/3 border rounded px-2 py-1 bg-gray-50 text-sm"}),a.jsx("input",{type:"text",value:A,onChange:H=>j({...g,[L]:H.target.value}),className:"flex-1 border rounded px-2 py-1 text-sm"})]},L))}),a.jsx("button",{onClick:G,className:"mt-2 px-3 py-1 bg-gray-100 rounded text-sm hover:bg-gray-200",children:"Update Preview"})]}),a.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[a.jsxs("div",{className:"border-b pb-2 mb-2",children:[a.jsx("span",{className:"font-medium",children:"Subject:"}),a.jsx("span",{className:"ml-2",children:h.subject})]}),a.jsx("div",{className:"whitespace-pre-wrap",children:h.body})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Close"})})]})}),d&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Version History - ",p.name]}),a.jsx("div",{className:"space-y-4",children:x.map(L=>{var A;return a.jsxs("div",{className:`border rounded-lg p-4 ${L.is_active?"border-green-500 bg-green-50":""}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-bold",children:["Version ",L.version]}),L.is_active&&a.jsx("span",{className:"ml-2 px-2 py-1 bg-green-500 text-white text-xs rounded",children:"Active"})]}),a.jsx("div",{className:"text-sm text-gray-500",children:new Date(L.created_at).toLocaleString()})]}),a.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[a.jsx("strong",{children:"Change Notes:"})," ",L.change_notes||"No notes"]}),a.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[a.jsx("strong",{children:"Created by:"})," ",L.created_by_name||"System"]}),a.jsxs("div",{className:"text-sm bg-gray-100 p-2 rounded font-mono",children:[(A=L.body_template)==null?void 0:A.substring(0,100),"..."]}),!L.is_active&&a.jsx("button",{onClick:()=>T(L.id),className:"mt-2 px-3 py-1 bg-orange-500 text-white rounded text-sm hover:bg-orange-600",children:"Rollback to this version"})]},L.id)})}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Close"})})]})})]})}function Ple(){const[e,t]=b.useState([]),[r,n]=b.useState([]),[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[p,m]=b.useState(null),[x,y]=b.useState(null),[h,v]=b.useState("all"),[g,j]=b.useState("all"),[S,N]=b.useState({name:"",event_type:"",template_id:0,conditions:[],channel:"email",priority:0,delay_minutes:0,is_active:!0}),[w,C]=b.useState({order_amount:"100",customer_type:"regular",status:"confirmed"});b.useEffect(()=>{_(),P(),k()},[h,g]);const _=async()=>{try{l(!0);const A={};h!=="all"&&(A.event_type=h),g!=="all"&&(A.channel=g);const H=await Cn.getAll(A);t(H.data.rules||[])}catch(A){console.error("Error fetching rules:",A)}finally{l(!1)}},P=async()=>{try{const A=await Cn.getEventTypes();n(A.data.eventTypes||[])}catch(A){console.error("Error fetching event types:",A)}},k=async()=>{try{const A=await Wr.getAll();i(A.data.templates||[])}catch(A){console.error("Error fetching templates:",A)}},$=()=>{var A,H;m(null),N({name:"",event_type:((A=r[0])==null?void 0:A.type)||"order_created",template_id:((H=s[0])==null?void 0:H.id)||0,conditions:[],channel:"email",priority:0,delay_minutes:0,is_active:!0}),u(!0)},O=async A=>{try{const te=(await Cn.getById(A.id)).data.rule;m(te),N({name:te.name,event_type:te.event_type,template_id:te.template_id,conditions:te.conditions||[],channel:te.channel,priority:te.priority,delay_minutes:te.delay_minutes,is_active:te.is_active===1}),u(!0)}catch(H){console.error("Error fetching rule:",H)}},F=async A=>{var H,te;if(confirm("Are you sure you want to delete this rule?"))try{await Cn.delete(A),_()}catch(K){alert(((te=(H=K.response)==null?void 0:H.data)==null?void 0:te.message)||"Failed to delete rule")}},B=async A=>{try{await Cn.toggle(A),_()}catch(H){console.error("Error toggling rule:",H)}},R=async A=>{var H,te;A.preventDefault();try{p?await Cn.update(p.id,S):await Cn.create(S),u(!1),_()}catch(K){alert(((te=(H=K.response)==null?void 0:H.data)==null?void 0:te.message)||"Failed to save rule")}},z=async A=>{m(A),y(null),f(!0)},G=async()=>{if(p)try{const A=await Cn.test(p.id,w);y(A.data.result)}catch(A){console.error("Error testing rule:",A)}},I=()=>{N({...S,conditions:[...S.conditions,{field:"",operator:"equals",value:""}]})},T=(A,H,te)=>{const K=[...S.conditions];K[A]={...K[A],[H]:te},N({...S,conditions:K})},E=A=>{N({...S,conditions:S.conditions.filter((H,te)=>te!==A)})},U=A=>{switch(A){case"email":return a.jsx(ou,{className:"text-blue-500"});case"push":return a.jsx(Ms,{className:"text-orange-500"});case"sms":return a.jsx(Ch,{className:"text-green-500"});default:return a.jsx(Ms,{className:"text-gray-500"})}},L=A=>{const H=r.find(te=>te.type===A);return(H==null?void 0:H.label)||A.replace(/_/g," ")};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Event Trigger Rules"}),a.jsx("p",{className:"text-gray-600",children:"Map events to notification templates"})]}),a.jsxs("button",{onClick:$,className:"flex items-center gap-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:[a.jsx(Pa,{})," New Rule"]})]}),a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsxs("select",{value:h,onChange:A=>v(A.target.value),className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"all",children:"All Events"}),r.map(A=>a.jsx("option",{value:A.type,children:A.label},A.type))]}),a.jsxs("select",{value:g,onChange:A=>j(A.target.value),className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"all",children:"All Channels"}),a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"push",children:"Push"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"in_app",children:"In-App"})]}),a.jsxs("button",{onClick:_,className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[a.jsx(fo,{})," Refresh"]})]}),o?a.jsx("div",{className:"text-center py-8",children:"Loading..."}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rule"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Event"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Template"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Channel"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Triggered"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-medium text-gray-900",children:A.name}),A.conditions&&A.conditions.length>0&&a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[a.jsx(Gv,{className:"text-xs"}),A.conditions.length," condition(s)"]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nd,{className:"text-yellow-500"}),a.jsx("span",{className:"capitalize",children:L(A.event_type)})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-gray-700",children:A.template_name||"No template"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[U(A.channel),a.jsx("span",{className:"capitalize",children:A.channel})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-sm",children:A.priority}),A.delay_minutes>0&&a.jsxs("span",{className:"ml-2 text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(pn,{className:"text-xs"}),A.delay_minutes,"m delay"]})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"text-gray-600",children:[A.trigger_count," times"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("button",{onClick:()=>B(A.id),className:`flex items-center gap-1 ${A.is_active?"text-green-600":"text-gray-400"}`,children:[A.is_active?a.jsx(iu,{}):a.jsx(jr,{}),A.is_active?"Active":"Inactive"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>z(A),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Test Rule",children:a.jsx(cA,{})}),a.jsx("button",{onClick:()=>O(A),className:"p-2 text-orange-600 hover:bg-orange-50 rounded",title:"Edit",children:a.jsx(Lo,{})}),a.jsx("button",{onClick:()=>F(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:a.jsx(mo,{})})]})})]},A.id)),e.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:"No event rules found. Create your first rule!"})})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:p?"Edit Rule":"Create Rule"}),a.jsxs("form",{onSubmit:R,children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rule Name"}),a.jsx("input",{type:"text",value:S.name,onChange:A=>N({...S,name:A.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Type"}),a.jsx("select",{value:S.event_type,onChange:A=>N({...S,event_type:A.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0,children:r.map(A=>a.jsx("option",{value:A.type,children:A.label},A.type))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template"}),a.jsxs("select",{value:S.template_id,onChange:A=>N({...S,template_id:Number(A.target.value)}),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[a.jsx("option",{value:"",children:"Select template..."}),s.map(A=>a.jsxs("option",{value:A.id,children:[A.name," (",A.channel,")"]},A.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Channel"}),a.jsxs("select",{value:S.channel,onChange:A=>N({...S,channel:A.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"push",children:"Push Notification"}),a.jsx("option",{value:"sms",children:"SMS"}),a.jsx("option",{value:"in_app",children:"In-App"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),a.jsx("input",{type:"number",value:S.priority,onChange:A=>N({...S,priority:Number(A.target.value)}),className:"w-full border rounded-lg px-3 py-2",min:"0",max:"100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delay (minutes)"}),a.jsx("input",{type:"number",value:S.delay_minutes,onChange:A=>N({...S,delay_minutes:Number(A.target.value)}),className:"w-full border rounded-lg px-3 py-2",min:"0"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Conditions (Optional)"}),a.jsx("button",{type:"button",onClick:I,className:"text-sm text-orange-600 hover:text-orange-800",children:"+ Add Condition"})]}),S.conditions.map((A,H)=>a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:A.field,onChange:te=>T(H,"field",te.target.value),className:"flex-1 border rounded px-2 py-1 text-sm",placeholder:"Field (e.g., order_amount)"}),a.jsxs("select",{value:A.operator,onChange:te=>T(H,"operator",te.target.value),className:"border rounded px-2 py-1 text-sm",children:[a.jsx("option",{value:"equals",children:"equals"}),a.jsx("option",{value:"not_equals",children:"not equals"}),a.jsx("option",{value:"greater_than",children:"greater than"}),a.jsx("option",{value:"less_than",children:"less than"}),a.jsx("option",{value:"contains",children:"contains"})]}),a.jsx("input",{type:"text",value:A.value,onChange:te=>T(H,"value",te.target.value),className:"flex-1 border rounded px-2 py-1 text-sm",placeholder:"Value"}),a.jsx("button",{type:"button",onClick:()=>E(H),className:"text-red-500 hover:text-red-700",children:a.jsx(jr,{})})]},H))]}),a.jsx("div",{className:"flex items-center mb-4",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:S.is_active,onChange:A=>N({...S,is_active:A.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:p?"Save Changes":"Create Rule"})]})]})]})}),d&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-xl",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Test Rule: ",p.name]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Sample Data"}),a.jsx("div",{className:"space-y-2",children:Object.entries(w).map(([A,H])=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:A,onChange:te=>{const K={...w};delete K[A],K[te.target.value]=H,C(K)},className:"w-1/3 border rounded px-2 py-1 text-sm",placeholder:"Field"}),a.jsx("input",{type:"text",value:H,onChange:te=>C({...w,[A]:te.target.value}),className:"flex-1 border rounded px-2 py-1 text-sm",placeholder:"Value"})]},A))}),a.jsx("button",{onClick:()=>C({...w,[`field_${Object.keys(w).length+1}`]:""}),className:"mt-2 text-sm text-orange-600 hover:text-orange-800",children:"+ Add Field"})]}),a.jsx("button",{onClick:G,className:"w-full py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 mb-4",children:"Run Test"}),x&&a.jsxs("div",{className:`border rounded-lg p-4 ${x.would_trigger?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:[a.jsx("div",{className:"font-bold mb-2",children:x.would_trigger?" Rule Would Trigger":" Rule Would NOT Trigger"}),x.condition_results&&x.condition_results.length>0&&a.jsxs("div",{className:"mb-2",children:[a.jsx("strong",{children:"Conditions:"}),x.condition_results.map((A,H)=>a.jsxs("div",{className:`text-sm ${A.passed?"text-green-600":"text-red-600"}`,children:[A.field," ",A.operator," ",A.expected,": ",A.passed?"PASS":"FAIL"," (actual: ",A.actual,")"]},H))]}),x.preview&&a.jsxs("div",{className:"mt-2 p-2 bg-white rounded border",children:[a.jsx("strong",{children:"Preview:"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("strong",{children:"Channel:"})," ",x.preview.channel]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("strong",{children:"Subject:"})," ",x.preview.subject]}),a.jsx("div",{className:"text-sm mt-1",children:x.preview.body})]})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Close"})})]})})]})}function Ale(){const[e,t]=b.useState("campaigns"),[r,n]=b.useState([]),[s,i]=b.useState([]),[o,l]=b.useState([]),[c,u]=b.useState([]),[d,f]=b.useState(!0),[p,m]=b.useState(!1),[x,y]=b.useState(!1),[h,v]=b.useState(!1),[g,j]=b.useState(null),[S,N]=b.useState("all"),[w,C]=b.useState({name:"",description:"",campaign_type:"marketing",template_id:0,segment_type:"all",segment_criteria:{},channel:"email",scheduled_at:"",requires_opt_in:!0}),[_,P]=b.useState({name:"",description:"",segment_type:"custom",criteria:[],is_dynamic:!1}),[k,$]=b.useState({name:"",category_id:0,template_id:0,trigger_type:"product_view",channel:"email",frequency_cap_hours:168,requires_opt_in:!0}),[O,F]=b.useState([]);b.useEffect(()=>{B(),R(),z()},[e,S]);const B=async()=>{f(!0);try{if(e==="campaigns"){const M={};S!=="all"&&(M.status=S);const Y=await or.getAll(M);n(Y.data.campaigns||[])}else if(e==="segments"){const M=await or.getSegments();i(M.data.segments||[])}else if(e==="category-rules"){const M=await or.getCategoryRules();l(M.data.rules||[])}}catch(M){console.error("Error fetching data:",M)}finally{f(!1)}},R=async()=>{try{const M=await Wr.getAll({type:"marketing"});u(M.data.templates||[])}catch(M){console.error("Error fetching templates:",M)}},z=async()=>{try{const M=await ia.getAll();F(M.data.categories||[])}catch(M){console.error("Error fetching categories:",M),F([{id:1,name:"Electronics"},{id:2,name:"Clothing"},{id:3,name:"Home & Garden"},{id:4,name:"Books"},{id:5,name:"Sports"}])}},G=()=>{var M;j(null),C({name:"",description:"",campaign_type:"marketing",template_id:((M=c[0])==null?void 0:M.id)||0,segment_type:"all",segment_criteria:{},channel:"email",scheduled_at:"",requires_opt_in:!0}),m(!0)},I=async M=>{try{const ae=(await or.getById(M.id)).data.campaign;j(ae),C({name:ae.name,description:ae.description||"",campaign_type:ae.campaign_type||"marketing",template_id:ae.template_id,segment_type:ae.segment_type||"all",segment_criteria:ae.segment_criteria||{},channel:ae.channel,scheduled_at:ae.scheduled_at||"",requires_opt_in:ae.requires_opt_in??!0}),m(!0)}catch(Y){console.error("Error fetching campaign:",Y)}},T=async M=>{var Y,ae;if(confirm("Are you sure you want to delete this campaign?"))try{await or.delete(M),B()}catch(xe){alert(((ae=(Y=xe.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Failed to delete campaign")}},E=async M=>{var Y,ae;try{await or.start(M),B()}catch(xe){alert(((ae=(Y=xe.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Failed to start campaign")}},U=async M=>{var Y,ae;try{await or.pause(M),B()}catch(xe){alert(((ae=(Y=xe.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Failed to pause campaign")}},L=async M=>{var Y,ae;M.preventDefault();try{g?await or.update(g.id,w):await or.create(w),m(!1),B()}catch(xe){alert(((ae=(Y=xe.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Failed to save campaign")}},A=()=>{P({name:"",description:"",segment_type:"custom",criteria:[],is_dynamic:!1}),y(!0)},H=async M=>{var Y,ae;M.preventDefault();try{await or.createSegment(_),y(!1),B()}catch(xe){alert(((ae=(Y=xe.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Failed to create segment")}},te=()=>{P({..._,criteria:[..._.criteria,{field:"",operator:"equals",value:""}]})},K=(M,Y,ae)=>{const xe=[..._.criteria];xe[M]={...xe[M],[Y]:ae},P({..._,criteria:xe})},ue=M=>{P({..._,criteria:_.criteria.filter((Y,ae)=>ae!==M)})},de=()=>{var M,Y;$({name:"",category_id:((M=O[0])==null?void 0:M.id)||0,template_id:((Y=c[0])==null?void 0:Y.id)||0,trigger_type:"product_view",channel:"email",frequency_cap_hours:168,requires_opt_in:!0}),v(!0)},re=async M=>{var Y,ae;M.preventDefault();try{await or.createCategoryRule(k),v(!1),B()}catch(xe){alert(((ae=(Y=xe.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Failed to create category rule")}},J=async M=>{try{await or.toggleCategoryRule(M),B()}catch(Y){console.error("Error toggling rule:",Y)}},V=async M=>{var Y,ae;if(confirm("Are you sure you want to delete this rule?"))try{await or.deleteCategoryRule(M),B()}catch(xe){alert(((ae=(Y=xe.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Failed to delete rule")}},D=M=>{switch(M){case"email":return a.jsx(ou,{className:"text-blue-500"});case"push":return a.jsx(Ms,{className:"text-orange-500"});case"sms":return a.jsx(Ch,{className:"text-green-500"});default:return a.jsx(Ms,{className:"text-gray-500"})}},le=M=>{switch(M){case"active":case"running":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Marketing Campaigns"}),a.jsx("p",{className:"text-gray-600",children:"Create and manage marketing campaigns with user segmentation"})]})}),a.jsxs("div",{className:"flex border-b mb-6",children:[a.jsxs("button",{onClick:()=>t("campaigns"),className:`px-4 py-2 border-b-2 ${e==="campaigns"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[a.jsx(dle,{className:"inline mr-2"}),"Campaigns"]}),a.jsxs("button",{onClick:()=>t("segments"),className:`px-4 py-2 border-b-2 ${e==="segments"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[a.jsx(ys,{className:"inline mr-2"}),"Segments"]}),a.jsxs("button",{onClick:()=>t("category-rules"),className:`px-4 py-2 border-b-2 ${e==="category-rules"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[a.jsx(tle,{className:"inline mr-2"}),"Category Rules"]})]}),e==="campaigns"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("select",{value:S,onChange:M=>N(M.target.value),className:"border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"draft",children:"Draft"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"paused",children:"Paused"}),a.jsx("option",{value:"completed",children:"Completed"})]}),a.jsxs("button",{onClick:B,className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[a.jsx(fo,{})," Refresh"]})]}),a.jsxs("button",{onClick:G,className:"flex items-center gap-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:[a.jsx(Pa,{})," New Campaign"]})]}),d?a.jsx("div",{className:"text-center py-8",children:"Loading..."}):a.jsxs("div",{className:"grid gap-4",children:[r.map(M=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[D(M.channel),a.jsx("h3",{className:"text-lg font-bold",children:M.name}),a.jsx("span",{className:`px-2 py-1 rounded text-sm ${le(M.status)}`,children:M.status})]}),a.jsx("p",{className:"text-gray-600 mb-2",children:M.description}),a.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[a.jsxs("span",{children:[a.jsx(ule,{className:"inline mr-1"}),"Template: ",M.template_name]}),a.jsxs("span",{children:[a.jsx(ys,{className:"inline mr-1"}),"Segment: ",M.segment_name||"All Users"]}),M.scheduled_at&&a.jsxs("span",{children:[a.jsx(oA,{className:"inline mr-1"}),"Scheduled: ",new Date(M.scheduled_at).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[M.status==="draft"||M.status==="paused"?a.jsx("button",{onClick:()=>E(M.id),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Start Campaign",children:a.jsx(cA,{})}):M.status==="active"||M.status==="running"?a.jsx("button",{onClick:()=>U(M.id),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded",title:"Pause Campaign",children:a.jsx(sle,{})}):null,a.jsx("button",{onClick:()=>I(M),className:"p-2 text-orange-600 hover:bg-orange-50 rounded",title:"Edit",children:a.jsx(Lo,{})}),a.jsx("button",{onClick:()=>T(M.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:a.jsx(mo,{})})]})]}),M.total_sent>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:M.total_sent}),a.jsx("div",{className:"text-sm text-gray-500",children:"Sent"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:M.total_delivered}),a.jsx("div",{className:"text-sm text-gray-500",children:"Delivered"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:M.total_opened}),a.jsx("div",{className:"text-sm text-gray-500",children:"Opened"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:M.total_clicked}),a.jsx("div",{className:"text-sm text-gray-500",children:"Clicked"})]})]})]},M.id)),r.length===0&&a.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"No campaigns found. Create your first marketing campaign!"})]})]}),e==="segments"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsxs("button",{onClick:A,className:"flex items-center gap-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:[a.jsx(Pa,{})," New Segment"]})}),d?a.jsx("div",{className:"text-center py-8",children:"Loading..."}):a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[s.map(M=>a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(ys,{className:"text-orange-500 text-xl"}),a.jsx("h3",{className:"font-bold text-lg",children:M.name})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:M.description}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:M.user_count}),a.jsx("span",{className:"text-sm text-gray-500",children:"users"})]}),M.criteria&&M.criteria.length>0&&a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsxs("div",{className:"text-sm text-gray-500",children:[M.criteria.length," condition(s)"]})})]},M.id)),s.length===0&&a.jsx("div",{className:"col-span-full bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"No segments found. Create user segments for targeted campaigns!"})]})]}),e==="category-rules"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("p",{className:"text-gray-600",children:"Configure frequency caps per product category"}),a.jsxs("button",{onClick:de,className:"flex items-center gap-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:[a.jsx(Pa,{})," New Rule"]})]}),d?a.jsx("div",{className:"text-center py-8",children:"Loading..."}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rule"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Template"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Channel"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Frequency Cap"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[o.map(M=>{var Y;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-medium",children:M.name}),a.jsx("div",{className:"text-xs text-gray-500 capitalize",children:(Y=M.trigger_type)==null?void 0:Y.replace(/_/g," ")})]}),a.jsx("td",{className:"px-6 py-4",children:M.category_name||`Category ${M.category_id}`}),a.jsx("td",{className:"px-6 py-4",children:M.template_name||"No template"}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[D(M.channel),a.jsx("span",{className:"capitalize",children:M.channel})]})}),a.jsxs("td",{className:"px-6 py-4",children:[M.frequency_cap_hours,"h (",Math.round(M.frequency_cap_hours/24),"d)"]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("button",{onClick:()=>J(M.id),className:`flex items-center gap-1 ${M.is_active?"text-green-600":"text-gray-400"}`,children:[M.is_active?a.jsx(iu,{}):a.jsx(jr,{}),M.is_active?"Active":"Inactive"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>V(M.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:a.jsx(mo,{})})})]},M.id)}),o.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No category rules found. Add rules to control marketing frequency per category."})})]})]})})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:g?"Edit Campaign":"Create Campaign"}),a.jsxs("form",{onSubmit:L,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Name"}),a.jsx("input",{type:"text",value:w.name,onChange:M=>C({...w,name:M.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:w.description,onChange:M=>C({...w,description:M.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Type"}),a.jsxs("select",{value:w.campaign_type,onChange:M=>C({...w,campaign_type:M.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[a.jsx("option",{value:"marketing",children:"Marketing"}),a.jsx("option",{value:"promotional",children:"Promotional"}),a.jsx("option",{value:"announcement",children:"Announcement"}),a.jsx("option",{value:"newsletter",children:"Newsletter"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template"}),a.jsxs("select",{value:w.template_id,onChange:M=>C({...w,template_id:Number(M.target.value)}),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[a.jsx("option",{value:"",children:"Select template..."}),c.map(M=>a.jsx("option",{value:M.id,children:M.name},M.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Segment Type"}),a.jsxs("select",{value:w.segment_type,onChange:M=>C({...w,segment_type:M.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"all",children:"All Users"}),a.jsx("option",{value:"active",children:"Active Users"}),a.jsx("option",{value:"new",children:"New Users"}),a.jsx("option",{value:"inactive",children:"Inactive Users"}),a.jsx("option",{value:"custom",children:"Custom Segment"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Channel"}),a.jsxs("select",{value:w.channel,onChange:M=>C({...w,channel:M.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"push",children:"Push Notification"}),a.jsx("option",{value:"sms",children:"SMS"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Schedule (optional)"}),a.jsx("input",{type:"datetime-local",value:w.scheduled_at,onChange:M=>C({...w,scheduled_at:M.target.value}),className:"w-full border rounded-lg px-3 py-2"})]}),a.jsx("div",{className:"flex items-center pt-6",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:w.requires_opt_in,onChange:M=>C({...w,requires_opt_in:M.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Requires user opt-in"})]})})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:g?"Save Changes":"Create Campaign"})]})]})]})}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-xl",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Segment"}),a.jsxs("form",{onSubmit:H,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Segment Name"}),a.jsx("input",{type:"text",value:_.name,onChange:M=>P({..._,name:M.target.value}),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:_.description,onChange:M=>P({..._,description:M.target.value}),className:"w-full border rounded-lg px-3 py-2",rows:2})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Conditions"}),a.jsx("button",{type:"button",onClick:te,className:"text-sm text-orange-600 hover:text-orange-800",children:"+ Add Condition"})]}),_.criteria.map((M,Y)=>a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsxs("select",{value:M.field,onChange:ae=>K(Y,"field",ae.target.value),className:"flex-1 border rounded px-2 py-1 text-sm",children:[a.jsx("option",{value:"",children:"Select field..."}),a.jsx("option",{value:"total_orders",children:"Total Orders"}),a.jsx("option",{value:"total_spent",children:"Total Spent"}),a.jsx("option",{value:"last_order_date",children:"Last Order Date"}),a.jsx("option",{value:"created_at",children:"Account Age"}),a.jsx("option",{value:"city",children:"City"})]}),a.jsxs("select",{value:M.operator,onChange:ae=>K(Y,"operator",ae.target.value),className:"border rounded px-2 py-1 text-sm",children:[a.jsx("option",{value:"equals",children:"equals"}),a.jsx("option",{value:"greater_than",children:"greater than"}),a.jsx("option",{value:"less_than",children:"less than"}),a.jsx("option",{value:"contains",children:"contains"})]}),a.jsx("input",{type:"text",value:M.value,onChange:ae=>K(Y,"value",ae.target.value),className:"flex-1 border rounded px-2 py-1 text-sm",placeholder:"Value"}),a.jsx("button",{type:"button",onClick:()=>ue(Y),className:"text-red-500 hover:text-red-700",children:a.jsx(jr,{})})]},Y))]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"Create Segment"})]})]})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Category Rule"}),a.jsxs("form",{onSubmit:re,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rule Name"}),a.jsx("input",{type:"text",value:k.name,onChange:M=>$({...k,name:M.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"e.g., Electronics Promo",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{value:k.category_id,onChange:M=>$({...k,category_id:Number(M.target.value)}),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[a.jsx("option",{value:"",children:"Select category..."}),O.map(M=>a.jsx("option",{value:M.id,children:M.name},M.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template"}),a.jsxs("select",{value:k.template_id,onChange:M=>$({...k,template_id:Number(M.target.value)}),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[a.jsx("option",{value:"",children:"Select template..."}),c.map(M=>a.jsx("option",{value:M.id,children:M.name},M.id))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trigger Type"}),a.jsxs("select",{value:k.trigger_type,onChange:M=>$({...k,trigger_type:M.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"product_view",children:"Product View"}),a.jsx("option",{value:"add_to_cart",children:"Add to Cart"}),a.jsx("option",{value:"purchase",children:"Purchase"}),a.jsx("option",{value:"wishlist",children:"Wishlist"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Channel"}),a.jsxs("select",{value:k.channel,onChange:M=>$({...k,channel:M.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"push",children:"Push Notification"}),a.jsx("option",{value:"sms",children:"SMS"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequency Cap (hours)"}),a.jsx("input",{type:"number",value:k.frequency_cap_hours,onChange:M=>$({...k,frequency_cap_hours:Number(M.target.value)}),className:"w-full border rounded-lg px-3 py-2",min:"1",placeholder:"e.g., 168 for 1 week"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum hours between messages (24=1 day, 168=1 week)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"requires_opt_in",checked:k.requires_opt_in,onChange:M=>$({...k,requires_opt_in:M.target.checked}),className:"rounded"}),a.jsx("label",{htmlFor:"requires_opt_in",className:"text-sm text-gray-700",children:"Requires user opt-in"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"Create Rule"})]})]})]})})]})}function Ele(){var R,z,G,I,T,E,U,L,A,H,te,K,ue,de,re,J,V,D,le;const[e,t]=b.useState("sales"),[r,n]=b.useState("month"),[s,i]=b.useState(!0),[o,l]=b.useState(!1),[c,u]=b.useState(null),[d,f]=b.useState([]),[p,m]=b.useState([]),[x,y]=b.useState([]),[h,v]=b.useState(null),[g,j]=b.useState(null),[S,N]=b.useState(null),[w,C]=b.useState(null);b.useEffect(()=>{_()},[e,r]);const _=async()=>{i(!0);try{switch(e){case"sales":const M=await Va.getSalesReport({period:r});if(M.data.success){const bt=M.data.data;u(bt.summary),f(bt.daily_sales||[]),m(bt.top_products||[]),y(bt.sales_by_category||[])}break;case"tax":const Y=await Va.getTaxReport({period:r});Y.data.success&&v(Y.data.data);break;case"orders":const ae=await Va.getOrdersReport({period:r});ae.data.success&&j(ae.data.data);break;case"customers":const xe=await Va.getCustomersReport({period:r});xe.data.success&&N(xe.data.data);break;case"inventory":const ot=await Va.getInventoryReport();ot.data.success&&C(ot.data.data);break}}catch(M){console.error("Error fetching report:",M)}finally{i(!1)}},P=async M=>{l(!0);try{await Va.exportReport({report_type:e,format:M,parameters:{period:r}}),alert(`${e} report exported as ${M.toUpperCase()}`)}catch(Y){console.error("Error exporting report:",Y),alert("Failed to export report")}finally{l(!1)}},k=async()=>{try{await Va.clearCache(e),alert("Report cache cleared"),_()}catch(M){console.error("Error clearing cache:",M)}},$=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(M||0),O=M=>new Intl.NumberFormat("en-US").format(M||0),F=[{id:"sales",label:"Sales",icon:E0},{id:"tax",label:"Tax",icon:ele},{id:"orders",label:"Orders",icon:ho},{id:"customers",label:"Customers",icon:ys},{id:"inventory",label:"Inventory",icon:Tl}],B=[{value:"today",label:"Today"},{value:"week",label:"Last 7 Days"},{value:"month",label:"Last 30 Days"},{value:"quarter",label:"Last 90 Days"},{value:"year",label:"Last Year"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Reports Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Analytics and insights for your store"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 text-gray-600 bg-white rounded-lg border hover:bg-gray-50",children:[a.jsx(fo,{className:"w-4 h-4"}),"Refresh"]}),a.jsxs("button",{onClick:()=>P("csv"),disabled:o,className:"flex items-center gap-2 px-4 py-2 text-white bg-orange-500 rounded-lg hover:bg-orange-600 disabled:opacity-50",children:[a.jsx(Vv,{className:"w-4 h-4"}),o?"Exporting...":"Export CSV"]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(M=>a.jsxs("button",{onClick:()=>t(M.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${e===M.id?"bg-orange-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(M.icon,{className:"w-4 h-4"}),M.label]},M.id))}),e!=="inventory"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oA,{className:"text-gray-500"}),a.jsx("select",{value:r,onChange:M=>n(M.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:B.map(M=>a.jsx("option",{value:M.value,children:M.label},M.value))})]})]}),s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):a.jsxs(a.Fragment,{children:[e==="sales"&&c&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(E0,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:$(c.total_revenue)})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(ho,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Orders"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:O(c.total_orders)})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(fle,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Order Value"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:$(c.average_order_value)})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(ys,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Unique Customers"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:O(c.unique_customers)})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Goe,{className:"text-orange-500"}),"Daily Sales Trend"]}),a.jsxs("div",{className:"space-y-2",children:[d.slice(-7).map(M=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:new Date(M.date).toLocaleDateString()}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:[M.orders," orders"]}),a.jsx("span",{className:"font-semibold text-green-600",children:$(M.revenue)})]})]},M.date)),d.length===0&&a.jsx("p",{className:"text-center text-gray-500 py-4",children:"No sales data for this period"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(ole,{className:"text-orange-500"}),"Sales by Category"]}),a.jsxs("div",{className:"space-y-3",children:[x.map((M,Y)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700",children:M.category||"Uncategorized"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:[M.units_sold," units"]}),a.jsx("span",{className:"font-semibold",children:$(M.revenue)})]})]},M.category||Y)),x.length===0&&a.jsx("p",{className:"text-center text-gray-500 py-4",children:"No category data available"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Tl,{className:"text-orange-500"}),"Top Selling Products"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Units Sold"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Revenue"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[p.map(M=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[M.image_url?a.jsx("img",{src:M.image_url,alt:M.name,className:"w-10 h-10 rounded object-cover"}):a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded flex items-center justify-center",children:a.jsx(Tl,{className:"text-gray-400"})}),a.jsx("span",{className:"font-medium",children:M.name})]})}),a.jsx("td",{className:"px-4 py-3 text-right",children:O(M.units_sold)}),a.jsx("td",{className:"px-4 py-3 text-right font-semibold text-green-600",children:$(M.revenue)})]},M.id)),p.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No product sales data for this period"})})]})]})})]})]}),e==="tax"&&h&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Taxable Orders"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:O(((R=h.summary)==null?void 0:R.taxable_orders)||0)})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Gross Revenue"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:$(((z=h.summary)==null?void 0:z.gross_revenue)||0)})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Tax Collected"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:$(((G=h.summary)==null?void 0:G.total_tax_collected)||0)})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Tax per Order"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:$(((I=h.summary)==null?void 0:I.average_tax_per_order)||0)})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Tax Collection"}),a.jsx("div",{className:"space-y-2",children:(h.daily_tax||[]).slice(-10).map(M=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsx("span",{className:"text-gray-600",children:new Date(M.date).toLocaleDateString()}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:[M.orders," orders"]}),a.jsx("span",{className:"text-gray-700",children:$(M.gross_revenue)}),a.jsxs("span",{className:"font-semibold text-green-600",children:[$(M.tax_collected)," tax"]})]})]},M.date))})]})]}),e==="orders"&&g&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),a.jsx("p",{className:"text-xl font-bold",children:((T=g.summary)==null?void 0:T.total_orders)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Completed"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:((E=g.summary)==null?void 0:E.completed_orders)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Pending"}),a.jsx("p",{className:"text-xl font-bold text-yellow-600",children:((U=g.summary)==null?void 0:U.pending_orders)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Processing"}),a.jsx("p",{className:"text-xl font-bold text-blue-600",children:((L=g.summary)==null?void 0:L.processing_orders)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Shipped"}),a.jsx("p",{className:"text-xl font-bold text-purple-600",children:((A=g.summary)==null?void 0:A.shipped_orders)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Cancelled"}),a.jsx("p",{className:"text-xl font-bold text-red-600",children:((H=g.summary)==null?void 0:H.cancelled_orders)||0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Orders by Day of Week"}),a.jsx("div",{className:"space-y-2",children:(g.orders_by_day||[]).map(M=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsx("span",{children:M.day}),a.jsxs("span",{className:"font-semibold",children:[M.count," orders"]})]},M.day))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Fulfillment Rate"}),a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-4xl font-bold text-green-600",children:[((te=g.summary)==null?void 0:te.fulfillment_rate)||0,"%"]}),a.jsx("p",{className:"text-gray-500",children:"Order Fulfillment"})]})})]})]})]}),e==="customers"&&S&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Customers"}),a.jsx("p",{className:"text-2xl font-bold",children:O(((K=S.summary)==null?void 0:K.total_customers)||0)})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"New Customers"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:O(((ue=S.summary)==null?void 0:ue.new_customers)||0)})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Repeat Customers"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:O(((de=S.summary)==null?void 0:de.repeat_customers)||0)})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Customers by Spending"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Orders"}),a.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Spent"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:(S.top_customers||[]).map(M=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:M.name}),a.jsx("p",{className:"text-sm text-gray-500",children:M.email})]})}),a.jsx("td",{className:"px-4 py-3 text-right",children:M.total_orders}),a.jsx("td",{className:"px-4 py-3 text-right font-semibold text-green-600",children:$(M.total_spent)})]},M.id))})]})})]})]}),e==="inventory"&&w&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Total Products"}),a.jsx("p",{className:"text-xl font-bold",children:((re=w.summary)==null?void 0:re.total_products)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Total Units"}),a.jsx("p",{className:"text-xl font-bold",children:O(((J=w.summary)==null?void 0:J.total_units)||0)})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Inventory Value"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:$(((V=w.summary)==null?void 0:V.inventory_value)||0)})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Low Stock"}),a.jsx("p",{className:"text-xl font-bold text-yellow-600",children:((D=w.summary)==null?void 0:D.low_stock)||0})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Out of Stock"}),a.jsx("p",{className:"text-xl font-bold text-red-600",children:((le=w.summary)==null?void 0:le.out_of_stock)||0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-red-600",children:"Products Needing Reorder"}),a.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[(w.reorder_products||[]).map(M=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:M.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",M.sku]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-bold ${M.stock_quantity===0?"text-red-600":"text-yellow-600"}`,children:[M.stock_quantity," / ",M.low_stock_threshold]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Reorder: ",M.reorder_quantity]})]})]},M.id)),(w.reorder_products||[]).length===0&&a.jsx("p",{className:"text-center text-gray-500 py-4",children:"All products are well stocked!"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Inventory by Category"}),a.jsx("div",{className:"space-y-3",children:(w.inventory_by_category||[]).map((M,Y)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:M.category||"Uncategorized"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:[M.products," products"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[O(M.total_units)," units"]}),a.jsx("span",{className:"font-semibold",children:$(M.value)})]})]},M.category||Y))})]})]})]})]})]})}function Tle(){const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(1),[c,u]=b.useState(1),[d,f]=b.useState(null),[p,m]=b.useState(!1),[x,y]=b.useState(""),[h,v]=b.useState(""),[g,j]=b.useState(""),[S,N]=b.useState(""),[w,C]=b.useState(""),[_,P]=b.useState(""),[k,$]=b.useState([]),[O,F]=b.useState([]);b.useEffect(()=>{B()},[]),b.useEffect(()=>{R()},[o,x,h,g,S,w,_]);const B=async()=>{try{const[E,U]=await Promise.all([Au.getActionTypes(),Au.getEntityTypes()]);E.data.success&&$(E.data.data),U.data.success&&F(U.data.data)}catch(E){console.error("Error fetching filter options:",E)}},R=async()=>{i(!0);try{const E={page:o,limit:50};x&&(E.search=x),h&&(E.action_type=h),g&&(E.entity_type=g),S&&(E.severity=S),w&&(E.start_date=w),_&&(E.end_date=_);const U=await Au.getAll(E);U.data.success&&(t(U.data.data),n(U.data.stats),u(U.data.pagination.pages))}catch(E){console.error("Error fetching audit logs:",E)}finally{i(!1)}},z=async()=>{try{const E=await Au.export({start_date:w||void 0,end_date:_||void 0,format:"csv"});E.data.success&&alert(`Exported ${E.data.data.record_count} audit logs`)}catch(E){console.error("Error exporting logs:",E),alert("Failed to export audit logs")}},G=()=>{y(""),v(""),j(""),N(""),C(""),P(""),l(1)},I=E=>{switch(E){case"critical":return a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700",children:[a.jsx(uo,{className:"w-3 h-3"})," Critical"]});case"warning":return a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:[a.jsx(A0,{className:"w-3 h-3"})," Warning"]});default:return a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:[a.jsx(T0,{className:"w-3 h-3"})," Info"]})}},T=E=>new Date(E).toLocaleString();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Audit Logs"}),a.jsx("p",{className:"text-gray-600",children:"System-wide action tracking (WORM-compliant)"})]}),a.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 text-white bg-orange-500 rounded-lg hover:bg-orange-600",children:[a.jsx(Vv,{className:"w-4 h-4"}),"Export Logs"]})]}),r&&a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($s,{className:"w-5 h-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Logs"}),a.jsx("p",{className:"text-xl font-bold",children:r.total_logs.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(pn,{className:"w-5 h-5 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Today"}),a.jsx("p",{className:"text-xl font-bold",children:r.today_count})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(T0,{className:"w-5 h-5 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Info"}),a.jsx("p",{className:"text-xl font-bold text-blue-600",children:r.info_count})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(A0,{className:"w-5 h-5 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Warnings"}),a.jsx("p",{className:"text-xl font-bold text-yellow-600",children:r.warning_count})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(uo,{className:"w-5 h-5 text-red-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Critical"}),a.jsx("p",{className:"text-xl font-bold text-red-600",children:r.critical_count})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(cle,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search logs...",value:x,onChange:E=>{y(E.target.value),l(1)},className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),a.jsxs("button",{onClick:()=>m(!p),className:`flex items-center gap-2 px-4 py-2 rounded-lg border ${p?"bg-orange-100 border-orange-500 text-orange-700":"bg-white hover:bg-gray-50"}`,children:[a.jsx(Gv,{className:"w-4 h-4"}),"Filters"]}),(h||g||S||w||_)&&a.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:[a.jsx(jr,{className:"w-4 h-4"}),"Clear"]})]}),p&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mt-4 pt-4 border-t",children:[a.jsxs("select",{value:h,onChange:E=>{v(E.target.value),l(1)},className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"All Actions"}),k.map(E=>a.jsx("option",{value:E,children:E},E))]}),a.jsxs("select",{value:g,onChange:E=>{j(E.target.value),l(1)},className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"All Entities"}),O.map(E=>a.jsx("option",{value:E,children:E},E))]}),a.jsxs("select",{value:S,onChange:E=>{N(E.target.value),l(1)},className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"",children:"All Severities"}),a.jsx("option",{value:"info",children:"Info"}),a.jsx("option",{value:"warning",children:"Warning"}),a.jsx("option",{value:"critical",children:"Critical"})]}),a.jsx("input",{type:"date",value:w,onChange:E=>{C(E.target.value),l(1)},className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500",placeholder:"Start Date"}),a.jsx("input",{type:"date",value:_,onChange:E=>{P(E.target.value),l(1)},className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500",placeholder:"End Date"})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Timestamp"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Action"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Entity"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"User"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Description"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Severity"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.map(E=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 whitespace-nowrap",children:T(E.created_at)}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:"font-medium text-gray-900",children:E.action_type})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-700",children:E.entity_type}),E.entity_id&&a.jsxs("span",{className:"text-gray-500 text-sm ml-1",children:["#",E.entity_id]})]})}),a.jsx("td",{className:"px-4 py-3",children:E.admin_name?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rc,{className:"text-gray-400"}),a.jsx("span",{children:E.admin_name})]}):E.user_name?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rc,{className:"text-gray-400"}),a.jsx("span",{children:E.user_name})]}):a.jsx("span",{className:"text-gray-400",children:"System"})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",children:E.description||"-"}),a.jsx("td",{className:"px-4 py-3",children:I(E.severity)}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{onClick:()=>f(E),className:"p-2 text-orange-600 hover:bg-orange-50 rounded",title:"View Details",children:a.jsx(lA,{})})})]},E.id)),e.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No audit logs found"})})]})]})}),c>1&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Page ",o," of ",c]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>l(Math.max(1,o-1)),disabled:o===1,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50",children:a.jsx(Xoe,{})}),a.jsx("button",{onClick:()=>l(Math.min(c,o+1)),disabled:o===c,className:"p-2 rounded-lg hover:bg-gray-100 disabled:opacity-50",children:a.jsx(Qoe,{})})]})]})]})}),d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Audit Log Details"}),a.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-gray-100 rounded",children:a.jsx(jr,{})})]}),a.jsxs("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-500",children:"ID"}),a.jsx("p",{className:"font-medium",children:d.id})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-500",children:"Timestamp"}),a.jsx("p",{className:"font-medium",children:T(d.created_at)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-500",children:"Action Type"}),a.jsx("p",{className:"font-medium",children:d.action_type})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-500",children:"Entity"}),a.jsxs("p",{className:"font-medium",children:[d.entity_type,d.entity_id&&` #${d.entity_id}`]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-500",children:"Severity"}),a.jsx("div",{className:"mt-1",children:I(d.severity)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-500",children:"IP Address"}),a.jsx("p",{className:"font-medium",children:d.ip_address||"-"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"User"}),a.jsxs("p",{className:"font-medium",children:[d.admin_name||d.user_name||"System",d.admin_email&&a.jsxs("span",{className:"text-gray-500 ml-2",children:["(",d.admin_email,")"]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"Description"}),a.jsx("p",{className:"font-medium",children:d.description||"-"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"User Agent"}),a.jsx("p",{className:"text-sm text-gray-700 break-all",children:d.user_agent||"-"})]}),d.old_values&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"Previous Values"}),a.jsx("pre",{className:"mt-1 p-3 bg-gray-100 rounded text-sm overflow-x-auto",children:typeof d.old_values=="string"?JSON.stringify(JSON.parse(d.old_values),null,2):JSON.stringify(d.old_values,null,2)})]}),d.new_values&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"New Values"}),a.jsx("pre",{className:"mt-1 p-3 bg-green-50 rounded text-sm overflow-x-auto",children:typeof d.new_values=="string"?JSON.stringify(JSON.parse(d.new_values),null,2):JSON.stringify(d.new_values,null,2)})]})]})]})})]})}function $le(){const[e,t]=b.useState({}),[r,n]=b.useState(!0),[s,i]=b.useState(!1),[o,l]=b.useState({}),[c,u]=b.useState([]),[d,f]=b.useState(null),[p,m]=b.useState([]),[x,y]=b.useState(""),h={store:rle,tax:ile,shipping:ple,orders:ho,cart:ho,security:po,system:wd,general:wd},v={store:"Store Information",tax:"Tax Configuration",shipping:"Shipping Settings",orders:"Order Settings",cart:"Cart Settings",security:"Security Settings",system:"System Settings",general:"General Settings"};b.useEffect(()=>{g()},[]);const g=async()=>{n(!0);try{const O=await Eu.getAll();if(O.data.success){t(O.data.grouped);const F=Object.keys(O.data.grouped);F.length>0&&u([F[0]])}}catch(O){console.error("Error fetching settings:",O)}finally{n(!1)}},j=async O=>{try{const F=await Eu.getHistory(O);F.data.success&&(m(F.data.data),f(O))}catch(F){console.error("Error fetching history:",F)}},S=O=>{u(F=>F.includes(O)?F.filter(B=>B!==O):[...F,O])},N=(O,F)=>{l(B=>({...B,[O.id]:{...O,newValue:F}}))},w=Object.keys(o).length>0,C=async()=>{if(w){i(!0);try{const O=Object.values(o).map(F=>({key:F.setting_key,value:F.newValue}));await Eu.bulkUpdate({settings:O,change_reason:x||"Settings updated"}),l({}),y(""),g(),alert("Settings saved successfully!")}catch(O){console.error("Error saving settings:",O),alert("Failed to save settings")}finally{i(!1)}}},_=async(O,F)=>{if(confirm("Are you sure you want to rollback to this version?"))try{await Eu.rollback(O,F),f(null),g(),alert("Setting rolled back successfully!")}catch(B){console.error("Error rolling back:",B),alert("Failed to rollback setting")}},P=()=>{l({}),y("")},k=O=>o[O.id]?o[O.id].newValue:O.setting_value,$=O=>{const F=k(O),B=o[O.id]!==void 0;if(O.setting_type==="boolean"){const R=F==="true"||F===!0;return a.jsx("button",{onClick:()=>N(O,!R),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${R?"bg-orange-500":"bg-gray-300"} ${B?"ring-2 ring-orange-300":""}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${R?"translate-x-6":"translate-x-1"}`})})}return O.setting_type==="number"?a.jsx("input",{type:"number",value:F,onChange:R=>N(O,R.target.value),className:`w-32 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 ${B?"border-orange-500 bg-orange-50":""}`}):O.is_sensitive?a.jsx("input",{type:"password",value:F,onChange:R=>N(O,R.target.value),className:`w-full max-w-md px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 ${B?"border-orange-500 bg-orange-50":""}`}):a.jsx("input",{type:"text",value:F,onChange:R=>N(O,R.target.value),className:`w-full max-w-md px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 ${B?"border-orange-500 bg-orange-50":""}`})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Store Settings"}),a.jsx("p",{className:"text-gray-600",children:"Configure your store settings (version-controlled)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 text-gray-600 bg-white rounded-lg border hover:bg-gray-50",children:[a.jsx(fo,{className:"w-4 h-4"}),"Refresh"]}),w&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 text-red-600 bg-white rounded-lg border border-red-300 hover:bg-red-50",children:[a.jsx(jr,{className:"w-4 h-4"}),"Discard"]}),a.jsxs("button",{onClick:C,disabled:s,className:"flex items-center gap-2 px-4 py-2 text-white bg-orange-500 rounded-lg hover:bg-orange-600 disabled:opacity-50",children:[a.jsx(lle,{className:"w-4 h-4"}),s?"Saving...":"Save Changes"]})]})]})]}),w&&a.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(A0,{className:"w-5 h-5 text-orange-500 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"font-medium text-orange-800",children:["You have ",Object.keys(o).length," unsaved change(s)"]}),a.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Changes will be saved with version history for rollback capability."}),a.jsx("div",{className:"mt-2",children:a.jsx("input",{type:"text",placeholder:"Change reason (optional)",value:x,onChange:O=>y(O.target.value),className:"w-full max-w-md px-3 py-2 border border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500"})})]})]})}),r?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):a.jsxs("div",{className:"space-y-4",children:[Object.entries(e).map(([O,F])=>{const B=h[O]||wd,R=c.includes(O);return a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("button",{onClick:()=>S(O),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(B,{className:"w-5 h-5 text-orange-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"font-semibold text-gray-800",children:v[O]||O}),a.jsxs("p",{className:"text-sm text-gray-500",children:[F.length," setting(s)"]})]})]}),R?a.jsx(Joe,{className:"w-5 h-5 text-gray-400"}):a.jsx(Yoe,{className:"w-5 h-5 text-gray-400"})]}),R&&a.jsx("div",{className:"border-t divide-y",children:F.map(z=>a.jsx("div",{className:"p-4 hover:bg-gray-50",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"font-medium text-gray-800",children:z.setting_key.replace(/_/g," ").replace(/\b\w/g,G=>G.toUpperCase())}),o[z.id]&&a.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-0.5 rounded",children:"Modified"})]}),z.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:z.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-400",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(pn,{className:"w-3 h-3"}),"v",z.version]}),z.updated_by_name&&a.jsxs("span",{children:["Last updated by ",z.updated_by_name]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[$(z),a.jsx("button",{onClick:()=>j(z.id),className:"p-2 text-gray-500 hover:bg-gray-100 rounded",title:"View History",children:a.jsx(pn,{className:"w-4 h-4"})})]})]})},z.id))})]},O)}),Object.keys(e).length===0&&a.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"No settings found"})]}),d!==null&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(pn,{className:"text-orange-500"}),"Setting History"]}),a.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-gray-100 rounded",children:a.jsx(jr,{})})]}),a.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:p.length>0?a.jsx("div",{className:"space-y-4",children:p.map(O=>a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"font-medium",children:["Version ",O.version]}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(O.created_at).toLocaleString()})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-gray-500",children:"Previous Value"}),a.jsx("p",{className:"font-mono bg-red-50 p-2 rounded mt-1 break-all",children:O.old_value||"(empty)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-gray-500",children:"New Value"}),a.jsx("p",{className:"font-mono bg-green-50 p-2 rounded mt-1 break-all",children:O.new_value||"(empty)"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Changed by: ",O.changed_by_name||"Unknown",O.change_reason&&a.jsxs("span",{className:"ml-2",children:[" ",O.change_reason]})]}),a.jsxs("button",{onClick:()=>_(d,O.version),className:"text-sm text-orange-600 hover:text-orange-700 flex items-center gap-1",children:[a.jsx(fo,{className:"w-3 h-3"}),"Rollback to this"]})]})]},O.id))}):a.jsx("p",{className:"text-center text-gray-500 py-8",children:"No history available"})})]})})]})}function Mle(){const[e,t]=b.useState({}),[r,n]=b.useState([]),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[p,m]=b.useState(""),[x,y]=b.useState(""),[h,v]=b.useState(""),[g,j]=b.useState({feature_key:"",feature_name:"",description:"",is_enabled:!0,is_kill_switch:!1,category:"general",rollout_percentage:100,dependencies:""}),S={auth:po,checkout:ho,products:Tl,notifications:Ms,marketing:ou,payments:E0,orders:ho,inventory:Tl,support:ys,general:Nd},N={auth:"Authentication",checkout:"Checkout",products:"Products",notifications:"Notifications",marketing:"Marketing",payments:"Payments",orders:"Orders",inventory:"Inventory",support:"Support",general:"General"};b.useEffect(()=>{w(),C()},[]);const w=async()=>{i(!0);try{const R=await Ga.getAll();R.data.success&&t(R.data.grouped)}catch(R){console.error("Error fetching features:",R)}finally{i(!1)}},C=async()=>{try{const R=await Ga.getCategories();R.data.success&&n(R.data.data)}catch(R){console.error("Error fetching categories:",R)}},_=async R=>{var z,G;if(R.is_enabled,R.is_kill_switch&&R.is_enabled){const I=`This is a KILL-SWITCH feature! Disabling "${R.feature_name}" may affect critical functionality. Are you sure?`;if(!confirm(I))return}try{await Ga.toggle(R.id,h||void 0),v(""),w(),C()}catch(I){console.error("Error toggling feature:",I),alert(((G=(z=I.response)==null?void 0:z.data)==null?void 0:G.message)||"Failed to toggle feature")}},P=async()=>{if(!p)return;const R=` EMERGENCY KILL-SWITCH

This will DISABLE ALL features in the "${p}" category.

Are you absolutely sure?`;if(confirm(R))try{await Ga.killSwitch(p,x),f(!1),m(""),y(""),w(),C(),alert("Kill-switch activated successfully")}catch(z){console.error("Error activating kill-switch:",z),alert("Failed to activate kill-switch")}},k=async()=>{var R,z;if(!g.feature_key||!g.feature_name){alert("Feature key and name are required");return}try{await Ga.create({...g,dependencies:g.dependencies?g.dependencies.split(",").map(G=>G.trim()):void 0}),u(!1),B(),w(),C()}catch(G){console.error("Error creating feature:",G),alert(((z=(R=G.response)==null?void 0:R.data)==null?void 0:z.message)||"Failed to create feature")}},$=async()=>{if(o)try{await Ga.update(o.id,{feature_name:g.feature_name,description:g.description,category:g.category,is_kill_switch:g.is_kill_switch,rollout_percentage:g.rollout_percentage,dependencies:g.dependencies?g.dependencies.split(",").map(R=>R.trim()):void 0}),u(!1),l(null),B(),w()}catch(R){console.error("Error updating feature:",R),alert("Failed to update feature")}},O=async R=>{if(R.is_kill_switch){alert("Cannot delete kill-switch features. Disable it instead.");return}if(confirm(`Delete feature "${R.feature_name}"?`))try{await Ga.delete(R.id),w(),C()}catch(z){console.error("Error deleting feature:",z),alert("Failed to delete feature")}},F=R=>{var z;l(R),j({feature_key:R.feature_key,feature_name:R.feature_name,description:R.description||"",is_enabled:R.is_enabled===1,is_kill_switch:R.is_kill_switch===1,category:R.category,rollout_percentage:R.rollout_percentage,dependencies:((z=R.dependencies)==null?void 0:z.join(", "))||""}),u(!0)},B=()=>{j({feature_key:"",feature_name:"",description:"",is_enabled:!0,is_kill_switch:!1,category:"general",rollout_percentage:100,dependencies:""})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Feature Toggles"}),a.jsx("p",{className:"text-gray-600",children:"Enable/disable application features with kill-switch support"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 text-red-600 bg-red-50 rounded-lg border border-red-200 hover:bg-red-100",children:[a.jsx(V2,{className:"w-4 h-4"}),"Kill-Switch"]}),a.jsxs("button",{onClick:()=>{l(null),B(),u(!0)},className:"flex items-center gap-2 px-4 py-2 text-white bg-orange-500 rounded-lg hover:bg-orange-600",children:[a.jsx(Pa,{className:"w-4 h-4"}),"Add Feature"]})]})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:r.map(R=>{const z=S[R.category]||Nd;return a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(z,{className:"w-5 h-5 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:N[R.category]||R.category}),a.jsxs("p",{className:"font-semibold",children:[a.jsx("span",{className:"text-green-600",children:R.enabled}),a.jsxs("span",{className:"text-gray-400",children:[" / ",R.total]})]})]})]})},R.category)})}),s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):a.jsxs("div",{className:"space-y-6",children:[Object.entries(e).map(([R,z])=>{const G=S[R]||Nd;return a.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 border-b",children:[a.jsx(G,{className:"w-5 h-5 text-orange-500"}),a.jsx("h3",{className:"font-semibold text-gray-800",children:N[R]||R}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",z.filter(I=>I.is_enabled).length,"/",z.length," enabled)"]})]}),a.jsx("div",{className:"divide-y",children:z.map(I=>a.jsx("div",{className:`p-4 hover:bg-gray-50 ${I.is_enabled?"":"bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium text-gray-800",children:I.feature_name}),I.is_kill_switch?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-700",children:[a.jsx(uo,{className:"w-3 h-3"}),"Kill-Switch"]}):null,I.rollout_percentage<100&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700",children:[I.rollout_percentage,"% Rollout"]})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:I.description||"No description"}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-400",children:[a.jsx("span",{className:"font-mono bg-gray-100 px-2 py-0.5 rounded",children:I.feature_key}),I.dependencies&&I.dependencies.length>0&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(T0,{className:"w-3 h-3"}),"Depends on: ",I.dependencies.join(", ")]}),I.updated_by_name&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(pn,{className:"w-3 h-3"}),I.updated_by_name]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>_(I),className:`relative inline-flex h-7 w-14 items-center rounded-full transition-colors ${I.is_enabled?"bg-green-500":"bg-gray-300"}`,children:a.jsx("span",{className:`inline-flex items-center justify-center h-5 w-5 transform rounded-full bg-white shadow transition-transform ${I.is_enabled?"translate-x-8":"translate-x-1"}`,children:I.is_enabled?a.jsx(iu,{className:"w-3 h-3 text-green-500"}):a.jsx(jr,{className:"w-3 h-3 text-gray-400"})})}),a.jsx("button",{onClick:()=>F(I),className:"p-2 text-gray-500 hover:bg-gray-100 rounded",title:"Edit",children:a.jsx(Lo,{className:"w-4 h-4"})}),!I.is_kill_switch&&a.jsx("button",{onClick:()=>O(I),className:"p-2 text-red-500 hover:bg-red-50 rounded",title:"Delete",children:a.jsx(mo,{className:"w-4 h-4"})})]})]})},I.id))})]},R)}),Object.keys(e).length===0&&a.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:"No feature toggles found"})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx("h2",{className:"text-lg font-semibold",children:o?"Edit Feature Toggle":"Create Feature Toggle"}),a.jsx("button",{onClick:()=>{u(!1),l(null)},className:"p-2 hover:bg-gray-100 rounded",children:a.jsx(jr,{})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[!o&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feature Key *"}),a.jsx("input",{type:"text",value:g.feature_key,onChange:R=>j({...g,feature_key:R.target.value.toLowerCase().replace(/\s+/g,"_")}),placeholder:"e.g., user_registration",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feature Name *"}),a.jsx("input",{type:"text",value:g.feature_name,onChange:R=>j({...g,feature_name:R.target.value}),placeholder:"e.g., User Registration",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:g.description,onChange:R=>j({...g,description:R.target.value}),rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsx("select",{value:g.category,onChange:R=>j({...g,category:R.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",children:Object.entries(N).map(([R,z])=>a.jsx("option",{value:R,children:z},R))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rollout %"}),a.jsx("input",{type:"number",min:"0",max:"100",value:g.rollout_percentage,onChange:R=>j({...g,rollout_percentage:Number(R.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dependencies (comma-separated feature keys)"}),a.jsx("input",{type:"text",value:g.dependencies,onChange:R=>j({...g,dependencies:R.target.value}),placeholder:"e.g., payment_gateway, user_registration",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:g.is_enabled,onChange:R=>j({...g,is_enabled:R.target.checked}),className:"w-4 h-4 text-orange-500 rounded focus:ring-orange-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Enabled by default"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:g.is_kill_switch,onChange:R=>j({...g,is_kill_switch:R.target.checked}),className:"w-4 h-4 text-red-500 rounded focus:ring-red-500"}),a.jsxs("span",{className:"text-sm text-red-700 flex items-center gap-1",children:[a.jsx(uo,{className:"w-3 h-3"}),"Kill-Switch"]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t",children:[a.jsx("button",{onClick:()=>{u(!1),l(null)},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:o?$:k,className:"px-4 py-2 text-white bg-orange-500 rounded-lg hover:bg-orange-600",children:o?"Update":"Create"})]})]})}),d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center gap-3 p-4 border-b bg-red-50",children:[a.jsx(V2,{className:"w-6 h-6 text-red-600"}),a.jsx("h2",{className:"text-lg font-semibold text-red-800",children:"Emergency Kill-Switch"})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Warning:"})," This will DISABLE ALL features in the selected category. Use only in emergency situations."]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Category"}),a.jsxs("select",{value:p,onChange:R=>m(R.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"",children:"Select a category..."}),r.map(R=>a.jsxs("option",{value:R.category,children:[N[R.category]||R.category," (",R.enabled," enabled)"]},R.category))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for Kill-Switch *"}),a.jsx("textarea",{value:x,onChange:R=>y(R.target.value),rows:2,placeholder:"Explain why this emergency action is needed...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t",children:[a.jsx("button",{onClick:()=>{f(!1),m(""),y("")},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:P,disabled:!p||!x,className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Activate Kill-Switch"})]})]})})]})}function Dle(){const[e,t]=b.useState(""),[r,n]=b.useState(),[s,i]=b.useState([]),[o,l]=b.useState(!1),[c,u]=b.useState(!0),[d,f]=b.useState(null),[p,m]=b.useState(null),[x,y]=b.useState([]);b.useEffect(()=>{h(),v(),g()},[]);const h=async()=>{try{u(!0);const w=await Gk.getAll({limit:100});i(w.data.products||w.data||[])}catch(w){console.error("Error loading products:",w)}finally{u(!1)}},v=async()=>{try{const w=await Mr.getMyQuota();m(w.data.quota)}catch(w){console.error("Error loading quota:",w)}},g=async()=>{try{const w=await Mr.getGenerations({type:"image",limit:5});y(w.data.generations||[])}catch(w){console.error("Error loading generations:",w)}},j=async()=>{var w,C;if(!e.trim()){ne.error("Please enter a prompt");return}if(p&&!p.canGenerate){ne.error("Daily quota exceeded");return}l(!0),f(null);try{const _=await Mr.generateImagePrompt({prompt:e.trim(),productId:r});_.data.success?(f(_.data.generation),m(_.data.quota),ne.success("Image prompt generated! Awaiting approval."),g()):ne.error(_.data.message||"Generation failed")}catch(_){console.error("Generation error:",_),ne.error(((C=(w=_.response)==null?void 0:w.data)==null?void 0:C.message)||"Failed to generate")}finally{l(!1)}},S=w=>{navigator.clipboard.writeText(w),ne.success("Copied to clipboard!")},N=w=>{const C={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C[w]||"bg-gray-100 text-gray-800"}`,children:w.charAt(0).toUpperCase()+w.slice(1)})};return a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(Ri,{className:"w-7 h-7 text-purple-600"}),"AI Image Generator"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Generate AI-powered image prompts for your products"})]}),p&&a.jsxs("div",{className:`mb-6 p-4 rounded-xl ${p.canGenerate?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Jk,{className:`w-5 h-5 ${p.canGenerate?"text-green-600":"text-red-600"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Daily Quota"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[p.used," / ",p.dailyLimit," requests used today"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.remaining}),a.jsx("p",{className:"text-sm text-gray-600",children:"remaining"})]})]}),a.jsx("div",{className:"mt-3 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all ${p.canGenerate?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(p.used/p.dailyLimit*100,100)}%`}})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Generate Image Prompt"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Product (Optional)"}),a.jsxs("select",{value:r||"",onChange:w=>n(w.target.value?parseInt(w.target.value):void 0),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",disabled:c,children:[a.jsx("option",{value:"",children:"No product selected"}),s.map(w=>a.jsxs("option",{value:w.id,children:[w.name," (",w.category,")"]},w.id))]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe the image you want"}),a.jsx("textarea",{value:e,onChange:w=>t(w.target.value),placeholder:"E.g., A modern minimalist product photo of a leather bag on a white marble surface with soft natural lighting...",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 min-h-[150px] resize-none",disabled:o})]}),a.jsx("button",{onClick:j,disabled:o||!e.trim()||p!==null&&!p.canGenerate,className:"w-full flex items-center justify-center gap-2 bg-purple-600 text-white py-3 px-4 rounded-xl font-medium hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:o?a.jsxs(a.Fragment,{children:[a.jsx(At,{className:"w-5 h-5 animate-spin"}),"Generating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tp,{className:"w-5 h-5"}),"Generate Image Prompt"]})})]}),d&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Ge,{className:"w-5 h-5 text-green-500"}),"Generated Prompt"]}),N(d.status)]}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:a.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:d.generated_content})}),d.generated_image_url&&a.jsx("div",{className:"mb-4 bg-gray-100 rounded-xl p-4 flex justify-center",children:a.jsx("img",{src:d.generated_image_url,alt:"Generated",className:"max-w-full max-h-96 rounded-lg shadow-md"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>S(d.generated_content),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[a.jsx(Xk,{className:"w-4 h-4"}),"Copy"]}),a.jsxs("button",{onClick:()=>{f(null),t("")},className:"flex items-center gap-2 px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:[a.jsx(Xe,{className:"w-4 h-4"}),"New Generation"]})]}),d.status==="pending"&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-2",children:[a.jsx(Ls,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-yellow-800",children:"This generation is pending approval. It will appear in the Approval Queue for review before being applied."})]})]})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Generations"}),x.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Ri,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No image prompts generated yet"})]}):a.jsx("div",{className:"space-y-4",children:x.map(w=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:new Date(w.created_at).toLocaleDateString()}),N(w.status)]}),a.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:w.prompt}),w.product_name&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Product: ",w.product_name]})]},w.id))})]}),a.jsxs("div",{className:"mt-6 bg-purple-50 rounded-2xl p-6 border border-purple-200",children:[a.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"How it works"}),a.jsxs("ul",{className:"space-y-2 text-sm text-purple-800",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-bold",children:"1."}),"Describe the image you want"]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-bold",children:"2."}),"AI generates a detailed prompt"]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-bold",children:"3."}),"Prompt awaits approval"]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-bold",children:"4."}),"Use approved prompt with image AI"]})]})]})]})]})]})}function Rle(){const[e,t]=b.useState(""),[r,n]=b.useState(),[s,i]=b.useState([]),[o,l]=b.useState(!1),[c,u]=b.useState(!0),[d,f]=b.useState(null),[p,m]=b.useState(null),[x,y]=b.useState([]),[h,v]=b.useState(""),[g,j]=b.useState(!1);b.useEffect(()=>{S(),N(),w()},[]),b.useEffect(()=>{d&&v(d.generated_content)},[d]);const S=async()=>{try{u(!0);const O=await Gk.getAll({limit:100});i(O.data.products||O.data||[])}catch(O){console.error("Error loading products:",O)}finally{u(!1)}},N=async()=>{try{const O=await Mr.getMyQuota();m(O.data.quota)}catch(O){console.error("Error loading quota:",O)}},w=async()=>{try{const O=await Mr.getGenerations({type:"description",limit:5});y(O.data.generations||[])}catch(O){console.error("Error loading generations:",O)}},C=async()=>{var O,F;if(!e.trim()){ne.error("Please enter a prompt");return}if(p&&!p.canGenerate){ne.error("Daily quota exceeded");return}l(!0),f(null),j(!1);try{const B=await Mr.generateDescription({prompt:e.trim(),productId:r});B.data.success?(f(B.data.generation),m(B.data.quota),ne.success("Description generated! Awaiting approval."),w()):ne.error(B.data.message||"Generation failed")}catch(B){console.error("Generation error:",B),ne.error(((F=(O=B.response)==null?void 0:O.data)==null?void 0:F.message)||"Failed to generate")}finally{l(!1)}},_=O=>{if(n(O),O){const F=s.find(B=>B.id===O);F&&t(`Write a compelling product description for "${F.name}" in the ${F.category} category.`)}},P=O=>{navigator.clipboard.writeText(O),ne.success("Copied to clipboard!")},k=O=>{const F={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"};return a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${F[O]||"bg-gray-100 text-gray-800"}`,children:O.charAt(0).toUpperCase()+O.slice(1)})},$=r?s.find(O=>O.id===r):null;return a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(gn,{className:"w-7 h-7 text-blue-600"}),"AI Description Generator"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Generate AI-powered product descriptions"})]}),p&&a.jsxs("div",{className:`mb-6 p-4 rounded-xl ${p.canGenerate?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Jk,{className:`w-5 h-5 ${p.canGenerate?"text-green-600":"text-red-600"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Daily Quota"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[p.used," / ",p.dailyLimit," requests used today"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.remaining}),a.jsx("p",{className:"text-sm text-gray-600",children:"remaining"})]})]}),a.jsx("div",{className:"mt-3 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all ${p.canGenerate?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(p.used/p.dailyLimit*100,100)}%`}})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Generate Description"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Product (Recommended)"}),a.jsxs("select",{value:r||"",onChange:O=>_(O.target.value?parseInt(O.target.value):void 0),className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:c,children:[a.jsx("option",{value:"",children:"No product selected"}),s.map(O=>a.jsxs("option",{value:O.id,children:[O.name," (",O.category,")"]},O.id))]})]}),$&&a.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-blue-900",children:$.name}),a.jsxs("p",{className:"text-xs text-blue-700",children:["Category: ",$.category]}),$.description&&a.jsxs("p",{className:"text-xs text-blue-600 mt-1 line-clamp-2",children:["Current: ",$.description]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe what you want"}),a.jsx("textarea",{value:e,onChange:O=>t(O.target.value),placeholder:"E.g., Write a compelling product description highlighting the premium materials, craftsmanship, and benefits...",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[120px] resize-none",disabled:o})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Quick prompts:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Professional & detailed","Short & catchy","SEO optimized","Luxury focus","Benefits focused"].map(O=>a.jsx("button",{onClick:()=>t(`${e?e+". ":""}Write in a ${O.toLowerCase()} style.`),className:"px-3 py-1.5 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-gray-200 transition-colors",children:O},O))})]}),a.jsx("button",{onClick:C,disabled:o||!e.trim()||p!==null&&!p.canGenerate,className:"w-full flex items-center justify-center gap-2 bg-blue-600 text-white py-3 px-4 rounded-xl font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:o?a.jsxs(a.Fragment,{children:[a.jsx(At,{className:"w-5 h-5 animate-spin"}),"Generating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Tp,{className:"w-5 h-5"}),"Generate Description"]})})]}),d&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Ge,{className:"w-5 h-5 text-green-500"}),"Generated Description"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[d.tokens_used&&a.jsxs("span",{className:"text-xs text-gray-500",children:[d.tokens_used," tokens"]}),k(d.status)]})]}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:g?a.jsx("textarea",{value:h,onChange:O=>v(O.target.value),className:"w-full min-h-[200px] p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):a.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:h})}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsxs("button",{onClick:()=>P(h),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[a.jsx(Xk,{className:"w-4 h-4"}),"Copy"]}),a.jsxs("button",{onClick:()=>j(!g),className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[a.jsx(C$,{className:"w-4 h-4"}),g?"Done Editing":"Edit"]}),a.jsxs("button",{onClick:()=>{f(null),t(""),j(!1)},className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[a.jsx(Xe,{className:"w-4 h-4"}),"New Generation"]})]}),d.status==="pending"&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-2",children:[a.jsx(Ls,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-yellow-800",children:"This description is pending approval. Go to the Approval Queue to approve and apply it to the product."})]})]})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Descriptions"}),x.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(gn,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{children:"No descriptions generated yet"})]}):a.jsx("div",{className:"space-y-4",children:x.map(O=>a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:new Date(O.created_at).toLocaleDateString()}),k(O.status)]}),a.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:O.generated_content}),O.product_name&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Product: ",O.product_name]})]},O.id))})]}),a.jsxs("div",{className:"mt-6 bg-blue-50 rounded-2xl p-6 border border-blue-200",children:[a.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Tips"}),a.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[a.jsx("li",{children:" Select a product for context"}),a.jsx("li",{children:" Be specific about tone & style"}),a.jsx("li",{children:" Mention key features to highlight"}),a.jsx("li",{children:" Review and edit before approval"}),a.jsx("li",{children:" No auto-publishing - approval required"})]})]})]})]})]})}function Ile(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState({page:1,limit:10,total:0,totalPages:0}),[o,l]=b.useState("pending"),[c,u]=b.useState(""),[d,f]=b.useState(null),[p,m]=b.useState(!1),[x,y]=b.useState(!1),[h,v]=b.useState(""),[g,j]=b.useState(!1);b.useEffect(()=>{S()},[s.page,o,c]);const S=async()=>{try{n(!0);const k=await Mr.getGenerations({page:s.page,limit:s.limit,status:o||void 0,type:c||void 0});t(k.data.generations||[]),i($=>({...$,...k.data.pagination}))}catch(k){console.error("Error loading generations:",k),ne.error("Failed to load generations")}finally{n(!1)}},N=async(k,$)=>{var O,F;m(!0);try{const B=await Mr.approve(k.id,$);B.data.success?(ne.success("Generation approved successfully!"),S(),f(null)):ne.error(B.data.message||"Approval failed")}catch(B){ne.error(((F=(O=B.response)==null?void 0:O.data)==null?void 0:F.message)||"Failed to approve")}finally{m(!1)}},w=async()=>{var k,$;if(!d||!h.trim()){ne.error("Please provide a rejection reason");return}y(!0);try{const O=await Mr.reject(d.id,h);O.data.success?(ne.success("Generation rejected"),S(),f(null),j(!1),v("")):ne.error(O.data.message||"Rejection failed")}catch(O){ne.error((($=(k=O.response)==null?void 0:k.data)==null?void 0:$.message)||"Failed to reject")}finally{y(!1)}},C=k=>{const $={pending:{icon:xn,bg:"bg-yellow-100",text:"text-yellow-800"},approved:{icon:Ge,bg:"bg-green-100",text:"text-green-800"},rejected:{icon:Ft,bg:"bg-red-100",text:"text-red-800"}},{icon:O,bg:F,text:B}=$[k]||$.pending;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium rounded-full ${F} ${B}`,children:[a.jsx(O,{className:"w-3.5 h-3.5"}),k.charAt(0).toUpperCase()+k.slice(1)]})},_=k=>{const $={image:{icon:Ri,bg:"bg-purple-100",text:"text-purple-800"},description:{icon:gn,bg:"bg-blue-100",text:"text-blue-800"}},{icon:O,bg:F,text:B}=$[k]||{icon:gn,bg:"bg-gray-100",text:"text-gray-800"};return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 text-xs font-medium rounded-full ${F} ${B}`,children:[a.jsx(O,{className:"w-3.5 h-3.5"}),k.charAt(0).toUpperCase()+k.slice(1)]})},P=e.filter(k=>k.status==="pending").length;return a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(xn,{className:"w-7 h-7 text-yellow-600"}),"AI Approval Queue"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve AI-generated content"})]}),a.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[a.jsx(Xe,{className:"w-4 h-4"}),"Refresh"]})]}),o==="pending"&&P>0&&a.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl flex items-center gap-3",children:[a.jsx(Ls,{className:"w-5 h-5 text-yellow-600"}),a.jsxs("p",{className:"text-yellow-800",children:[a.jsxs("span",{className:"font-semibold",children:[P," items"]})," awaiting your approval"]})]}),a.jsx("div",{className:"mb-6 bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kc,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),a.jsxs("select",{value:o,onChange:k=>{l(k.target.value),i($=>({...$,page:1}))},className:"px-3 py-2 rounded-lg border border-gray-300 text-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"})]}),a.jsxs("select",{value:c,onChange:k=>{u(k.target.value),i($=>({...$,page:1}))},className:"px-3 py-2 rounded-lg border border-gray-300 text-sm focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"image",children:"Image Prompts"}),a.jsx("option",{value:"description",children:"Descriptions"})]})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:r?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(At,{className:"w-8 h-8 animate-spin text-gray-400"})}):e.length===0?a.jsxs("div",{className:"text-center py-20 text-gray-500",children:[a.jsx(Ge,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-lg font-medium",children:"No items found"}),a.jsx("p",{className:"text-sm",children:"Adjust your filters or wait for new generations"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Type"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Content Preview"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Product"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Requester"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(k=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:_(k.type)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("p",{className:"text-sm text-gray-700 max-w-xs truncate",children:k.generated_content})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-gray-700",children:k.product_name||""})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-gray-700",children:k.requester_name||"Unknown"})}),a.jsx("td",{className:"px-6 py-4",children:C(k.status)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-gray-500",children:new Date(k.created_at).toLocaleDateString()})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>f(k),className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details",children:a.jsx(ar,{className:"w-4 h-4"})}),k.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>N(k),disabled:p,className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-lg transition-colors",title:"Approve",children:a.jsx(Ge,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{f(k),j(!0)},className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors",title:"Reject",children:a.jsx(Ft,{className:"w-4 h-4"})})]})]})})]},k.id))})]})}),s.totalPages>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",(s.page-1)*s.limit+1," to"," ",Math.min(s.page*s.limit,s.total)," of ",s.total]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>i(k=>({...k,page:k.page-1})),disabled:s.page===1,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:a.jsx(hn,{className:"w-4 h-4"})}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",s.page," of ",s.totalPages]}),a.jsx("button",{onClick:()=>i(k=>({...k,page:k.page+1})),disabled:s.page===s.totalPages,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:a.jsx(mn,{className:"w-4 h-4"})})]})]})]})}),d&&!g&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Generation Details"}),a.jsx("button",{onClick:()=>f(null),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:a.jsx(Ft,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[_(d.type),C(d.status)]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Original Prompt"}),a.jsx("p",{className:"text-gray-800 bg-gray-50 p-3 rounded-lg",children:d.prompt})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Generated Content"}),a.jsx("div",{className:"text-gray-800 bg-gray-50 p-3 rounded-lg whitespace-pre-wrap",children:d.generated_content})]}),d.generated_image_url&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Generated Image"}),a.jsx("div",{className:"bg-gray-100 rounded-lg p-3 flex justify-center",children:a.jsx("img",{src:d.generated_image_url,alt:"Generated",className:"max-w-full max-h-96 rounded shadow-md"})})]}),d.product_name&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Product"}),a.jsx("p",{className:"text-gray-800",children:d.product_name})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Requested By"}),a.jsx("p",{className:"text-gray-800",children:d.requester_name||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date"}),a.jsx("p",{className:"text-gray-800",children:new Date(d.created_at).toLocaleString()})]})]}),d.tokens_used&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Tokens Used"}),a.jsx("p",{className:"text-gray-800",children:d.tokens_used})]}),d.cost_usd&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Cost"}),a.jsxs("p",{className:"text-gray-800",children:["$",d.cost_usd.toFixed(4)]})]})]})]}),d.status==="pending"&&a.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>N(d),disabled:p,className:"flex-1 flex items-center justify-center gap-2 bg-green-600 text-white py-3 px-4 rounded-xl font-medium hover:bg-green-700 disabled:bg-gray-300 transition-colors",children:[p?a.jsx(At,{className:"w-5 h-5 animate-spin"}):a.jsx(Ge,{className:"w-5 h-5"}),"Approve"]}),a.jsxs("button",{onClick:()=>j(!0),className:"flex-1 flex items-center justify-center gap-2 bg-red-600 text-white py-3 px-4 rounded-xl font-medium hover:bg-red-700 transition-colors",children:[a.jsx(Ft,{className:"w-5 h-5"}),"Reject"]})]})]})}),g&&d&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Reject Generation"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Please provide a reason for rejection"})]}),a.jsx("div",{className:"p-6",children:a.jsx("textarea",{value:h,onChange:k=>v(k.target.value),placeholder:"Enter rejection reason...",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-red-500 focus:border-red-500 min-h-[120px]"})}),a.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center gap-3",children:[a.jsx("button",{onClick:()=>{j(!1),v("")},className:"flex-1 py-3 px-4 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:w,disabled:x||!h.trim(),className:"flex-1 flex items-center justify-center gap-2 bg-red-600 text-white py-3 px-4 rounded-xl font-medium hover:bg-red-700 disabled:bg-gray-300 transition-colors",children:[x?a.jsx(At,{className:"w-5 h-5 animate-spin"}):a.jsx(Ft,{className:"w-5 h-5"}),"Reject"]})]})]})})]})}function Lle(){var G,I;const[e,t]=b.useState(!0),[r,n]=b.useState([]),[s,i]=b.useState(0),[o,l]=b.useState(0),[c,u]=b.useState([]),[d,f]=b.useState([]),[p,m]=b.useState({start:"",end:""}),[x,y]=b.useState({startDate:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[h,v]=b.useState(null),[g,j]=b.useState(!1),[S,N]=b.useState(!1),[w,C]=b.useState("");b.useEffect(()=>{_(),P()},[]);const _=async()=>{try{t(!0);const T=await Mr.getUsageStats({startDate:x.startDate,endDate:x.endDate});n(T.data.stats||[]),i(T.data.totalCost||0),l(T.data.totalRequests||0),u(T.data.topUsers||[]),f(T.data.statusBreakdown||[]),m(T.data.period||{start:"",end:""})}catch(T){console.error("Error loading stats:",T),ne.error("Failed to load usage statistics")}finally{t(!1)}},P=async()=>{try{const T=await Mr.getSettings();v(T.data.settings)}catch(T){console.error("Error loading settings:",T)}},k=async()=>{var T,E;if(h){N(!0);try{const U={daily_quota_per_user:h.daily_quota_per_user,image_generation_enabled:h.image_generation_enabled,description_generation_enabled:h.description_generation_enabled,auto_approval_enabled:h.auto_approval_enabled,cost_per_image_usd:h.cost_per_image_usd,cost_per_1k_tokens_usd:h.cost_per_1k_tokens_usd};w.trim()&&(U.gemini_api_key=w),await Mr.updateSettings(U),ne.success("Settings saved successfully"),j(!1),C("")}catch(U){ne.error(((E=(T=U.response)==null?void 0:T.data)==null?void 0:E.message)||"Failed to save settings")}finally{N(!1)}}},$=r.reduce((T,E)=>T+(E.image_requests||0),0),O=r.reduce((T,E)=>T+(E.description_requests||0),0),F=o>0?(r.reduce((T,E)=>T+(E.successful_requests||0),0)/o*100).toFixed(1):"0",B=[...r].reverse().map(T=>({date:new Date(T.usage_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),requests:T.total_requests,cost:T.total_cost_usd,tokens:T.total_tokens})),R=[{name:"Image",value:$,color:"#8b5cf6"},{name:"Description",value:O,color:"#3b82f6"}].filter(T=>T.value>0),z=d.map(T=>({name:T.status.charAt(0).toUpperCase()+T.status.slice(1),value:T.count,color:T.status==="approved"?"#22c55e":T.status==="rejected"?"#ef4444":"#f59e0b"}));return e?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(At,{className:"w-8 h-8 animate-spin text-gray-400"})}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(Yk,{className:"w-7 h-7 text-indigo-600"}),"AI Usage Dashboard"]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor AI usage, costs, and performance"})]}),a.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[a.jsx(Qd,{className:"w-4 h-4"}),"Settings"]})]}),a.jsx("div",{className:"mb-6 bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qn,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date Range:"})]}),a.jsx("input",{type:"date",value:x.startDate,onChange:T=>y(E=>({...E,startDate:T.target.value})),className:"px-3 py-2 rounded-lg border border-gray-300 text-sm"}),a.jsx("span",{className:"text-gray-500",children:"to"}),a.jsx("input",{type:"date",value:x.endDate,onChange:T=>y(E=>({...E,endDate:T.target.value})),className:"px-3 py-2 rounded-lg border border-gray-300 text-sm"}),a.jsx("button",{onClick:_,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors",children:"Apply"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center",children:a.jsx(Tp,{className:"w-6 h-6 text-indigo-600"})}),a.jsx(Mp,{className:"w-5 h-5 text-green-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:a.jsx(No,{className:"w-6 h-6 text-green-600"})}),a.jsx($p,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",s.toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Cost"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-5",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:a.jsx(Ge,{className:"w-6 h-6 text-purple-600"})})}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[F,"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-5",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:a.jsx(Ii,{className:"w-6 h-6 text-blue-600"})})}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Requests Over Time"}),B.length>0?a.jsx(ui,{width:"100%",height:300,children:a.jsxs(JP,{data:B,children:[a.jsx($c,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),a.jsx(Ta,{dataKey:"date",fontSize:12}),a.jsx($a,{fontSize:12}),a.jsx(zt,{}),a.jsx(Io,{type:"monotone",dataKey:"requests",stroke:"#6366f1",strokeWidth:2,dot:{fill:"#6366f1"}})]})}):a.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:"No data available"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cost Over Time"}),B.length>0?a.jsx(ui,{width:"100%",height:300,children:a.jsxs(ZP,{data:B,children:[a.jsx($c,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),a.jsx(Ta,{dataKey:"date",fontSize:12}),a.jsx($a,{fontSize:12,tickFormatter:T=>`$${T}`}),a.jsx(zt,{formatter:T=>`$${T.toFixed(4)}`}),a.jsx(Wa,{dataKey:"cost",fill:"#22c55e",radius:[4,4,0,0]})]})}):a.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:"No data available"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"By Type"}),R.length>0?a.jsxs(a.Fragment,{children:[a.jsx(ui,{width:"100%",height:200,children:a.jsxs(D2,{children:[a.jsx(bn,{data:R,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:R.map((T,E)=>a.jsx(ac,{fill:T.color},`cell-${E}`))}),a.jsx(zt,{})]})}),a.jsx("div",{className:"flex justify-center gap-4 mt-4",children:R.map((T,E)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),a.jsxs("span",{className:"text-sm text-gray-600",children:[T.name,": ",T.value]})]},E))})]}):a.jsx("div",{className:"flex items-center justify-center h-[200px] text-gray-500",children:"No data available"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"By Status"}),z.length>0?a.jsxs(a.Fragment,{children:[a.jsx(ui,{width:"100%",height:200,children:a.jsxs(D2,{children:[a.jsx(bn,{data:z,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:z.map((T,E)=>a.jsx(ac,{fill:T.color},`cell-${E}`))}),a.jsx(zt,{})]})}),a.jsx("div",{className:"flex justify-center gap-4 mt-4 flex-wrap",children:z.map((T,E)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),a.jsxs("span",{className:"text-sm text-gray-600",children:[T.name,": ",T.value]})]},E))})]}):a.jsx("div",{className:"flex items-center justify-center h-[200px] text-gray-500",children:"No data available"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ri,{className:"w-5 h-5 text-purple-600"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Image Prompts"})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:$})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gn,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Descriptions"})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:O})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ge,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Approved"})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:((G=d.find(T=>T.status==="approved"))==null?void 0:G.count)||0})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xn,{className:"w-5 h-5 text-yellow-600"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Pending"})]}),a.jsx("span",{className:"font-semibold text-gray-900",children:((I=d.find(T=>T.status==="pending"))==null?void 0:I.count)||0})]})]})]})]}),c.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Users"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"User"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Email"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Requests"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Cost"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map((T,E)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:T.name}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:T.email}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:T.total_requests}),a.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:["$",(T.total_cost||0).toFixed(4)]})]},E))})]})})]}),g&&h&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(Qd,{className:"w-5 h-5"}),"AI Settings"]}),a.jsx("button",{onClick:()=>j(!1),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:a.jsx(Ft,{className:"w-5 h-5"})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gemini API Key"}),a.jsx("input",{type:"password",value:w,onChange:T=>C(T.target.value),placeholder:"Leave blank to keep current key",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Daily Quota per User"}),a.jsx("input",{type:"number",value:h.daily_quota_per_user,onChange:T=>v({...h,daily_quota_per_user:parseInt(T.target.value)||100}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg cursor-pointer",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Image Generation Enabled"}),a.jsx("input",{type:"checkbox",checked:h.image_generation_enabled,onChange:T=>v({...h,image_generation_enabled:T.target.checked}),className:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg cursor-pointer",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Description Generation Enabled"}),a.jsx("input",{type:"checkbox",checked:h.description_generation_enabled,onChange:T=>v({...h,description_generation_enabled:T.target.checked}),className:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500"})]}),a.jsxs("label",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Auto-Approval"}),a.jsx("p",{className:"text-xs text-yellow-700",children:"Not recommended"})]}),a.jsx("input",{type:"checkbox",checked:h.auto_approval_enabled,onChange:T=>v({...h,auto_approval_enabled:T.target.checked}),className:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost per Image ($)"}),a.jsx("input",{type:"number",step:"0.001",value:h.cost_per_image_usd||.02,onChange:T=>v({...h,cost_per_image_usd:parseFloat(T.target.value)||.02}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost per 1K Tokens ($)"}),a.jsx("input",{type:"number",step:"0.0001",value:h.cost_per_1k_tokens_usd||.001,onChange:T=>v({...h,cost_per_1k_tokens_usd:parseFloat(T.target.value)||.001}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-2",children:[a.jsx(Ls,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-yellow-800",children:"Changes will take effect immediately. Auto-approval bypasses manual review."})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center gap-3",children:[a.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-3 px-4 border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:k,disabled:S,className:"flex-1 flex items-center justify-center gap-2 bg-indigo-600 text-white py-3 px-4 rounded-xl font-medium hover:bg-indigo-700 disabled:bg-gray-300 transition-colors",children:[S?a.jsx(At,{className:"w-5 h-5 animate-spin"}):a.jsx(E$,{className:"w-5 h-5"}),"Save Settings"]})]})]})})]})}const Y2=[{path:"/dashboard",label:"Dashboard",icon:b$},{section:"Catalog Management"},{path:"/categories",label:"Categories",icon:v$},{path:"/products",label:"Products",icon:xr},{path:"/inventory",label:"Inventory",icon:m$},{section:"Orders & Fulfillment"},{path:"/orders",label:"Orders",icon:e4},{path:"/shipments",label:"Shipments",icon:Qx},{path:"/returns",label:"Returns",icon:A$},{path:"/refunds",label:"Refunds",icon:No},{path:"/replacements",label:"Replacements",icon:Xe},{section:"Payments & Invoicing"},{path:"/payments",label:"Payment Logs",icon:Qk},{path:"/invoices",label:"Invoices",icon:gn},{section:"Support & Communication"},{path:"/tickets",label:"Tickets",icon:Ni},{path:"/notifications",label:"Notifications",icon:ms},{path:"/notification-templates",label:"Templates",icon:g$},{path:"/event-rules",label:"Event Rules",icon:I$},{path:"/campaigns",label:"Campaigns",icon:w$},{section:"AI Features"},{path:"/ai/image-generator",label:"Image Generator",icon:Ri},{path:"/ai/description-generator",label:"Description Gen",icon:gn},{path:"/ai/approval-queue",label:"Approval Queue",icon:x$},{path:"/ai/usage-dashboard",label:"AI Analytics",icon:Tp},{section:"Customers"},{path:"/users",label:"Customers",icon:Ii},{path:"/stores",label:"Stores",icon:Yx},{section:"Admin Management"},{path:"/roles",label:"Roles & Access",icon:T$},{path:"/admin-users",label:"Admin Users",icon:D$},{path:"/sessions",label:"Sessions",icon:S$},{path:"/activity-logs",label:"Activity Logs",icon:xd},{section:"Reports & System"},{path:"/reports",label:"Reports",icon:h$},{path:"/audit-logs",label:"Audit Logs",icon:y$},{path:"/feature-toggles",label:"Feature Toggles",icon:Xx},{section:"divider"},{path:"/settings",label:"Settings",icon:Qd}];function Fle({isOpen:e,isMobileOpen:t,onClose:r}){const n=Is();return a.jsxs(a.Fragment,{children:[a.jsxs("aside",{className:be("fixed left-0 top-0 z-30 h-full bg-white shadow-lg transition-all duration-300 hidden lg:flex flex-col overflow-y-auto border-r border-gray-200",e?"w-64":"w-20"),children:[a.jsx("div",{className:"flex items-center justify-center h-16 border-b border-gray-200 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(Ca,{className:"w-5 h-5 text-white"})}),e&&a.jsx("span",{className:"font-bold text-lg text-gray-900",children:"EcomAdmin"})]})}),a.jsx("nav",{className:"p-4 space-y-1 flex-1 overflow-y-auto",children:Y2.map((s,i)=>{if("section"in s)return s.section==="divider"?a.jsx("div",{className:"my-3 border-t border-gray-200"},i):e?a.jsx("div",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mt-4",children:s.section},i):a.jsx("div",{className:"my-3 border-t border-gray-200"},i);const o=n.pathname===s.path,l=s.icon;return a.jsxs(Ss,{to:s.path,className:be("flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200",o?"bg-primary text-white shadow-md shadow-primary/30 font-semibold":"text-gray-600 hover:bg-gray-100 font-medium",!e&&"justify-center"),title:e?void 0:s.label,children:[l&&a.jsx(l,{className:"w-5 h-5 flex-shrink-0"}),e&&a.jsx("span",{className:"truncate",children:s.label})]},s.path)})})]}),a.jsxs("aside",{className:be("fixed left-0 top-0 z-50 h-full w-64 bg-white shadow-2xl transition-transform duration-300 lg:hidden flex flex-col overflow-y-auto border-r border-gray-200",t?"translate-x-0":"-translate-x-full"),children:[a.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(Ca,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"font-bold text-lg text-gray-900",children:"EcomAdmin"})]}),a.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-600 transition-colors flex-shrink-0",title:"Close menu",children:a.jsx(sr,{className:"w-5 h-5"})})]}),a.jsx("nav",{className:"p-4 space-y-1 flex-1 overflow-y-auto",children:Y2.map((s,i)=>{if("section"in s)return s.section==="divider"?a.jsx("div",{className:"my-3 border-t border-gray-200"},i):a.jsx("div",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mt-4",children:s.section},i);const o=n.pathname===s.path,l=s.icon;return a.jsxs(Ss,{to:s.path,onClick:r,className:be("flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium",o?"bg-primary text-white shadow-md shadow-primary/30 font-semibold":"text-gray-600 hover:bg-gray-100"),children:[l&&a.jsx(l,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:s.label})]},s.path)})})]})]})}function Ble({onMenuClick:e,onToggleSidebar:t,sidebarOpen:r}){var m;const n=jo(),{admin:s,logout:i}=Iy(),[o,l]=b.useState(!1),[c,u]=b.useState(!1),d=b.useRef(null),f=b.useRef(null);b.useEffect(()=>{function x(y){d.current&&!d.current.contains(y.target)&&l(!1),f.current&&!f.current.contains(y.target)&&u(!1)}return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=async()=>{await i(),n("/login")};return a.jsx("header",{className:"fixed top-0 right-0 left-0 lg:left-auto z-20 bg-white border-b border-gray-200 h-16 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between h-full px-3 sm:px-4 md:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4 flex-1 min-w-0",children:[a.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors lg:hidden flex-shrink-0",title:"Open menu",children:a.jsx(N$,{className:"w-5 h-5 text-gray-600"})}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors hidden lg:flex flex-shrink-0",title:"Toggle sidebar",children:r?a.jsx(_$,{className:"w-5 h-5 text-gray-600"}):a.jsx(k$,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gray-100 rounded-lg px-3 sm:px-4 py-2 flex-1 max-w-xs",children:[a.jsx(jn,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),a.jsx("input",{type:"text",placeholder:"Search...",className:"bg-transparent border-none outline-none text-sm w-full placeholder-gray-400"})]})]}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsxs("div",{ref:f,className:"relative",children:[a.jsxs("button",{onClick:()=>u(!c),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors flex-shrink-0",title:"Notifications",children:[a.jsx(ms,{className:"w-5 h-5 text-gray-600"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),c&&a.jsxs("div",{className:"absolute right-0 mt-2 w-72 sm:w-80 bg-white rounded-xl shadow-xl border border-gray-200 py-2 z-50",children:[a.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:a.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:"Notifications"})}),a.jsxs("div",{className:"max-h-72 overflow-y-auto",children:[a.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors border-b border-gray-50",children:[a.jsx("p",{className:"text-sm text-gray-800",children:"New order #1234"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"2 minutes ago"})]}),a.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors border-b border-gray-50",children:[a.jsx("p",{className:"text-sm text-gray-800",children:"Product stock low: iPhone 15"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1 hour ago"})]}),a.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors",children:[a.jsx("p",{className:"text-sm text-gray-800",children:"New user registered"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3 hours ago"})]})]}),a.jsx("div",{className:"px-4 py-3 border-t border-gray-100",children:a.jsx("button",{className:"text-sm text-primary font-medium hover:text-primary/80 transition-colors",children:"View all notifications"})})]})]}),a.jsxs("div",{ref:d,className:"relative",children:[a.jsxs("button",{onClick:()=>l(!o),className:"flex items-center gap-2 sm:gap-3 p-2 rounded-lg hover:bg-gray-100 transition-colors flex-shrink-0",title:"User menu",children:[a.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:((m=s==null?void 0:s.name)==null?void 0:m.charAt(0).toUpperCase())||"A"})}),a.jsxs("div",{className:"hidden sm:block text-left min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:(s==null?void 0:s.name)||"Admin"}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:(s==null?void 0:s.role)||"Administrator"})]})]}),o&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-gray-200 py-2 z-50",children:[a.jsxs("button",{onClick:()=>{l(!1),n("/settings")},className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(n4,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:"Profile"})]}),a.jsxs("button",{onClick:()=>{l(!1),n("/settings")},className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(Qd,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:"Settings"})]}),a.jsx("hr",{className:"my-2 border-gray-100"}),a.jsxs("button",{onClick:p,className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(j$,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:"Logout"})]})]})]})]})]})})}function Ule(){const[e,t]=b.useState(!0),[r,n]=b.useState(!1);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[r&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm lg:hidden transition-opacity",onClick:()=>n(!1)}),a.jsx(Fle,{isOpen:e,isMobileOpen:r,onClose:()=>n(!1)}),a.jsxs("div",{className:`min-h-screen transition-all duration-300 ${e?"lg:ml-64":"lg:ml-20"}`,children:[a.jsx(Ble,{onMenuClick:()=>n(!0),onToggleSidebar:()=>t(!e),sidebarOpen:e}),a.jsx("main",{className:"pt-20 pb-8 px-3 sm:px-4 md:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx(A6,{})})})]})]})}function zle(){return a.jsx(B6,{children:a.jsxs(u$,{children:[a.jsx(TT,{position:"top-right"}),a.jsxs(T6,{children:[a.jsx(we,{path:"/login",element:a.jsx(gM,{})}),a.jsx(we,{path:"/forgot-password",element:a.jsx(yM,{})}),a.jsx(we,{path:"/reset-password",element:a.jsx(vM,{})}),a.jsxs(we,{path:"/",element:a.jsx(d$,{children:a.jsx(Ule,{})}),children:[a.jsx(we,{index:!0,element:a.jsx(Mx,{to:"/dashboard",replace:!0})}),a.jsx(we,{path:"dashboard",element:a.jsx(Soe,{})}),a.jsx(we,{path:"categories",element:a.jsx(koe,{})}),a.jsx(we,{path:"products",element:a.jsx(_oe,{})}),a.jsx(we,{path:"inventory",element:a.jsx(Coe,{})}),a.jsx(we,{path:"orders",element:a.jsx(Aoe,{})}),a.jsx(we,{path:"shipments",element:a.jsx(Eoe,{})}),a.jsx(we,{path:"returns",element:a.jsx(Toe,{})}),a.jsx(we,{path:"refunds",element:a.jsx($oe,{})}),a.jsx(we,{path:"replacements",element:a.jsx(Moe,{})}),a.jsx(we,{path:"tickets",element:a.jsx(Doe,{})}),a.jsx(we,{path:"payments",element:a.jsx(Nle,{})}),a.jsx(we,{path:"invoices",element:a.jsx(Sle,{})}),a.jsx(we,{path:"notifications",element:a.jsx(Cle,{})}),a.jsx(we,{path:"notification-templates",element:a.jsx(Ole,{})}),a.jsx(we,{path:"event-rules",element:a.jsx(Ple,{})}),a.jsx(we,{path:"campaigns",element:a.jsx(Ale,{})}),a.jsx(we,{path:"users",element:a.jsx(Roe,{})}),a.jsx(we,{path:"stores",element:a.jsx(Loe,{})}),a.jsx(we,{path:"roles",element:a.jsx(xle,{})}),a.jsx(we,{path:"admin-users",element:a.jsx(gle,{})}),a.jsx(we,{path:"sessions",element:a.jsx(yle,{})}),a.jsx(we,{path:"activity-logs",element:a.jsx(jle,{})}),a.jsx(we,{path:"reports",element:a.jsx(Ele,{})}),a.jsx(we,{path:"audit-logs",element:a.jsx(Tle,{})}),a.jsx(we,{path:"feature-toggles",element:a.jsx(Mle,{})}),a.jsx(we,{path:"ai/image-generator",element:a.jsx(Dle,{})}),a.jsx(we,{path:"ai/description-generator",element:a.jsx(Rle,{})}),a.jsx(we,{path:"ai/approval-queue",element:a.jsx(Ile,{})}),a.jsx(we,{path:"ai/usage-dashboard",element:a.jsx(Lle,{})}),a.jsx(we,{path:"settings",element:a.jsx($le,{})})]}),a.jsx(we,{path:"*",element:a.jsx(Mx,{to:"/dashboard",replace:!0})})]})]})})}Bm.createRoot(document.getElementById("root")).render(a.jsx(W.StrictMode,{children:a.jsx(zle,{})}));
